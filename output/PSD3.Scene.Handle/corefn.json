{"builtWith":"0.15.15","comments":[{"LineComment":" | Scene Handle"},{"LineComment":" |"},{"LineComment":" | Opaque handle for scene-based visualizations."},{"LineComment":" | Wraps simulation + scene engine + transition state."},{"LineComment":" | User never sees Refs - just pure-looking Effect operations."},{"LineComment":" |"},{"LineComment":" | This is the high-level API for sophisticated visualizations with:"},{"LineComment":" | - Choreographed scene transitions (Init → Interpolate → Finalize)"},{"LineComment":" | - Node filtering (for focus/neighborhood views)"},{"LineComment":" | - GUP-style enter/exit animations"},{"LineComment":" |"},{"LineComment":" | Example usage:"},{"LineComment":" | ```purescript"},{"LineComment":" | -- Create handle with callbacks"},{"LineComment":" | handle <- Scene.create config callbacks nodes links renderFn"},{"LineComment":" |"},{"LineComment":" | -- Transition to a scene"},{"LineComment":" | Scene.transitionTo treeFormScene handle"},{"LineComment":" |"},{"LineComment":" | -- In your animation loop"},{"LineComment":" | continuing <- Scene.onTick handle"},{"LineComment":" | when continuing $ requestAnimationFrame (const $ ...)"},{"LineComment":" |"},{"LineComment":" | -- Clean up"},{"LineComment":" | Scene.destroy handle"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[253,29],"start":[253,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[253,29],"start":[253,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[254,41],"start":[254,3]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[254,41],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[254,41],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[320,32],"start":[320,16]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[320,32],"start":[320,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[320,32],"start":[320,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[320,38],"start":[320,35]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[320,56],"start":[320,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[320,50],"start":[320,46]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[320,55],"start":[320,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[223,7],"start":[223,3]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[223,74],"start":[223,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[223,74],"start":[223,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[223,25],"start":[223,9]}},"type":"Var","value":{"identifier":"toUnfoldable","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[223,32],"start":[223,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unfoldableArray","moduleName":["Data","Unfoldable"]}},"type":"App"},"identifier":"toUnfoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[225,9],"start":[225,5]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[225,14],"start":[225,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[368,7],"start":[368,3]}},"type":"Var","value":{"identifier":"when","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[368,52],"start":[368,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"when"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[368,28],"start":[368,26]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[368,51],"start":[368,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[368,32],"start":[368,29]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[368,51],"start":[368,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[205,22],"start":[205,3]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Foreign","Object"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[205,22],"start":[205,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"fromFoldable1"},{"annotation":{"meta":null,"sourceSpan":{"end":[94,86],"start":[94,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[94,86],"start":[94,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,86],"start":[94,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},"type":"Abs"},"identifier":"SceneHandle"},{"annotation":{"meta":null,"sourceSpan":{"end":[251,17],"start":[247,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[251,17],"start":[247,1]}},"argument":"scene","body":{"annotation":{"meta":null,"sourceSpan":{"end":[251,17],"start":[247,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[251,17],"start":[247,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[252,19],"start":[252,14]}},"binderType":"VarBinder","identifier":"scene1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[252,41],"start":[252,21]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[252,41],"start":[252,33]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[253,20],"start":[253,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[252,33]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,41],"start":[254,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[254,22],"start":[254,3]}},"type":"Var","value":{"identifier":"transitionTo","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[254,23]}},"type":"Var","value":{"identifier":"scene1","sourcePos":[252,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[254,41],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,41],"start":[254,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,34],"start":[254,29]}},"type":"Var","value":{"identifier":"state","sourcePos":[253,3]}},"fieldName":"engine","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[254,41],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,41],"start":[254,3]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[256,13],"start":[256,3]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[256,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[256,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[256,19],"start":[256,14]}},"type":"Var","value":{"identifier":"state","sourcePos":[253,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[252,1]}},"type":"Var","value":{"identifier":"scene","sourcePos":[252,14]}},{"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[252,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"transitionTo"},{"annotation":{"meta":null,"sourceSpan":{"end":[316,83],"start":[316,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[316,83],"start":[316,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[316,83],"start":[316,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[317,35],"start":[317,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,35],"start":[317,27]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[318,20],"start":[318,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[317,27]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[319,41],"start":[319,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[319,24],"start":[319,12]}},"type":"Var","value":{"identifier":"getNodes","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[319,41],"start":[319,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,41],"start":[319,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[319,30],"start":[319,25]}},"type":"Var","value":{"identifier":"state","sourcePos":[318,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,41],"start":[319,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,41],"start":[319,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[320,62],"start":[320,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[320,62],"start":[320,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[320,62],"start":[320,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[320,56],"start":[320,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[320,55],"start":[320,40]}},"argument":"n","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[320,55],"start":[320,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[320,55],"start":[320,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[320,52],"start":[320,51]}},"type":"Var","value":{"identifier":"n","sourcePos":[320,41]}},"fieldName":"id","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[320,62],"start":[320,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[320,62],"start":[320,57]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[319,3]}},"type":"App"},"type":"App"},"identifier":"allIds"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[321,14],"start":[321,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[321,46],"start":[321,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[321,45],"start":[321,16]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[321,45],"start":[321,16]}},"copy":["allNodes","callbacks","engine","linksGroupId","nodesGroupId","simulation"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["visibleNodeIds",{"annotation":{"meta":null,"sourceSpan":{"end":[321,43],"start":[321,37]}},"type":"Var","value":{"identifier":"allIds","sourcePos":[320,7]}}]]},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[321,55],"start":[321,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[321,55],"start":[321,47]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[317,27]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[321,55],"start":[317,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"showAllNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[219,92],"start":[219,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,92],"start":[219,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[221,20],"start":[221,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[221,24],"start":[221,21]}},"type":"Var","value":{"identifier":"sim","sourcePos":[220,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,3]}},"argument":"nodes","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,32],"start":[222,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[222,21],"start":[222,13]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,32],"start":[222,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,32],"start":[222,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[222,25],"start":[222,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[220,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[222,32],"start":[222,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,32],"start":[222,3]}},"argument":"forces","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,74],"start":[223,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"toUnfoldable","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,32],"start":[223,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,32],"start":[223,26]}},"type":"Var","value":{"identifier":"forces","sourcePos":[222,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,14],"start":[223,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,14],"start":[223,75]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[225,14],"start":[223,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[223,91],"start":[223,77]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,84],"start":[223,83]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[223,91],"start":[223,85]}},"binderType":"VarBinder","identifier":"handle"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,43],"start":[224,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[224,30],"start":[224,10]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,37],"start":[224,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,37],"start":[224,31]}},"type":"Var","value":{"identifier":"handle","sourcePos":[223,85]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,43],"start":[224,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,43],"start":[224,38]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[221,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,43],"start":[224,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,43],"start":[224,5]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,14],"start":[225,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[225,14],"start":[225,10]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"reinitializeForces"},{"annotation":{"meta":null,"sourceSpan":{"end":[391,77],"start":[391,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[391,77],"start":[391,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[391,77],"start":[391,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[392,29],"start":[392,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[392,29],"start":[392,21]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[393,29],"start":[393,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[393,20],"start":[393,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[393,29],"start":[393,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[393,29],"start":[393,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[392,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[393,29],"start":[393,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[393,29],"start":[393,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[394,13],"start":[394,3]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[394,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[394,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[394,19],"start":[394,14]}},"type":"Var","value":{"identifier":"state","sourcePos":[393,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[392,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"reheat"},{"annotation":{"meta":null,"sourceSpan":{"end":[359,80],"start":[359,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[359,80],"start":[359,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[359,80],"start":[359,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[360,29],"start":[360,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[360,29],"start":[360,21]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[361,29],"start":[361,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[361,20],"start":[361,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[361,29],"start":[361,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,29],"start":[361,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[360,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[361,29],"start":[361,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,29],"start":[361,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[364,58],"start":[364,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[364,45],"start":[364,23]}},"type":"Var","value":{"identifier":"isTransitioning","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[364,58],"start":[364,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[364,58],"start":[364,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[364,51],"start":[364,46]}},"type":"Var","value":{"identifier":"state","sourcePos":[361,3]}},"fieldName":"engine","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[364,58],"start":[364,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[364,58],"start":[364,3]}},"argument":"wasTransitioning","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[365,49],"start":[365,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[365,36],"start":[365,25]}},"type":"Var","value":{"identifier":"tick","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[365,49],"start":[365,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[365,49],"start":[365,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[365,42],"start":[365,37]}},"type":"Var","value":{"identifier":"state","sourcePos":[361,3]}},"fieldName":"engine","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[365,49],"start":[365,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[365,49],"start":[365,3]}},"argument":"stillTransitioning","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[369,41],"start":[368,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[368,52],"start":[368,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[368,51],"start":[368,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[368,25],"start":[368,9]}},"type":"Var","value":{"identifier":"wasTransitioning","sourcePos":[364,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[368,51],"start":[368,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[368,51],"start":[368,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[368,51],"start":[368,33]}},"type":"Var","value":{"identifier":"stillTransitioning","sourcePos":[365,3]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[369,41],"start":[368,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[369,41],"start":[369,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[369,41],"start":[369,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[369,10],"start":[369,5]}},"type":"Var","value":{"identifier":"state","sourcePos":[361,3]}},"fieldName":"callbacks","type":"Accessor"},"fieldName":"onTransitionComplete","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[369,41],"start":[368,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[369,41],"start":[368,3]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[371,26],"start":[371,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[371,26],"start":[371,8]}},"type":"Var","value":{"identifier":"stillTransitioning","sourcePos":[365,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[371,26],"start":[360,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"onTick"},{"annotation":{"meta":null,"sourceSpan":{"end":[259,89],"start":[259,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,89],"start":[259,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[259,89],"start":[259,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[260,38],"start":[260,18]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,38],"start":[260,30]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,29],"start":[261,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[261,20],"start":[261,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,29],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,29],"start":[261,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[260,30]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,29],"start":[261,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,29],"start":[261,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[262,25],"start":[262,3]}},"type":"Var","value":{"identifier":"isTransitioning","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[262,38],"start":[262,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,38],"start":[262,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,31],"start":[262,26]}},"type":"Var","value":{"identifier":"state","sourcePos":[261,3]}},"fieldName":"engine","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,38],"start":[260,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"isTransitioning"},{"annotation":{"meta":null,"sourceSpan":{"end":[270,27],"start":[267,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[270,27],"start":[267,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[270,27],"start":[267,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[271,44],"start":[271,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,36]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[272,29],"start":[272,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[272,20],"start":[272,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[272,29],"start":[272,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,29],"start":[272,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[271,36]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[272,29],"start":[272,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,29],"start":[272,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[273,31],"start":[273,3]}},"type":"Var","value":{"identifier":"getTransitionProgress","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,44],"start":[273,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,44],"start":[273,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[273,37],"start":[273,32]}},"type":"Var","value":{"identifier":"state","sourcePos":[272,3]}},"fieldName":"engine","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[273,44],"start":[271,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getTransitionProgress"},{"annotation":{"meta":null,"sourceSpan":{"end":[383,45],"start":[380,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[383,45],"start":[380,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[383,45],"start":[380,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[384,36],"start":[384,16]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[384,36],"start":[384,28]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,29],"start":[385,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[385,20],"start":[385,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,29],"start":[385,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,29],"start":[385,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[384,28]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,29],"start":[385,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,29],"start":[385,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[386,24],"start":[386,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[386,24],"start":[386,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[386,13],"start":[386,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[385,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[386,24],"start":[384,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getSimulation"},{"annotation":{"meta":null,"sourceSpan":{"end":[279,69],"start":[276,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[279,69],"start":[276,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[279,69],"start":[276,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[280,38],"start":[280,18]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[280,38],"start":[280,30]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[281,29],"start":[281,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[281,20],"start":[281,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[281,29],"start":[281,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[281,29],"start":[281,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[280,30]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[281,29],"start":[281,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[281,29],"start":[281,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[282,25],"start":[282,3]}},"type":"Var","value":{"identifier":"getCurrentScene","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[282,38],"start":[282,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,38],"start":[282,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[282,31],"start":[282,26]}},"type":"Var","value":{"identifier":"state","sourcePos":[281,3]}},"fieldName":"engine","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[282,38],"start":[280,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getCurrentScene"},{"annotation":{"meta":null,"sourceSpan":{"end":[292,49],"start":[289,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[292,49],"start":[289,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[292,49],"start":[289,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[293,34],"start":[293,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[293,34],"start":[293,26]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,29],"start":[294,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[294,20],"start":[294,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,29],"start":[294,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,29],"start":[294,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[293,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,29],"start":[294,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,29],"start":[294,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[295,15],"start":[295,3]}},"type":"Var","value":{"identifier":"getNodes","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,32],"start":[295,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,32],"start":[295,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[295,21],"start":[295,16]}},"type":"Var","value":{"identifier":"state","sourcePos":[294,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[295,32],"start":[293,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getAllNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[307,17],"start":[303,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[307,17],"start":[303,1]}},"argument":"predicate","body":{"annotation":{"meta":null,"sourceSpan":{"end":[307,17],"start":[303,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[307,17],"start":[303,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[308,22],"start":[308,13]}},"binderType":"VarBinder","identifier":"predicate1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[308,44],"start":[308,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[308,44],"start":[308,36]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[309,29],"start":[309,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[309,20],"start":[309,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[309,29],"start":[309,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[309,29],"start":[309,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[308,36]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[309,29],"start":[309,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[309,29],"start":[309,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,41],"start":[310,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[310,24],"start":[310,12]}},"type":"Var","value":{"identifier":"getNodes","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,41],"start":[310,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,41],"start":[310,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[310,30],"start":[310,25]}},"type":"Var","value":{"identifier":"state","sourcePos":[309,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[310,41],"start":[310,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,41],"start":[310,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[312,87],"start":[311,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[312,87],"start":[311,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,87],"start":[311,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[312,23],"start":[312,9]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,81],"start":[312,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,80],"start":[312,25]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[312,80],"start":[312,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[312,80],"start":[312,31]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[312,55],"start":[312,51]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,67],"start":[312,51]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,66],"start":[312,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,66],"start":[312,62]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[312,63],"start":[312,62]}},"type":"Var","value":{"identifier":"n","sourcePos":[312,26]}},"fieldName":"id","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[312,80],"start":[312,31]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[312,80],"start":[312,73]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[312,43],"start":[312,34]}},"type":"Var","value":{"identifier":"predicate1","sourcePos":[308,13]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,45],"start":[312,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,45],"start":[312,44]}},"type":"Var","value":{"identifier":"n","sourcePos":[312,26]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[312,87],"start":[312,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,87],"start":[312,82]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[310,3]}},"type":"App"},"type":"App"},"identifier":"visibleIds"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[313,14],"start":[313,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,50],"start":[313,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,49],"start":[313,16]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[313,49],"start":[313,16]}},"copy":["allNodes","callbacks","engine","linksGroupId","nodesGroupId","simulation"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["visibleNodeIds",{"annotation":{"meta":null,"sourceSpan":{"end":[313,47],"start":[313,37]}},"type":"Var","value":{"identifier":"visibleIds","sourcePos":[311,7]}}]]},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[313,59],"start":[313,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,59],"start":[313,51]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[308,36]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[313,59],"start":[308,1]}},"type":"Var","value":{"identifier":"predicate","sourcePos":[308,13]}},{"annotation":{"meta":null,"sourceSpan":{"end":[313,59],"start":[308,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"filterNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[230,78],"start":[230,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[230,78],"start":[230,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,78],"start":[230,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[231,30],"start":[231,10]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[231,30],"start":[231,22]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[232,29],"start":[232,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[232,20],"start":[232,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[232,29],"start":[232,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[232,29],"start":[232,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[231,22]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[232,29],"start":[232,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[232,29],"start":[232,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[233,11],"start":[233,3]}},"type":"Var","value":{"identifier":"stop","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,28],"start":[233,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,28],"start":[233,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[233,17],"start":[233,12]}},"type":"Var","value":{"identifier":"state","sourcePos":[232,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[233,28],"start":[231,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"destroy"},{"annotation":{"meta":null,"sourceSpan":{"end":[203,92],"start":[203,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,92],"start":[203,1]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable1","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,79],"start":[205,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,73],"start":[205,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,72],"start":[205,30]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[205,41],"start":[205,36]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,53],"start":[205,36]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,52],"start":[205,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,52],"start":[205,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,49],"start":[205,48]}},"type":"Var","value":{"identifier":"n","sourcePos":[205,31]}},"fieldName":"id","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[205,72],"start":[205,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,72],"start":[205,54]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[205,59]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,60],"start":[205,59]}},"type":"Var","value":{"identifier":"n","sourcePos":[205,31]}},"fieldName":"x","type":"Accessor"}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[205,70],"start":[205,67]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,68],"start":[205,67]}},"type":"Var","value":{"identifier":"n","sourcePos":[205,31]}},"fieldName":"y","type":"Accessor"}]]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[205,79],"start":[205,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,79],"start":[205,74]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[204,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"capturePositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[213,17],"start":[209,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[213,17],"start":[209,1]}},"argument":"rules","body":{"annotation":{"meta":null,"sourceSpan":{"end":[213,17],"start":[209,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,54],"start":[215,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,17],"start":[209,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[215,38],"start":[215,11]}},"type":"Var","value":{"identifier":"applyRulesInPlace_","moduleName":["PSD3","Simulation","Scene"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,44],"start":[215,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,44],"start":[215,39]}},"type":"Var","value":{"identifier":"rules","sourcePos":[214,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,54],"start":[215,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,54],"start":[215,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,48],"start":[215,45]}},"type":"Var","value":{"identifier":"sim","sourcePos":[214,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,12],"start":[216,3]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[216,12],"start":[216,8]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"applyRulesInPlace"},{"annotation":{"meta":null,"sourceSpan":{"end":[189,55],"start":[186,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,55],"start":[186,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[200,4],"start":[191,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["getNodes",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,27],"start":[191,15]}},"type":"Var","value":{"identifier":"getNodes","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,31],"start":[191,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,31],"start":[191,28]}},"type":"Var","value":{"identifier":"sim","sourcePos":[190,1]}},"type":"App"}],["capturePositions",{"annotation":{"meta":null,"sourceSpan":{"end":[192,39],"start":[192,23]}},"type":"Var","value":{"identifier":"capturePositions","moduleName":["PSD3","Scene","Handle"]}}],["interpolatePositions",{"annotation":{"meta":null,"sourceSpan":{"end":[194,64],"start":[193,27]}},"argument":"start","body":{"annotation":{"meta":null,"sourceSpan":{"end":[194,64],"start":[193,27]}},"argument":"target","body":{"annotation":{"meta":null,"sourceSpan":{"end":[194,64],"start":[193,27]}},"argument":"progress","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[194,38],"start":[194,7]}},"type":"Var","value":{"identifier":"interpolatePositionsInPlace","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,44],"start":[194,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,44],"start":[194,39]}},"type":"Var","value":{"identifier":"start","sourcePos":[193,28]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,51],"start":[194,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,51],"start":[194,45]}},"type":"Var","value":{"identifier":"target","sourcePos":[193,34]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,60],"start":[194,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,60],"start":[194,52]}},"type":"Var","value":{"identifier":"progress","sourcePos":[193,41]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,64],"start":[194,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,64],"start":[194,61]}},"type":"Var","value":{"identifier":"sim","sourcePos":[190,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"}],["updatePositions",{"annotation":{"meta":null,"sourceSpan":{"end":[196,47],"start":[195,22]}},"argument":"positions","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,33],"start":[196,7]}},"type":"Var","value":{"identifier":"updatePositionsInPlace","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,43],"start":[196,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,43],"start":[196,34]}},"type":"Var","value":{"identifier":"positions","sourcePos":[195,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,47],"start":[196,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,47],"start":[196,44]}},"type":"Var","value":{"identifier":"sim","sourcePos":[190,1]}},"type":"App"},"type":"Abs"}],["applyRulesInPlace",{"annotation":{"meta":null,"sourceSpan":{"end":[197,61],"start":[197,24]}},"argument":"rules","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[197,51],"start":[197,34]}},"type":"Var","value":{"identifier":"applyRulesInPlace","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,57],"start":[197,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,57],"start":[197,52]}},"type":"Var","value":{"identifier":"rules","sourcePos":[197,25]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[197,61],"start":[197,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,61],"start":[197,58]}},"type":"Var","value":{"identifier":"sim","sourcePos":[190,1]}},"type":"App"},"type":"Abs"}],["reinitializeForces",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[198,43],"start":[198,25]}},"type":"Var","value":{"identifier":"reinitializeForces","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,47],"start":[198,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,47],"start":[198,44]}},"type":"Var","value":{"identifier":"sim","sourcePos":[190,1]}},"type":"App"}],["reheat",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[199,23],"start":[199,13]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,27],"start":[199,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,27],"start":[199,24]}},"type":"Var","value":{"identifier":"sim","sourcePos":[190,1]}},"type":"App"}]]}},"type":"Abs"},"identifier":"mkAdapter"},{"annotation":{"meta":null,"sourceSpan":{"end":[148,42],"start":[141,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,42],"start":[141,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[148,42],"start":[141,1]}},"argument":"callbacks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[148,42],"start":[141,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[148,42],"start":[141,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[148,42],"start":[141,1]}},"argument":"renderFn","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,45],"start":[151,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,27],"start":[151,17]}},"type":"Var","value":{"identifier":"create","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,45],"start":[151,17]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,45],"start":[151,28]}},"type":"Var","value":{"identifier":"defaultConfig","moduleName":["PSD3","ForceEngine","Simulation"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,45],"start":[151,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,45],"start":[151,3]}},"argument":"simulation","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,32],"start":[154,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,15],"start":[154,3]}},"type":"Var","value":{"identifier":"setNodes","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,21],"start":[154,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,21],"start":[154,16]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[149,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,32],"start":[154,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,32],"start":[154,22]}},"type":"Var","value":{"identifier":"simulation","sourcePos":[151,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,32],"start":[154,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,32],"start":[154,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,32],"start":[155,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,15],"start":[155,3]}},"type":"Var","value":{"identifier":"setLinks","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,21],"start":[155,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,21],"start":[155,16]}},"type":"Var","value":{"identifier":"links","sourcePos":[149,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,32],"start":[155,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,32],"start":[155,22]}},"type":"Var","value":{"identifier":"simulation","sourcePos":[151,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,32],"start":[155,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,32],"start":[155,3]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[160,30],"start":[158,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,30],"start":[158,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[159,37],"start":[159,25]}},"type":"Var","value":{"identifier":"getNodes","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,38]}},"type":"Var","value":{"identifier":"simulation","sourcePos":[151,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,9]}},"argument":"currentNodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[160,17],"start":[160,9]}},"type":"Var","value":{"identifier":"renderFn","sourcePos":[149,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,30],"start":[160,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,30],"start":[160,18]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[159,9]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"tickHandler"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[161,13],"start":[161,3]}},"type":"Var","value":{"identifier":"onTick","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,14]}},"type":"Var","value":{"identifier":"tickHandler","sourcePos":[158,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,26]}},"type":"Var","value":{"identifier":"simulation","sourcePos":[151,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,3]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[164,37],"start":[164,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,37],"start":[164,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,26],"start":[164,17]}},"type":"Var","value":{"identifier":"mkAdapter","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,37],"start":[164,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,37],"start":[164,27]}},"type":"Var","value":{"identifier":"simulation","sourcePos":[151,3]}},"type":"App"},"identifier":"adapter"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,32],"start":[165,13]}},"type":"Var","value":{"identifier":"createEngine","moduleName":["PSD3","Scene","Engine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,33]}},"type":"Var","value":{"identifier":"adapter","sourcePos":[164,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":"engine","body":{"annotation":{"meta":null,"sourceSpan":{"end":[168,63],"start":[168,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[168,63],"start":[168,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,63],"start":[168,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,57],"start":[168,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,56],"start":[168,41]}},"argument":"n","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,56],"start":[168,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,56],"start":[168,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,53],"start":[168,52]}},"type":"Var","value":{"identifier":"n","sourcePos":[168,42]}},"fieldName":"id","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,63],"start":[168,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,63],"start":[168,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[149,1]}},"type":"App"},"type":"App"},"identifier":"nodeIds"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,6],"start":[171,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,22],"start":[171,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,6],"start":[171,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,6],"start":[172,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["simulation",{"annotation":{"meta":null,"sourceSpan":{"end":[172,17],"start":[172,7]}},"type":"Var","value":{"identifier":"simulation","sourcePos":[151,3]}}],["engine",{"annotation":{"meta":null,"sourceSpan":{"end":[173,13],"start":[173,7]}},"type":"Var","value":{"identifier":"engine","sourcePos":[165,3]}}],["callbacks",{"annotation":{"meta":null,"sourceSpan":{"end":[174,16],"start":[174,7]}},"type":"Var","value":{"identifier":"callbacks","sourcePos":[149,1]}}],["allNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[175,22],"start":[175,17]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[149,1]}}],["visibleNodeIds",{"annotation":{"meta":null,"sourceSpan":{"end":[176,30],"start":[176,23]}},"type":"Var","value":{"identifier":"nodeIds","sourcePos":[168,7]}}],["nodesGroupId",{"annotation":{"meta":null,"sourceSpan":{"end":[177,40],"start":[177,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[177,21]}},"type":"Var","value":{"identifier":"config","sourcePos":[149,1]}},"fieldName":"nodesGroupId","type":"Accessor"}],["linksGroupId",{"annotation":{"meta":null,"sourceSpan":{"end":[178,40],"start":[178,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[178,27],"start":[178,21]}},"type":"Var","value":{"identifier":"config","sourcePos":[149,1]}},"fieldName":"linksGroupId","type":"Accessor"}]]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,6],"start":[171,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,6],"start":[171,3]}},"argument":"stateRef","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,30],"start":[181,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[181,21],"start":[181,10]}},"type":"Var","value":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,30],"start":[181,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,30],"start":[181,22]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[171,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"create"},{"annotation":{"meta":null,"sourceSpan":{"end":[333,17],"start":[329,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[333,17],"start":[329,1]}},"argument":"transform","body":{"annotation":{"meta":null,"sourceSpan":{"end":[333,17],"start":[329,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[333,17],"start":[329,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[334,25],"start":[334,16]}},"binderType":"VarBinder","identifier":"transform1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[334,47],"start":[334,27]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[334,47],"start":[334,39]}},"binderType":"VarBinder","identifier":"stateRef"}],"constructorName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]},"typeName":{"identifier":"SceneHandle","moduleName":["PSD3","Scene","Handle"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,29],"start":[335,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[335,20],"start":[335,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,29],"start":[335,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,29],"start":[335,21]}},"type":"Var","value":{"identifier":"stateRef","sourcePos":[334,39]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[335,29],"start":[335,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,29],"start":[335,3]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[338,73],"start":[337,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[337,58],"start":[337,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,73],"start":[338,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[338,33],"start":[338,22]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"transform"}}],["select",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[338,48],"start":[338,43]}},"type":"Var","value":{"identifier":"const","moduleName":["Data","Function"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,53],"start":[338,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,53],"start":[338,49]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"}],["apply",{"annotation":{"meta":null,"sourceSpan":{"end":[338,71],"start":[338,62]}},"type":"Var","value":{"identifier":"transform1","sourcePos":[334,16]}}]]}},"identifier":"rule"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[339,44],"start":[339,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[339,20],"start":[339,3]}},"type":"Var","value":{"identifier":"applyRulesInPlace","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[339,27],"start":[339,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[339,27],"start":[339,21]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[339,26],"start":[339,22]}},"type":"Var","value":{"identifier":"rule","sourcePos":[337,7]}}]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[339,44],"start":[339,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[339,44],"start":[339,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[339,33],"start":[339,28]}},"type":"Var","value":{"identifier":"state","sourcePos":[335,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[339,44],"start":[339,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[339,44],"start":[339,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[340,38],"start":[340,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[340,21],"start":[340,3]}},"type":"Var","value":{"identifier":"reinitializeForces","moduleName":["PSD3","Scene","Handle"]}},"annotation":{"meta":null,"sourceSpan":{"end":[340,38],"start":[340,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[340,38],"start":[340,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[340,27],"start":[340,22]}},"type":"Var","value":{"identifier":"state","sourcePos":[335,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[340,38],"start":[340,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[340,38],"start":[340,3]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[341,13],"start":[341,3]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[341,30],"start":[341,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[341,30],"start":[341,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[341,19],"start":[341,14]}},"type":"Var","value":{"identifier":"state","sourcePos":[335,3]}},"fieldName":"simulation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[341,30],"start":[334,1]}},"type":"Var","value":{"identifier":"transform","sourcePos":[334,16]}},{"annotation":{"meta":null,"sourceSpan":{"end":[341,30],"start":[334,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"transformNodes"}],"exports":["create","destroy","transitionTo","isTransitioning","getTransitionProgress","getCurrentScene","getAllNodes","filterNodes","showAllNodes","transformNodes","onTick","getSimulation","reheat"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[66,23],"start":[66,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Set"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Unfoldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Data","Unit"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Effect","Ref"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Foreign","Object"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["PSD3","ForceEngine","Core"]},{"annotation":{"meta":null,"sourceSpan":{"end":[76,41],"start":[76,1]}},"moduleName":["PSD3","ForceEngine","Render"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["PSD3","ForceEngine","Simulation"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["PSD3","Scene","Engine"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["PSD3","Scene","Handle"]},{"annotation":{"meta":null,"sourceSpan":{"end":[83,13],"start":[78,1]}},"moduleName":["PSD3","Scene","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["PSD3","Simulation","Scene"]},{"annotation":{"meta":null,"sourceSpan":{"end":[62,15],"start":[62,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[394,30],"start":[27,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","Scene","Handle"],"modulePath":"../purescript-psd3-simulation/src/PSD3/Scene/Handle.purs","reExports":{"PSD3.Scene.Types":["Physics","Static"]},"sourceSpan":{"end":[394,30],"start":[27,1]}}