{"comments":"Core Attribute Types\n\nDefines the fundamental types for SVG/HTML attributes in PSD3.\nThese types are the target of the finally-tagless expression system.\n\nThe `Attribute` ADT supports three patterns:\n- Static: Same value for all elements\n- Data-driven: Value computed from datum\n- Indexed: Value computed from datum and index\n\n## Historical Note\n\nThis module previously contained a `ToAttr` typeclass with polymorphic\nsmart constructors (fill, cx, radius, etc.). That pattern was superseded\nby the finally-tagless expression system which provides multi-interpretation\ncapabilities. See `kept-for-historical-context/ToAttr-Pattern-Documentation.md`.\n","declarations":[{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeName"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeValue"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[66,15],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[66,3]},"title":"StaticAttr"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeName"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttrSource"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeValue"],"tag":"TypeConstructor"}],"tag":"TypeApp"},"tag":"ParensInType"}],"declType":"dataConstructor"},"sourceSpan":{"end":[67,13],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[67,3]},"title":"DataAttr"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeName"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttrSource"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeValue"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"declType":"dataConstructor"},"sourceSpan":{"end":[68,16],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[68,3]},"title":"IndexedAttr"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"Attribute"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[74,94],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[71,1]},"title":"<anonymous>"},{"comments":"Contravariant instance for Attribute\n\nAttributes *consume* data (they're data sinks), making them naturally contravariant.\nThis enables attribute reuse via `cmap`:\n\n```purescript\n-- Define attribute for specific type\nradiusAttr :: Attribute Number\nradiusAttr = DataAttr (AttributeName \"r\") NumberValue\n\n-- Adapt to work with richer type\ntype Circle = { radius :: Number, x :: Number, y :: Number }\ncircleRadiusAttr :: Attribute Circle\ncircleRadiusAttr = cmap _.radius radiusAttr\n```\n\nThe key insight: `cmap` composes the projection function with the attribute's\ndata accessor, allowing attributes written for simple types to work with\ncomplex types via field selection.\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Functor","Contravariant"],"Contravariant"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"Attribute"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[98,77],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[95,1]},"title":"<anonymous>"}],"comments":"Type-safe attribute with datum phantom type\n\nAttributes can be:\n- Static: Same value for all elements\n- Data-driven: Value computed from datum (with source metadata)\n- Indexed: Value computed from datum and index (with source metadata)\n\nThe phantom type `datum` ensures attributes are only applied\nto selections with matching data types.\n\nThe `AttrSource` field enables interpreters to inspect attribute origins\nwithout evaluating the functions.\n","info":{"dataDeclType":"data","declType":"data","roles":["Representational"],"typeArguments":[["datum",null]]},"kind":null,"sourceSpan":{"end":[68,74],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[65,1]},"title":"Attribute"},{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[104,45],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[104,23]},"title":"AttributeName"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeName"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[106,33],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[106,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Ord"],"Ord"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeName"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[107,34],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[107,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeName"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[108,43],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[108,1]},"title":"<anonymous>"}],"comments":"Attribute names (SVG/HTML properties)\n\nWe use a newtype to prevent typos and enable IDE autocomplete.\nThe String inside is the actual DOM attribute name.\n","info":{"dataDeclType":"newtype","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[104,45],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[104,1]},"title":"AttributeName"},{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[115,16],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[115,3]},"title":"StringValue"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[116,16],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[116,3]},"title":"NumberValue"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"Boolean"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[117,17],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[117,3]},"title":"BooleanValue"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeValue"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[119,34],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[119,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Ord"],"Ord"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeValue"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[120,35],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[120,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttributeValue"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[125,52],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[122,1]},"title":"<anonymous>"}],"comments":"Attribute values\n\nWe support the most common value types.\nThe ADT ensures type safety when setting attributes.\n","info":{"dataDeclType":"data","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[117,25],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[114,1]},"title":"AttributeValue"},{"children":[{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[35,18],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[35,3]},"title":"UnknownSource"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[36,17],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[36,3]},"title":"StaticSource"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[37,16],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[37,3]},"title":"FieldSource"},{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[38,15],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[38,3]},"title":"ExprSource"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[39,16],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[39,3]},"title":"IndexSource"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[40,17],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[40,3]},"title":"OpaqueSource"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttrSource"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[42,30],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[42,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Ord"],"Ord"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttrSource"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[43,31],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[43,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"AttrSource"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[51,37],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[45,1]},"title":"<anonymous>"}],"comments":"Source metadata for attributes\n\nDescribes where the attribute value comes from, enabling interpreters\nlike MetaAST to show meaningful information about attribute bindings.\n\nThis is automatically captured when using the DSL (field, num, etc.)\nbut is `UnknownSource` for raw PureScript functions (escape hatches).\n","info":{"dataDeclType":"data","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[40,17],"name":"../purescript-psd3-selection/src/PSD3/Internal/Attribute.purs","start":[34,1]},"title":"AttrSource"}],"name":"PSD3.Internal.Attribute","reExports":[]}