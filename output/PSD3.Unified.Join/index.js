// Generated by purs version 0.15.15
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as PSD3_AST from "../PSD3.AST/index.js";
import * as PSD3_Internal_Transition_Types from "../PSD3.Internal.Transition.Types/index.js";
var JoinSpec = /* #__PURE__ */ (function () {
    function JoinSpec(value0) {
        this.value0 = value0;
    };
    JoinSpec.create = function (value0) {
        return new JoinSpec(value0);
    };
    return JoinSpec;
})();
var withGUP = function (gupSpec) {
    return function (v) {
        return new JoinSpec({
            data_: v.value0.data_,
            template: v.value0.template,
            config: {
                name: v.value0.config.name,
                key: v.value0.config.key,
                keyFn: v.value0.config.keyFn,
                decompose: v.value0.config.decompose,
                gup: new Data_Maybe.Just(gupSpec)
            }
        });
    };
};
var withDecompose = function (decomposer) {
    return function (v) {
        return new JoinSpec({
            data_: v.value0.data_,
            template: v.value0.template,
            config: {
                name: v.value0.config.name,
                key: v.value0.config.key,
                keyFn: v.value0.config.keyFn,
                decompose: new Data_Maybe.Just(decomposer),
                gup: Data_Maybe.Nothing.value
            }
        });
    };
};
var updateSpec = function (attrs) {
    return function (transition) {
        return {
            attrs: attrs,
            transition: transition
        };
    };
};
var toMaybePhaseBehavior = function (v) {
    if (v instanceof Data_Maybe.Nothing) {
        return Data_Maybe.Nothing.value;
    };
    if (v instanceof Data_Maybe.Just) {
        return new Data_Maybe.Just({
            attrs: v.value0.attrs,
            transition: v.value0.transition
        });
    };
    throw new Error("Failed pattern match at PSD3.Unified.Join (line 407, column 1 - line 407, column 97): " + [ v.constructor.name ]);
};
var toTree = function (v) {
    if (v.value0.config.decompose instanceof Data_Maybe.Nothing && v.value0.config.gup instanceof Data_Maybe.Nothing) {
        return PSD3_AST.joinData(v.value0.config.name)(v.value0.config.key)(v.value0.data_)(v.value0.template);
    };
    if (v.value0.config.decompose instanceof Data_Maybe.Just && v.value0.config.gup instanceof Data_Maybe.Nothing) {
        return PSD3_AST.nestedJoin(v.value0.config.name)(v.value0.config.key)(v.value0.data_)(v.value0.config.decompose.value0)(v.value0.template);
    };
    if (v.value0.config.decompose instanceof Data_Maybe.Nothing && v.value0.config.gup instanceof Data_Maybe.Just) {
        return PSD3_AST.updateJoin(v.value0.config.name)(v.value0.config.key)(v.value0.data_)(v.value0.template)({
            enter: toMaybePhaseBehavior(v.value0.config.gup.value0.enter),
            update: toMaybePhaseBehavior(v.value0.config.gup.value0.update),
            exit: toMaybePhaseBehavior(v.value0.config.gup.value0.exit),
            keyFn: v.value0.config.keyFn
        });
    };
    if (v.value0.config.decompose instanceof Data_Maybe.Just && v.value0.config.gup instanceof Data_Maybe.Just) {
        return PSD3_AST.updateNestedJoin(v.value0.config.name)(v.value0.config.key)(v.value0.data_)(v.value0.config.decompose.value0)(v.value0.template)({
            enter: toMaybePhaseBehavior(v.value0.config.gup.value0.enter),
            update: toMaybePhaseBehavior(v.value0.config.gup.value0.update),
            exit: toMaybePhaseBehavior(v.value0.config.gup.value0.exit)
        });
    };
    throw new Error("Failed pattern match at PSD3.Unified.Join (line 367, column 3 - line 404, column 11): " + [ v.value0.config.decompose.constructor.name, v.value0.config.gup.constructor.name ]);
};
var noTransition = function (attrs) {
    return {
        attrs: attrs,
        transition: Data_Maybe.Nothing.value
    };
};
var join = function (name) {
    return function (key) {
        return function (data_) {
            return function (keyFn) {
                return function (template) {
                    return new JoinSpec({
                        data_: data_,
                        template: template,
                        config: {
                            name: name,
                            key: key,
                            keyFn: new Data_Maybe.Just(keyFn),
                            decompose: Data_Maybe.Nothing.value,
                            gup: Data_Maybe.Nothing.value
                        }
                    });
                };
            };
        };
    };
};
var nestedJoin = function (name) {
    return function (key) {
        return function (data_) {
            return function (decomposer) {
                return function (keyFn) {
                    return function (template) {
                        return withDecompose(decomposer)(join(name)(key)(data_)(keyFn)(template));
                    };
                };
            };
        };
    };
};
var gupJoin = function (name) {
    return function (key) {
        return function (data_) {
            return function (keyFn) {
                return function (template) {
                    return function (gup) {
                        return withGUP(gup)(join(name)(key)(data_)(keyFn)(template));
                    };
                };
            };
        };
    };
};
var fullJoin = function (name) {
    return function (key) {
        return function (data_) {
            return function (decomposer) {
                return function (keyFn) {
                    return function (template) {
                        return function (gup) {
                            return withGUP(gup)(withDecompose(decomposer)(join(name)(key)(data_)(keyFn)(template)));
                        };
                    };
                };
            };
        };
    };
};
var exitSpec = function (attrs) {
    return function (transition) {
        return {
            attrs: attrs,
            transition: transition
        };
    };
};
var enterSpec = function (attrs) {
    return function (transition) {
        return {
            attrs: attrs,
            transition: transition
        };
    };
};
var buildJoin = function (builder) {
    return function (template) {
        return new JoinSpec({
            data_: builder.data_,
            template: template,
            config: {
                name: builder.name,
                key: builder.key,
                keyFn: builder.keyFn,
                decompose: builder.decompose,
                gup: builder.gup
            }
        });
    };
};
var basicJoin = join;
export {
    JoinSpec,
    join,
    withDecompose,
    withGUP,
    enterSpec,
    updateSpec,
    exitSpec,
    noTransition,
    buildJoin,
    basicJoin,
    nestedJoin,
    gupJoin,
    fullJoin,
    toTree
};
//# sourceMappingURL=index.js.map
