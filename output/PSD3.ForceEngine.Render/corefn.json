{"builtWith":"0.15.15","comments":[{"LineComment":" | Force Simulation Rendering"},{"LineComment":" |"},{"LineComment":" | FFI-optimized helpers for rendering force-directed graphs."},{"LineComment":" |"},{"LineComment":" | IMPORTANT PATTERN: For simulations, bind data ONCE then update positions via FFI."},{"LineComment":" | Do NOT use Tree API or data joins in tick callbacks - they are O(n) per tick."},{"LineComment":" |"},{"LineComment":" | Correct usage:"},{"LineComment":" | ```purescript"},{"LineComment":" | -- Define group IDs (type-safe, no typos)"},{"LineComment":" | nodesGroup = GroupId \"#my-nodes\""},{"LineComment":" | linksGroup = GroupId \"#my-links\""},{"LineComment":" |"},{"LineComment":" | -- At initialization (once):"},{"LineComment":" | nodeSel <- appendData Circle nodes [cx _.x, cy _.y, ...]"},{"LineComment":" | linkSel <- appendData Line swizzledLinks [x1 (\\l -> l.source.x), ...]"},{"LineComment":" |"},{"LineComment":" | -- In tick callback (every frame):"},{"LineComment":" | updateCirclePositions nodesGroup"},{"LineComment":" | updateLinkPositions linksGroup"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | The FFI updates use D3's `.attr()` method directly on selections,"},{"LineComment":" | which is O(n) DOM updates with no data join overhead."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,55],"start":[148,49]}},"type":"Var","value":{"identifier":"unwrap","moduleName":["Data","Newtype"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[148,59],"start":[148,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,59],"start":[148,49]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"App"},"identifier":"unwrap"},{"annotation":{"meta":null,"sourceSpan":{"end":[61,33],"start":[61,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[61,33],"start":[61,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[61,33],"start":[61,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},"type":"Abs"},"identifier":"GroupId"},{"annotation":{"meta":null,"sourceSpan":{"end":[66,37],"start":[66,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showString","moduleName":["Data","Show"]}},"identifier":"showGroupId"},{"annotation":{"meta":null,"sourceSpan":{"end":[65,36],"start":[65,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"identifier":"ordGroupId"},{"annotation":{"meta":null,"sourceSpan":{"end":[63,34],"start":[63,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[63,34],"start":[63,1]}},"type":"Var","value":{"identifier":"Newtype$Dict","moduleName":["Data","Newtype"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,34],"start":[63,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,34],"start":[63,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["Coercible0",{"annotation":{"meta":null,"sourceSpan":{"end":[63,34],"start":[63,1]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[63,34],"start":[63,1]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"Abs"}]]}},"type":"App"},"identifier":"newtypeGroupId_"},{"annotation":{"meta":null,"sourceSpan":{"end":[64,35],"start":[64,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"identifier":"eqGroupId"},{"annotation":{"meta":null,"sourceSpan":{"end":[147,46],"start":[147,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,46],"start":[147,1]}},"argument":"gid","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,47],"start":[148,27]}},"type":"Var","value":{"identifier":"updateTreeLinkPaths_","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,60],"start":[148,27]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unwrap","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,59],"start":[148,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,59],"start":[148,56]}},"type":"Var","value":{"identifier":"gid","sourcePos":[148,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"updateTreeLinkPaths"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,74],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,74],"start":[163,1]}},"argument":"gid","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[164,39],"start":[164,23]}},"type":"Var","value":{"identifier":"updatePositions_","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[164,23]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unwrap","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,51],"start":[164,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,51],"start":[164,48]}},"type":"Var","value":{"identifier":"gid","sourcePos":[164,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"updatePositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[113,46],"start":[113,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,46],"start":[113,1]}},"argument":"gid","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,47],"start":[114,27]}},"type":"Var","value":{"identifier":"updateLinkPositions_","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,60],"start":[114,27]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unwrap","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,59],"start":[114,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,59],"start":[114,56]}},"type":"Var","value":{"identifier":"gid","sourcePos":[114,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"updateLinkPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[128,47],"start":[128,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[128,47],"start":[128,1]}},"argument":"gid","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,49],"start":[129,28]}},"type":"Var","value":{"identifier":"updateGroupPositions_","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,62],"start":[129,28]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unwrap","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,61],"start":[129,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,61],"start":[129,58]}},"type":"Var","value":{"identifier":"gid","sourcePos":[129,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"updateGroupPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[94,48],"start":[94,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,48],"start":[94,1]}},"argument":"gid","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[95,51],"start":[95,29]}},"type":"Var","value":{"identifier":"updateCirclePositions_","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,64],"start":[95,29]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unwrap","moduleName":["PSD3","ForceEngine","Render"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,63],"start":[95,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,63],"start":[95,60]}},"type":"Var","value":{"identifier":"gid","sourcePos":[95,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"updateCirclePositions"}],"exports":["GroupId","updateCirclePositions","updateLinkPositions","updateGroupPositions","updateTreeLinkPaths","updatePositions","newtypeGroupId_","eqGroupId","ordGroupId","showGroupId"],"foreign":["updateCirclePositions_","updateLinkPositions_","updateGroupPositions_","updateTreeLinkPaths_","updatePositions_"],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[25,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[25,1]}},"moduleName":["Data","Newtype"]},{"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[25,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[25,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[40,23],"start":[40,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[25,1]}},"moduleName":["PSD3","ForceEngine","Render"]},{"annotation":{"meta":null,"sourceSpan":{"end":[37,15],"start":[37,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[164,52],"start":[25,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","ForceEngine","Render"],"modulePath":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","reExports":{},"sourceSpan":{"end":[164,52],"start":[25,1]}}