{"comments":"Force Simulation Rendering\n\nFFI-optimized helpers for rendering force-directed graphs.\n\nIMPORTANT PATTERN: For simulations, bind data ONCE then update positions via FFI.\nDo NOT use Tree API or data joins in tick callbacks - they are O(n) per tick.\n\nCorrect usage:\n```purescript\n-- Define group IDs (type-safe, no typos)\nnodesGroup = GroupId \"#my-nodes\"\nlinksGroup = GroupId \"#my-links\"\n\n-- At initialization (once):\nnodeSel <- appendData Circle nodes [cx _.x, cy _.y, ...]\nlinkSel <- appendData Line swizzledLinks [x1 (\\l -> l.source.x), ...]\n\n-- In tick callback (every frame):\nupdateCirclePositions nodesGroup\nupdateLinkPositions linksGroup\n```\n\nThe FFI updates use D3's `.attr()` method directly on selections,\nwhich is O(n) DOM updates with no data join overhead.\n","declarations":[{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"declType":"dataConstructor"},"sourceSpan":{"end":[61,33],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[61,17]},"title":"GroupId"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Newtype"],"Newtype"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":null,"tag":"TypeWildcard"}],"tag":"TypeApp"}},"sourceSpan":{"end":[63,34],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[63,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[64,35],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[64,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Ord"],"Ord"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[65,36],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[65,1]},"title":"<anonymous>"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[66,37],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[66,1]},"title":"<anonymous>"}],"comments":"A type-safe wrapper for DOM selector strings.\n\nUse this to identify groups of elements for position updates.\nThe newtype provides compile-time checking that you're using\ngroup IDs consistently, without any runtime overhead.\n\nExample:\n```purescript\n-- Define once, use everywhere\npackageNodes :: GroupId\npackageNodes = GroupId \"#package-nodes\"\n\nmoduleNodes :: GroupId\nmoduleNodes = GroupId \"#module-nodes\"\n```\n","info":{"dataDeclType":"newtype","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[61,33],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[61,1]},"title":"GroupId"},{"children":[],"comments":"Update circle positions (cx, cy) from bound data's x, y fields.\n\nAssumes data bound to circles has `x :: Number` and `y :: Number` fields.\nUses D3's `selection.attr()` which reads from `__data__` on each element.\n\nExample:\n```purescript\nnodesGroup :: GroupId\nnodesGroup = GroupId \"#nodes\"\n\nupdateCirclePositions nodesGroup\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[94,48],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[94,1]},"title":"updateCirclePositions"},{"children":[],"comments":"Update line positions (x1, y1, x2, y2) from bound data's source/target nodes.\n\nAssumes data bound to lines has:\n- `source :: { x :: Number, y :: Number, ... }`\n- `target :: { x :: Number, y :: Number, ... }`\n\nThis is the \"swizzled link\" format where source/target are node objects,\nnot integer indices. Use `Sim.getSwizzledLinks` after adding a Link force.\n\nExample:\n```purescript\nlinksGroup :: GroupId\nlinksGroup = GroupId \"#links\"\n\nupdateLinkPositions linksGroup\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[113,46],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[113,1]},"title":"updateLinkPositions"},{"children":[],"comments":"Update group positions (transform) from bound data's x, y fields.\n\nSelects `g.module-pack` elements and updates their transform attribute.\nAssumes data bound to groups has `x :: Number` and `y :: Number` fields.\n\nExample:\n```purescript\nnodesGroup :: GroupId\nnodesGroup = GroupId \"#nodes\"\n\nupdateGroupPositions nodesGroup\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[128,47],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[128,1]},"title":"updateGroupPositions"},{"children":[],"comments":"Update tree link paths (d attribute) from bound data's source/target nodes.\n\nExpects data bound to path elements has:\n- `source :: Int` (node ID)\n- `target :: Int` (node ID)\n\nThis function looks up node positions from the DOM (circles) and computes\nvertical bezier paths. Used for animating tree links during transitions.\n\nExample:\n```purescript\nlinksGroup :: GroupId\nlinksGroup = GroupId \"#explorer-links\"\n\nupdateTreeLinkPaths linksGroup\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[147,46],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[147,1]},"title":"updateTreeLinkPaths"},{"children":[],"comments":"Generic position update with custom attribute setter.\n\nThe setter receives the D3 selection and should call `.attr()` methods.\n\nExample (custom node representation):\n```purescript\nrectsGroup :: GroupId\nrectsGroup = GroupId \"#node-rects\"\n\nupdatePositions rectsGroup \\sel -> do\n  sel # setAttr \"x\" (_.x - 10.0)  -- center rect\n  sel # setAttr \"y\" (_.y - 10.0)\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","ForceEngine","Render"],"GroupId"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[163,74],"name":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Render.purs","start":[163,1]},"title":"updatePositions"}],"name":"PSD3.ForceEngine.Render","reExports":[]}