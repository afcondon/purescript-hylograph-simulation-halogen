{"builtWith":"0.15.15","comments":[{"LineComment":" | EXPERIMENTAL: Selection Query Language"},{"LineComment":" |"},{"LineComment":" | **Status: Experimental - API may change**"},{"LineComment":" |"},{"LineComment":" | Provides CSS-style querying across named selections for dynamic selection manipulation."},{"LineComment":" | This module is orthogonal to the core selection API and can be used selectively."},{"LineComment":" |"},{"LineComment":" | ## Known Issues and Limitations"},{"LineComment":" |"},{"LineComment":" | ### 1. D3v2Selection_ Unwrapping"},{"LineComment":" |"},{"LineComment":" | When using with the D3v2 interpreter, you **cannot** simply `unsafeCoerce` from"},{"LineComment":" | `Map String (D3v2Selection_ ...)` to `Map String (Selection ...)`."},{"LineComment":" | The newtype constructor must be properly unwrapped:"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | -- ❌ WRONG: unsafeCoerce doesn't properly unwrap newtype constructors"},{"LineComment":" | let unwrapped = unsafeCoerce selections"},{"LineComment":" | groupCircles <- queryAll \".group-1\" unwrapped  -- Returns empty!"},{"LineComment":" |"},{"LineComment":" | -- ✅ RIGHT: Pattern match to unwrap each selection"},{"LineComment":" | let unwrapped = map (\\(D3v2Selection_ sel) -> sel) selections"},{"LineComment":" | groupCircles <- queryAll \".group-1\" unwrapped  -- Works correctly"},{"LineComment":" |"},{"LineComment":" | -- ✅ BEST: Use the wrapper function"},{"LineComment":" | groupCircles <- queryAllD3v2 \".group-1\" selections  -- Handles unwrapping"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | See `queryAllD3v2` in `PSD3.Interpreter.D3` for the correct wrapper."},{"LineComment":" |"},{"LineComment":" | ### 2. Phantom Type Transitions"},{"LineComment":" |"},{"LineComment":" | Query functions return `SEmpty` selections (no bound data), but you may know"},{"LineComment":" | that elements have data from prior joins. Currently requires `unsafeCoerce`"},{"LineComment":" | to transition from `SEmpty` to `SBoundOwns` for attribute operations."},{"LineComment":" |"},{"LineComment":" | ### 3. Controlled Coercion"},{"LineComment":" |"},{"LineComment":" | The `datumOut` type parameter is polymorphic, allowing the caller to specify"},{"LineComment":" | the expected datum type. This is safe only if you know what data is bound"},{"LineComment":" | to the queried elements. Type safety is enforced by later operations."},{"LineComment":" |"},{"LineComment":" | ## Alternative Approaches"},{"LineComment":" |"},{"LineComment":" | For simpler use cases, consider:"},{"LineComment":" | - **Direct DOM API**: Use `document.querySelectorAll` from JavaScript/FFI"},{"LineComment":" | - **CSS selector passthrough**: Store selectors as strings, apply later in"},{"LineComment":" |   a visualization builder/live-editor context"},{"LineComment":" | - **Document-level queries**: Simpler API that searches the whole document"},{"LineComment":" |   instead of within named selections"},{"LineComment":" |"},{"LineComment":" | ## Intended Use Cases"},{"LineComment":" |"},{"LineComment":" | - Interactive visualization builders with live-editing"},{"LineComment":" | - Prototyping with CSS selectors before principled implementation"},{"LineComment":" | - Dynamic selection and modification based on data properties"},{"LineComment":" | - Testing and debugging selections in development"},{"LineComment":" | - Meta-tree editing with selector annotations and lambda attributes"},{"LineComment":" |"},{"LineComment":" | ## Example Usage"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | -- Query within a named selection"},{"LineComment":" | activeCircles <- queryIn \"nodesGroup\" \"circle.active\" selections"},{"LineComment":" |"},{"LineComment":" | -- Query across all selections (with D3v2 interpreter)"},{"LineComment":" | allCircles <- queryAllD3v2 \"circle\" selections"},{"LineComment":" |"},{"LineComment":" | -- Filter by data predicate (requires bound selection)"},{"LineComment":" | largeNodes <- filterByData (_.value > 100) nodeCircles"},{"LineComment":" |"},{"LineComment":" | -- Traverse DOM structure"},{"LineComment":" | parents <- parentElements nodeCircles"},{"LineComment":" | allDescendants <- descendants \"circle\" containerGroup"},{"LineComment":" |"},{"LineComment":" | -- Combine selections"},{"LineComment":" | allShapes <- union [circles, rects, paths]"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,40],"start":[202,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,22],"start":[202,14]}},"type":"Var","value":{"identifier":"traverse","moduleName":["Data","Traversable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[202,32],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traversableArray","moduleName":["Data","Traversable"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[202,32],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"traverse"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,7],"start":[203,3]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,7],"start":[203,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,46],"start":[203,38]}},"type":"Var","value":{"identifier":"identity","moduleName":["Control","Category"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,46],"start":[203,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"categoryFn","moduleName":["Control","Category"]}},"type":"App"},"identifier":"identity"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,38],"start":[372,35]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[372,45],"start":[372,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"mapFlipped"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[404,29],"start":[404,26]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[404,55],"start":[404,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[335,39],"start":[335,26]}},"type":"Var","value":{"identifier":"filterA","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[337,40],"start":[335,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"filterA"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[337,25],"start":[337,23]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"type":"App"},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[657,69],"start":[657,66]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[657,85],"start":[657,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"mapFlipped1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[453,53],"start":[453,50]}},"type":"Var","value":{"identifier":"composeFlipped","moduleName":["Control","Semigroupoid"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[453,64],"start":[453,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupoidFn","moduleName":["Control","Semigroupoid"]}},"type":"App"},"identifier":"composeFlipped"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[454,65],"start":[454,62]}},"type":"Var","value":{"identifier":"composeKleisliFlipped","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[454,74],"start":[454,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"composeKleisliFlipped"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,41],"start":[248,23]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[248,41],"start":[248,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableList","moduleName":["Data","List","Types"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[270,18],"start":[270,8]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[270,23],"start":[270,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[524,47],"start":[524,44]}},"type":"Var","value":{"identifier":"compose","moduleName":["Control","Semigroupoid"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[524,58],"start":[524,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupoidFn","moduleName":["Control","Semigroupoid"]}},"type":"App"},"identifier":"compose"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[524,43],"start":[524,40]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[524,43],"start":[524,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[550,29],"start":[550,26]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[550,38],"start":[550,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"bind1"},{"annotation":{"meta":null,"sourceSpan":{"end":[195,79],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[195,79],"start":[195,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[195,79],"start":[195,1]}},"argument":"parents","body":{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[198,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[199,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[199,5]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,36],"start":[200,24]}},"type":"Var","value":{"identifier":"toParentNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,37]}},"type":"Var","value":{"identifier":"parent","sourcePos":[199,5]}},"type":"App"},"identifier":"parentNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,20],"start":[201,7]}},"type":"Var","value":{"identifier":"querySelector","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[201,35],"start":[201,22]}},"type":"Var","value":{"identifier":"QuerySelector","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,44],"start":[201,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,44],"start":[201,36]}},"type":"Var","value":{"identifier":"selector","sourcePos":[196,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[201,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[201,46]}},"type":"Var","value":{"identifier":"parentNode","sourcePos":[200,11]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"tryParent"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,23]}},"type":"Var","value":{"identifier":"tryParent","sourcePos":[199,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,33]}},"type":"Var","value":{"identifier":"parents","sourcePos":[196,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":"results","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,20],"start":[203,10]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,37],"start":[203,23]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,46],"start":[203,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,47]}},"type":"Var","value":{"identifier":"results","sourcePos":[202,3]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"querySelectorFirstElement"},{"annotation":{"meta":null,"sourceSpan":{"end":[185,78],"start":[185,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,78],"start":[185,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[185,78],"start":[185,1]}},"argument":"parents","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,36]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,34],"start":[188,22]}},"type":"Var","value":{"identifier":"toParentNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,35]}},"type":"Var","value":{"identifier":"parent","sourcePos":[187,37]}},"type":"App"},"identifier":"parentNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,33],"start":[189,17]}},"type":"Var","value":{"identifier":"querySelectorAll","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,58],"start":[189,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[189,48],"start":[189,35]}},"type":"Var","value":{"identifier":"QuerySelector","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,57],"start":[189,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,57],"start":[189,49]}},"type":"Var","value":{"identifier":"selector","sourcePos":[186,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,59]}},"type":"Var","value":{"identifier":"parentNode","sourcePos":[188,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,5]}},"argument":"nodeList","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,30],"start":[190,14]}},"type":"Var","value":{"identifier":"toArray","moduleName":["Web","DOM","NodeList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,31]}},"type":"Var","value":{"identifier":"nodeList","sourcePos":[189,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,5]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,26],"start":[191,12]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,35],"start":[191,12]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,35],"start":[191,27]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,36]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[190,5]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,24],"start":[187,17]}},"type":"Var","value":{"identifier":"parents","sourcePos":[186,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,3]}},"argument":"nodeArrays","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,33],"start":[192,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[192,22],"start":[192,10]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,33],"start":[192,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,33],"start":[192,23]}},"type":"Var","value":{"identifier":"nodeArrays","sourcePos":[187,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"querySelectorAllElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"argument":"arr","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[163,28],"start":[163,19]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[165,3]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[165,3]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[165,3]}},"argument":"remaining","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[166,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,22],"start":[166,10]}},"type":"Var","value":{"identifier":"uncons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,23]}},"type":"Var","value":{"identifier":"remaining","sourcePos":[165,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[166,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[167,14],"start":[167,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,21],"start":[167,18]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[168,33],"start":[168,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[168,33],"start":[168,12]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["head",{"annotation":{"meta":null,"sourceSpan":{"end":[168,21],"start":[168,20]}},"binderType":"VarBinder","identifier":"x"}],["tail",{"annotation":{"meta":null,"sourceSpan":{"end":[168,31],"start":[168,29]}},"binderType":"VarBinder","identifier":"xs"}]]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[169,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[170,68],"start":[170,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,34],"start":[170,25]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,64],"start":[170,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,36]}},"argument":"elem","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,56],"start":[170,45]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,61],"start":[170,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,61],"start":[170,57]}},"type":"Var","value":{"identifier":"elem","sourcePos":[170,37]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,62]}},"type":"Var","value":{"identifier":"x","sourcePos":[168,20]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,68],"start":[170,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,68],"start":[170,65]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"type":"App"},"identifier":"alreadySeen"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[172,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[172,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[172,33],"start":[172,31]}},"type":"Var","value":{"identifier":"go","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,34]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,40],"start":[172,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,40],"start":[172,38]}},"type":"Var","value":{"identifier":"xs","sourcePos":[168,29]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[172,11]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[173,18],"start":[173,16]}},"type":"Var","value":{"identifier":"go","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,37],"start":[173,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,30],"start":[173,20]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,34],"start":[173,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,34],"start":[173,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,35]}},"type":"Var","value":{"identifier":"x","sourcePos":[168,20]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[173,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[173,38]}},"type":"Var","value":{"identifier":"xs","sourcePos":[168,29]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,25],"start":[172,14]}},"type":"Var","value":{"identifier":"alreadySeen","sourcePos":[170,11]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[163,21],"start":[163,19]}},"type":"Var","value":{"identifier":"go","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,24],"start":[163,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,24],"start":[163,22]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,28],"start":[163,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,28],"start":[163,25]}},"type":"Var","value":{"identifier":"arr","sourcePos":[163,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"nubElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[145,84],"start":[145,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,84],"start":[145,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,84],"start":[145,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[146,28],"start":[146,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,28],"start":[146,24]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,45],"start":[146,32]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,32]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,46]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[147,19],"start":[147,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[147,19],"start":[147,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"EmptySelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,39],"start":[147,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,24],"start":[147,23]}},"type":"Var","value":{"identifier":"r","sourcePos":[147,18]}},"fieldName":"parentElements","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[148,19],"start":[148,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,19],"start":[148,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,24],"start":[148,23]}},"type":"Var","value":{"identifier":"r","sourcePos":[148,18]}},"fieldName":"elements","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[149,21],"start":[149,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[149,21],"start":[149,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"PendingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,41],"start":[149,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,26],"start":[149,25]}},"type":"Var","value":{"identifier":"r","sourcePos":[149,20]}},"fieldName":"parentElements","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[150,21],"start":[150,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,21],"start":[150,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"ExitingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[150,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,26],"start":[150,25]}},"type":"Var","value":{"identifier":"r","sourcePos":[150,20]}},"fieldName":"elements","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,55],"start":[146,51]}},"type":"Var","value":{"identifier":"impl","sourcePos":[146,24]}}],"type":"Case"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[368,20],"start":[364,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[368,20],"start":[364,1]}},"argument":"attrName","body":{"annotation":{"meta":null,"sourceSpan":{"end":[368,20],"start":[364,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[370,29],"start":[370,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[369,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,34]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[372,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,17],"start":[372,5]}},"type":"Var","value":{"identifier":"getAttribute","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,26],"start":[372,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,26],"start":[372,18]}},"type":"Var","value":{"identifier":"attrName","sourcePos":[369,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,34],"start":[372,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,34],"start":[372,27]}},"type":"Var","value":{"identifier":"element","sourcePos":[371,35]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[372,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,45],"start":[372,39]}},"type":"Var","value":{"identifier":"isJust","moduleName":["Data","Maybe"]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[371,22],"start":[371,14]}},"type":"Var","value":{"identifier":"elements","sourcePos":[370,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,3]}},"argument":"results","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,36],"start":[373,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[373,19],"start":[373,10]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,28],"start":[373,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[373,36],"start":[373,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,36],"start":[373,29]}},"type":"Var","value":{"identifier":"results","sourcePos":[371,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"hasAttribute"},{"annotation":{"meta":null,"sourceSpan":{"end":[350,20],"start":[346,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[350,20],"start":[346,1]}},"argument":"className","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,20],"start":[346,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[352,29],"start":[352,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[351,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,34]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[354,25],"start":[354,16]}},"type":"Var","value":{"identifier":"classList","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,26]}},"type":"Var","value":{"identifier":"element","sourcePos":[353,35]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,5]}},"argument":"classes","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[355,26],"start":[355,5]}},"type":"Var","value":{"identifier":"contains","moduleName":["Web","DOM","DOMTokenList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,34],"start":[355,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,34],"start":[355,27]}},"type":"Var","value":{"identifier":"classes","sourcePos":[354,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[355,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[355,35]}},"type":"Var","value":{"identifier":"className","sourcePos":[351,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,22],"start":[353,14]}},"type":"Var","value":{"identifier":"elements","sourcePos":[352,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,3]}},"argument":"results","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[356,19],"start":[356,10]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[356,28],"start":[356,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,29]}},"type":"Var","value":{"identifier":"results","sourcePos":[353,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"hasClass"},{"annotation":{"meta":null,"sourceSpan":{"end":[632,74],"start":[632,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[632,74],"start":[632,1]}},"argument":"selection","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[633,31],"start":[633,21]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[633,55],"start":[633,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[633,45],"start":[633,34]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[633,55],"start":[633,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[633,55],"start":[633,46]}},"type":"Var","value":{"identifier":"selection","sourcePos":[633,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"isEmpty"},{"annotation":{"meta":null,"sourceSpan":{"end":[642,67],"start":[642,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[642,67],"start":[642,1]}},"argument":"selection","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[643,30],"start":[643,18]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[643,54],"start":[643,18]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[643,44],"start":[643,33]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[643,54],"start":[643,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[643,54],"start":[643,45]}},"type":"Var","value":{"identifier":"selection","sourcePos":[643,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"size"},{"annotation":{"meta":null,"sourceSpan":{"end":[697,80],"start":[697,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[698,11]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"identifier":"toArray"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,86],"start":[153,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,86],"start":[153,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,86],"start":[153,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[154,28],"start":[154,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[154,28],"start":[154,24]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[154,32]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[155,19],"start":[155,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,19],"start":[155,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"EmptySelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,38],"start":[155,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,38],"start":[155,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,29],"start":[155,28]}},"type":"Var","value":{"identifier":"r","sourcePos":[155,18]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[156,19],"start":[156,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,19],"start":[156,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,38],"start":[156,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,38],"start":[156,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,29],"start":[156,28]}},"type":"Var","value":{"identifier":"r","sourcePos":[156,18]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[157,21],"start":[157,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,21],"start":[157,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"PendingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,40],"start":[157,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,40],"start":[157,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,31],"start":[157,30]}},"type":"Var","value":{"identifier":"r","sourcePos":[157,20]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[158,21],"start":[158,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[158,21],"start":[158,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"ExitingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[158,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[158,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,31],"start":[158,30]}},"type":"Var","value":{"identifier":"r","sourcePos":[158,20]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,37]}},"type":"Var","value":{"identifier":"impl","sourcePos":[154,24]}}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[154,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getDocument"},{"annotation":{"meta":null,"sourceSpan":{"end":[421,49],"start":[417,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[421,49],"start":[417,1]}},"argument":"predicate","body":{"annotation":{"meta":null,"sourceSpan":{"end":[421,49],"start":[417,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[421,49],"start":[417,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[422,21],"start":[422,12]}},"binderType":"VarBinder","identifier":"predicate1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[422,37],"start":[422,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[422,37],"start":[422,33]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[421,49],"start":[417,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[424,74],"start":[424,61]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,61]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,75]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[425,23],"start":[425,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[425,23],"start":[425,22]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[425,27]}},"type":"Var","value":{"identifier":"r","sourcePos":[425,22]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[424,84],"start":[424,80]}},"type":"Var","value":{"identifier":"impl","sourcePos":[422,33]}}],"type":"Case"},"type":"Abs"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[425,28],"start":[424,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,61]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[425,28],"start":[424,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[424,58],"start":[424,5]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[424,15],"start":[424,7]}},"binderType":"VarBinder","identifier":"elements"}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[424,32],"start":[424,23]}},"binderType":"VarBinder","identifier":"boundData"}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[424,41],"start":[424,34]}},"binderType":"VarBinder","identifier":"indices"}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[424,56],"start":[424,53]}},"binderType":"VarBinder","identifier":"doc"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[427,54],"start":[427,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[427,54],"start":[427,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[427,29],"start":[427,16]}},"type":"Var","value":{"identifier":"zipWith","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[427,35],"start":[427,16]}},"argument":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[427,35],"start":[427,30]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[427,44],"start":[427,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[427,44],"start":[427,36]}},"type":"Var","value":{"identifier":"elements","sourcePos":[424,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[427,54],"start":[427,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[427,54],"start":[427,45]}},"type":"Var","value":{"identifier":"boundData","sourcePos":[424,23]}},"type":"App"},"identifier":"zipped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[428,75],"start":[428,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[428,75],"start":[428,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[428,30],"start":[428,20]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[428,68],"start":[428,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[428,67],"start":[428,32]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[428,67],"start":[428,32]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[428,47],"start":[428,34]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[428,41],"start":[428,40]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[428,47],"start":[428,42]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[428,61],"start":[428,52]}},"type":"Var","value":{"identifier":"predicate1","sourcePos":[422,12]}},"annotation":{"meta":null,"sourceSpan":{"end":[428,67],"start":[428,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[428,67],"start":[428,62]}},"type":"Var","value":{"identifier":"datum","sourcePos":[428,42]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[428,75],"start":[428,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[428,75],"start":[428,69]}},"type":"Var","value":{"identifier":"zipped","sourcePos":[427,7]}},"type":"App"},"identifier":"maybeMatch"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[432,86],"start":[430,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[431,12],"start":[431,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,57],"start":[431,16]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[431,39],"start":[431,23]}},"type":"Var","value":{"identifier":"mkBoundSelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,42],"start":[431,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,42],"start":[431,40]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,45],"start":[431,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,45],"start":[431,43]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,53],"start":[431,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,53],"start":[431,46]}},"type":"Var","value":{"identifier":"indices","sourcePos":[424,34]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,57],"start":[431,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,57],"start":[431,54]}},"type":"Var","value":{"identifier":"doc","sourcePos":[424,53]}},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[432,28],"start":[432,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[432,27],"start":[432,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[432,21],"start":[432,17]}},"binderType":"VarBinder","identifier":"elem"},{"annotation":{"meta":null,"sourceSpan":{"end":[432,27],"start":[432,22]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[432,86],"start":[432,32]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[432,55],"start":[432,39]}},"type":"Var","value":{"identifier":"mkBoundSelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[432,64],"start":[432,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,64],"start":[432,56]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[432,62],"start":[432,58]}},"type":"Var","value":{"identifier":"elem","sourcePos":[432,17]}}]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[432,74],"start":[432,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,74],"start":[432,65]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[432,72],"start":[432,67]}},"type":"Var","value":{"identifier":"datum","sourcePos":[432,22]}}]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[432,82],"start":[432,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,82],"start":[432,75]}},"type":"Var","value":{"identifier":"indices","sourcePos":[424,34]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[432,86],"start":[432,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,86],"start":[432,83]}},"type":"Var","value":{"identifier":"doc","sourcePos":[424,53]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[430,18],"start":[430,8]}},"type":"Var","value":{"identifier":"maybeMatch","sourcePos":[428,7]}}],"type":"Case"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[421,49],"start":[417,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[432,86],"start":[422,1]}},"type":"Var","value":{"identifier":"predicate","sourcePos":[422,12]}},{"annotation":{"meta":null,"sourceSpan":{"end":[432,86],"start":[422,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"findByData"},{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"argument":"predicate","body":{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[394,23],"start":[394,14]}},"binderType":"VarBinder","identifier":"predicate1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[394,39],"start":[394,25]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[394,39],"start":[394,35]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[396,74],"start":[396,61]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,61]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,75]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[397,23],"start":[397,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[397,23],"start":[397,22]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[397,27]}},"type":"Var","value":{"identifier":"r","sourcePos":[397,22]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[396,84],"start":[396,80]}},"type":"Var","value":{"identifier":"impl","sourcePos":[394,35]}}],"type":"Case"},"type":"Abs"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[397,28],"start":[396,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,61]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[396,58],"start":[396,5]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[396,15],"start":[396,7]}},"binderType":"VarBinder","identifier":"elements"}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[396,32],"start":[396,23]}},"binderType":"VarBinder","identifier":"boundData"}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[396,41],"start":[396,34]}},"binderType":"VarBinder","identifier":"indices"}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[396,56],"start":[396,53]}},"binderType":"VarBinder","identifier":"doc"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[400,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[401,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[402,21],"start":[402,9]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[402,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,23]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,23]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[402,38],"start":[402,25]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[402,32],"start":[402,31]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[402,38],"start":[402,33]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[402,52],"start":[402,43]}},"type":"Var","value":{"identifier":"predicate1","sourcePos":[394,14]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,53]}},"type":"Var","value":{"identifier":"datum","sourcePos":[402,33]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[401,16]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[401,29],"start":[401,16]}},"type":"Var","value":{"identifier":"zipWith","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,35],"start":[401,16]}},"argument":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[401,35],"start":[401,30]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,44],"start":[401,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,44],"start":[401,36]}},"type":"Var","value":{"identifier":"elements","sourcePos":[396,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,54],"start":[401,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,54],"start":[401,45]}},"type":"Var","value":{"identifier":"boundData","sourcePos":[396,23]}},"type":"App"},"type":"App"},"identifier":"filtered"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[404,55],"start":[404,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,54],"start":[404,31]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[404,54],"start":[404,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[404,45],"start":[404,33]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[404,43],"start":[404,39]}},"binderType":"VarBinder","identifier":"elem"},{"annotation":{"meta":null,"sourceSpan":{"end":[404,45],"start":[404,44]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[404,54],"start":[404,50]}},"type":"Var","value":{"identifier":"elem","sourcePos":[404,39]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,56]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[401,5]}},"type":"App"},"identifier":"filteredElements"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[405,53],"start":[405,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,52],"start":[405,27]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[405,52],"start":[405,27]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[405,42],"start":[405,29]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[405,36],"start":[405,35]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[405,42],"start":[405,37]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[405,52],"start":[405,47]}},"type":"Var","value":{"identifier":"datum","sourcePos":[405,37]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,54]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[401,5]}},"type":"App"},"identifier":"filteredData"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[407,68],"start":[407,3]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[407,26],"start":[407,10]}},"type":"Var","value":{"identifier":"mkBoundSelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[407,43],"start":[407,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,43],"start":[407,27]}},"type":"Var","value":{"identifier":"filteredElements","sourcePos":[404,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[407,56],"start":[407,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,56],"start":[407,44]}},"type":"Var","value":{"identifier":"filteredData","sourcePos":[405,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[407,64],"start":[407,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,64],"start":[407,57]}},"type":"Var","value":{"identifier":"indices","sourcePos":[396,34]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[407,68],"start":[407,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,68],"start":[407,65]}},"type":"Var","value":{"identifier":"doc","sourcePos":[396,53]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[407,68],"start":[394,1]}},"type":"Var","value":{"identifier":"predicate","sourcePos":[394,14]}},{"annotation":{"meta":null,"sourceSpan":{"end":[407,68],"start":[394,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"filterByData"},{"annotation":{"meta":null,"sourceSpan":{"end":[176,101],"start":[176,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[176,101],"start":[176,1]}},"argument":"elements","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,16],"start":[178,10]}},"type":"Var","value":{"identifier":"window","moduleName":["Web","HTML"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,29],"start":[178,21]}},"type":"Var","value":{"identifier":"document","moduleName":["Web","HTML","Window"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,44],"start":[178,34]}},"type":"Var","value":{"identifier":"toDocument","moduleName":["Web","HTML","HTMLDocument"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,3]}},"argument":"doc","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[179,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[179,19],"start":[179,10]}},"type":"Var","value":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[179,3]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[179,36],"start":[179,22]}},"type":"Var","value":{"identifier":"EmptySelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[179,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[180,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["parentElements",{"annotation":{"meta":null,"sourceSpan":{"end":[180,31],"start":[180,23]}},"type":"Var","value":{"identifier":"elements","sourcePos":[177,1]}}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[181,20],"start":[181,17]}},"type":"Var","value":{"identifier":"doc","sourcePos":[178,3]}}]]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"emptySelectionFromElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"argument":"attrName","body":{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"argument":"attrValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[334,29],"start":[334,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[333,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"filterA","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,40]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[336,31],"start":[336,19]}},"type":"Var","value":{"identifier":"getAttribute","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,40],"start":[336,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,40],"start":[336,32]}},"type":"Var","value":{"identifier":"attrName","sourcePos":[333,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,41]}},"type":"Var","value":{"identifier":"element","sourcePos":[335,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,5]}},"argument":"maybeValue","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,22],"start":[337,12]}},"type":"Var","value":{"identifier":"maybeValue","sourcePos":[336,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[337,30],"start":[337,26]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,31]}},"type":"Var","value":{"identifier":"attrValue","sourcePos":[333,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,23],"start":[335,15]}},"type":"Var","value":{"identifier":"elements","sourcePos":[334,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,3]}},"argument":"filtered","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[338,29],"start":[338,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,38],"start":[338,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,38],"start":[338,30]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[335,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"filterByAttribute"},{"annotation":{"meta":null,"sourceSpan":{"end":[311,48],"start":[307,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[311,48],"start":[307,1]}},"argument":"className","body":{"annotation":{"meta":null,"sourceSpan":{"end":[311,48],"start":[307,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[313,29],"start":[313,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[312,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"filterA","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,40]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[315,25],"start":[315,16]}},"type":"Var","value":{"identifier":"classList","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,26]}},"type":"Var","value":{"identifier":"element","sourcePos":[314,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,5]}},"argument":"classes","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[316,26],"start":[316,5]}},"type":"Var","value":{"identifier":"contains","moduleName":["Web","DOM","DOMTokenList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,34],"start":[316,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,34],"start":[316,27]}},"type":"Var","value":{"identifier":"classes","sourcePos":[315,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[316,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[316,35]}},"type":"Var","value":{"identifier":"className","sourcePos":[312,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[314,23],"start":[314,15]}},"type":"Var","value":{"identifier":"elements","sourcePos":[313,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,3]}},"argument":"filtered","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[317,29],"start":[317,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[317,38],"start":[317,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[317,38],"start":[317,30]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[314,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"filterByClass"},{"annotation":{"meta":null,"sourceSpan":{"end":[654,48],"start":[651,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[654,48],"start":[651,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[656,39],"start":[656,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[656,39],"start":[656,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[656,29],"start":[656,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[656,39],"start":[656,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[656,39],"start":[656,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[655,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[657,29],"start":[657,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[657,86],"start":[657,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[657,41],"start":[657,32]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[657,44],"start":[657,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[657,44],"start":[657,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[657,86],"start":[657,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[657,85],"start":[657,46]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[657,56],"start":[657,46]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[657,65],"start":[657,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[657,65],"start":[657,57]}},"type":"Var","value":{"identifier":"elements","sourcePos":[656,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[657,85],"start":[657,46]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[657,85],"start":[657,70]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"first"},{"annotation":{"meta":null,"sourceSpan":{"end":[592,48],"start":[588,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[592,48],"start":[588,1]}},"argument":"sel1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[592,48],"start":[588,1]}},"argument":"sel2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[594,35],"start":[594,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[594,35],"start":[594,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[594,30],"start":[594,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[594,35],"start":[594,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[594,35],"start":[594,31]}},"type":"Var","value":{"identifier":"sel1","sourcePos":[593,1]}},"type":"App"},"identifier":"elements1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[595,35],"start":[595,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[595,35],"start":[595,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[595,30],"start":[595,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[595,35],"start":[595,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[595,35],"start":[595,31]}},"type":"Var","value":{"identifier":"sel2","sourcePos":[593,1]}},"type":"App"},"identifier":"elements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[597,84],"start":[597,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[597,84],"start":[597,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[597,84],"start":[597,7]}},"argument":"elem1","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[597,38],"start":[597,29]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[597,74],"start":[597,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,73],"start":[597,40]}},"argument":"elem2","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[597,61],"start":[597,50]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[597,67],"start":[597,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,67],"start":[597,62]}},"type":"Var","value":{"identifier":"elem1","sourcePos":[597,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[597,73],"start":[597,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,73],"start":[597,68]}},"type":"Var","value":{"identifier":"elem2","sourcePos":[597,41]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[597,84],"start":[597,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,84],"start":[597,75]}},"type":"Var","value":{"identifier":"elements2","sourcePos":[595,7]}},"type":"App"},"type":"Abs"},"identifier":"isInElements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[598,58],"start":[598,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[598,58],"start":[598,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[598,34],"start":[598,22]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[598,48],"start":[598,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[598,48],"start":[598,35]}},"type":"Var","value":{"identifier":"isInElements2","sourcePos":[597,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[598,58],"start":[598,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[598,58],"start":[598,49]}},"type":"Var","value":{"identifier":"elements1","sourcePos":[594,7]}},"type":"App"},"identifier":"intersection"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[599,29],"start":[599,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[599,42],"start":[599,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[599,42],"start":[599,30]}},"type":"Var","value":{"identifier":"intersection","sourcePos":[598,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"intersect"},{"annotation":{"meta":null,"sourceSpan":{"end":[668,48],"start":[665,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[668,48],"start":[665,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[670,39],"start":[670,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[670,39],"start":[670,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[670,29],"start":[670,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[670,39],"start":[670,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[670,39],"start":[670,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[669,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[671,29],"start":[671,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,86],"start":[671,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[671,41],"start":[671,32]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,44],"start":[671,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,44],"start":[671,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,86],"start":[671,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,85],"start":[671,46]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[671,56],"start":[671,46]}},"type":"Var","value":{"identifier":"last","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,65],"start":[671,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,65],"start":[671,57]}},"type":"Var","value":{"identifier":"elements","sourcePos":[670,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,85],"start":[671,46]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[671,85],"start":[671,70]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"last"},{"annotation":{"meta":null,"sourceSpan":{"end":[683,48],"start":[679,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[683,48],"start":[679,1]}},"argument":"index","body":{"annotation":{"meta":null,"sourceSpan":{"end":[683,48],"start":[679,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[685,29],"start":[685,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[684,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[686,29],"start":[686,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,93],"start":[686,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[686,41],"start":[686,32]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,44],"start":[686,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[686,44],"start":[686,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[686,93],"start":[686,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,92],"start":[686,46]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[686,57],"start":[686,46]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,66],"start":[686,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[686,66],"start":[686,58]}},"type":"Var","value":{"identifier":"elements","sourcePos":[685,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[686,72],"start":[686,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[686,72],"start":[686,67]}},"type":"Var","value":{"identifier":"index","sourcePos":[684,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[686,92],"start":[686,46]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[686,92],"start":[686,77]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"nth"},{"annotation":{"meta":null,"sourceSpan":{"end":[450,48],"start":[447,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[450,48],"start":[447,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[452,39],"start":[452,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[452,39],"start":[452,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[452,29],"start":[452,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[452,39],"start":[452,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[452,39],"start":[452,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[451,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[453,65],"start":[453,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[453,65],"start":[453,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"composeFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[453,64],"start":[453,35]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[453,49],"start":[453,35]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[453,64],"start":[453,35]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[453,64],"start":[453,54]}},"type":"Var","value":{"identifier":"parentNode","moduleName":["Web","DOM","Node"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[453,65],"start":[453,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[453,22],"start":[453,14]}},"type":"Var","value":{"identifier":"elements","sourcePos":[452,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[453,65],"start":[453,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[453,65],"start":[453,3]}},"argument":"parents","body":{"annotation":{"meta":null,"sourceSpan":{"end":[454,83],"start":[454,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[454,83],"start":[454,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[454,34],"start":[454,23]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[454,83],"start":[454,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[454,51],"start":[454,37]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[454,75],"start":[454,37]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"composeKleisliFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[454,74],"start":[454,53]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[454,61],"start":[454,53]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[454,74],"start":[454,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[454,83],"start":[454,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[454,83],"start":[454,76]}},"type":"Var","value":{"identifier":"parents","sourcePos":[453,3]}},"type":"App"},"type":"App"},"identifier":"uniqueParents"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[455,29],"start":[455,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[455,43],"start":[455,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[455,43],"start":[455,30]}},"type":"Var","value":{"identifier":"uniqueParents","sourcePos":[454,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"parentElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[242,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[242,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[242,1]}},"argument":"selectionsMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,54],"start":[248,44]}},"type":"Var","value":{"identifier":"values","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,55]}},"type":"Var","value":{"identifier":"selectionsMap","sourcePos":[247,1]}},"type":"App"},"type":"App"},"identifier":"allSelections"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[249,33],"start":[249,21]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,51],"start":[249,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,51],"start":[249,40]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,52]}},"type":"Var","value":{"identifier":"allSelections","sourcePos":[248,7]}},"type":"App"},"type":"App"},"identifier":"allElements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[250,38],"start":[250,14]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,47],"start":[250,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,47],"start":[250,39]}},"type":"Var","value":{"identifier":"selector","sourcePos":[247,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,48]}},"type":"Var","value":{"identifier":"allElements","sourcePos":[249,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,3]}},"argument":"matches","body":{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[252,34],"start":[252,23]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,35]}},"type":"Var","value":{"identifier":"matches","sourcePos":[250,3]}},"type":"App"},"identifier":"uniqueMatches"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,43],"start":[253,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,43],"start":[253,30]}},"type":"Var","value":{"identifier":"uniqueMatches","sourcePos":[252,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"queryAll"},{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"argument":"selectionsMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[270,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[270,23],"start":[270,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,23],"start":[270,19]}},"type":"Var","value":{"identifier":"name","sourcePos":[269,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,37],"start":[270,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,37],"start":[270,24]}},"type":"Var","value":{"identifier":"selectionsMap","sourcePos":[269,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[270,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[271,12],"start":[271,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[271,42],"start":[271,16]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,45],"start":[271,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,45],"start":[271,43]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[272,19],"start":[272,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[272,19],"start":[272,10]}},"binderType":"VarBinder","identifier":"selection"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[273,33],"start":[273,22]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,34]}},"type":"Var","value":{"identifier":"selection","sourcePos":[272,10]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[274,46],"start":[274,21]}},"type":"Var","value":{"identifier":"querySelectorFirstElement","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,55],"start":[274,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,55],"start":[274,47]}},"type":"Var","value":{"identifier":"selector","sourcePos":[269,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,56]}},"type":"Var","value":{"identifier":"elements","sourcePos":[273,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,7]}},"argument":"maybeMatch","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[275,33],"start":[275,7]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[275,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,45],"start":[275,36]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,48],"start":[275,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,48],"start":[275,46]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[275,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,80],"start":[275,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,60],"start":[275,50]}},"type":"Var","value":{"identifier":"maybeMatch","sourcePos":[274,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,80],"start":[275,50]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,80],"start":[275,65]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"queryFirst"},{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"argument":"selectionsMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[225,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,23],"start":[225,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,23],"start":[225,19]}},"type":"Var","value":{"identifier":"name","sourcePos":[224,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,37],"start":[225,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,37],"start":[225,24]}},"type":"Var","value":{"identifier":"selectionsMap","sourcePos":[224,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[225,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[226,12],"start":[226,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[226,42],"start":[226,16]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,45],"start":[226,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,45],"start":[226,43]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[227,19],"start":[227,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,19],"start":[227,10]}},"binderType":"VarBinder","identifier":"selection"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[228,33],"start":[228,22]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,34]}},"type":"Var","value":{"identifier":"selection","sourcePos":[227,10]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[229,42],"start":[229,18]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,51],"start":[229,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,51],"start":[229,43]}},"type":"Var","value":{"identifier":"selector","sourcePos":[224,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,52]}},"type":"Var","value":{"identifier":"elements","sourcePos":[228,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,7]}},"argument":"matches","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[230,33],"start":[230,7]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[230,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[230,34]}},"type":"Var","value":{"identifier":"matches","sourcePos":[229,7]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"queryIn"},{"annotation":{"meta":null,"sourceSpan":{"end":[289,48],"start":[285,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[289,48],"start":[285,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[289,48],"start":[285,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[291,29],"start":[291,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[290,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[292,38],"start":[292,14]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,47],"start":[292,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,47],"start":[292,39]}},"type":"Var","value":{"identifier":"selector","sourcePos":[290,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,48]}},"type":"Var","value":{"identifier":"elements","sourcePos":[291,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,3]}},"argument":"matches","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[293,29],"start":[293,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[293,37],"start":[293,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[293,37],"start":[293,30]}},"type":"Var","value":{"identifier":"matches","sourcePos":[292,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"queryInBound"},{"annotation":{"meta":null,"sourceSpan":{"end":[506,48],"start":[503,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[506,48],"start":[503,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[508,39],"start":[508,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,39],"start":[508,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[508,29],"start":[508,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[508,39],"start":[508,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[508,39],"start":[508,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[507,1]}},"type":"App"},"identifier":"elements"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[510,76],"start":[510,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[510,76],"start":[510,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[510,76],"start":[510,7]}},"argument":"elem","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[510,34],"start":[510,25]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[510,67],"start":[510,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[510,66],"start":[510,36]}},"argument":"orig","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[510,56],"start":[510,45]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[510,61],"start":[510,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[510,61],"start":[510,57]}},"type":"Var","value":{"identifier":"elem","sourcePos":[510,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[510,66],"start":[510,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[510,66],"start":[510,62]}},"type":"Var","value":{"identifier":"orig","sourcePos":[510,37]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[510,76],"start":[510,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[510,76],"start":[510,68]}},"type":"Var","value":{"identifier":"elements","sourcePos":[508,7]}},"type":"App"},"type":"Abs"},"identifier":"isOriginal"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[512,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[512,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[512,40]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[513,55],"start":[513,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[513,55],"start":[513,45]}},"type":"Var","value":{"identifier":"parentNode","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[513,55],"start":[513,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[513,34],"start":[513,20]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[513,42],"start":[513,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[513,42],"start":[513,35]}},"type":"Var","value":{"identifier":"element","sourcePos":[512,41]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[513,55],"start":[513,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[513,55],"start":[513,5]}},"argument":"maybeParent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[514,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[515,14],"start":[515,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[515,25],"start":[515,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[515,25],"start":[515,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[516,18],"start":[516,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[516,18],"start":[516,12]}},"binderType":"VarBinder","identifier":"parent"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[517,38],"start":[517,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[517,31],"start":[517,21]}},"type":"Var","value":{"identifier":"childNodes","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[517,38],"start":[517,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[517,38],"start":[517,32]}},"type":"Var","value":{"identifier":"parent","sourcePos":[516,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[517,38],"start":[517,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[517,38],"start":[517,9]}},"argument":"nodeList","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[518,43],"start":[518,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[518,34],"start":[518,18]}},"type":"Var","value":{"identifier":"toArray","moduleName":["Web","DOM","NodeList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[518,43],"start":[518,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[518,43],"start":[518,35]}},"type":"Var","value":{"identifier":"nodeList","sourcePos":[517,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[518,43],"start":[518,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[518,43],"start":[518,9]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[519,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[519,30],"start":[519,16]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[519,39],"start":[519,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[519,39],"start":[519,31]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[519,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[519,40]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[518,9]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[514,21],"start":[514,10]}},"type":"Var","value":{"identifier":"maybeParent","sourcePos":[513,5]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[512,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[512,28],"start":[512,20]}},"type":"Var","value":{"identifier":"elements","sourcePos":[508,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[512,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[519,45],"start":[512,3]}},"argument":"siblingArrays","body":{"annotation":{"meta":null,"sourceSpan":{"end":[522,47],"start":[522,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[522,47],"start":[522,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[522,33],"start":[522,21]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[522,47],"start":[522,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[522,47],"start":[522,34]}},"type":"Var","value":{"identifier":"siblingArrays","sourcePos":[512,3]}},"type":"App"},"identifier":"allSiblings"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[523,47],"start":[523,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[523,47],"start":[523,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[523,35],"start":[523,24]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[523,47],"start":[523,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[523,47],"start":[523,36]}},"type":"Var","value":{"identifier":"allSiblings","sourcePos":[522,7]}},"type":"App"},"identifier":"uniqueSiblings"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[524,74],"start":[524,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[524,74],"start":[524,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[524,38],"start":[524,26]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,59],"start":[524,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,58],"start":[524,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,58],"start":[524,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,58],"start":[524,48]}},"type":"Var","value":{"identifier":"isOriginal","sourcePos":[510,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,74],"start":[524,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,74],"start":[524,60]}},"type":"Var","value":{"identifier":"uniqueSiblings","sourcePos":[523,7]}},"type":"App"},"identifier":"filteredSiblings"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[526,29],"start":[526,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[526,46],"start":[526,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,46],"start":[526,30]}},"type":"Var","value":{"identifier":"filteredSiblings","sourcePos":[524,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"identifier":"siblings"},{"annotation":{"meta":null,"sourceSpan":{"end":[574,48],"start":[571,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[574,48],"start":[571,1]}},"argument":"selections","body":{"annotation":{"meta":null,"sourceSpan":{"end":[576,62],"start":[576,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[576,62],"start":[576,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[576,33],"start":[576,21]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[576,62],"start":[576,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[576,51],"start":[576,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[576,51],"start":[576,40]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[576,62],"start":[576,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[576,62],"start":[576,52]}},"type":"Var","value":{"identifier":"selections","sourcePos":[575,1]}},"type":"App"},"type":"App"},"identifier":"allElements"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[577,47],"start":[577,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[577,47],"start":[577,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[577,35],"start":[577,24]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[577,47],"start":[577,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[577,47],"start":[577,36]}},"type":"Var","value":{"identifier":"allElements","sourcePos":[576,7]}},"type":"App"},"identifier":"uniqueElements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[578,29],"start":[578,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[578,44],"start":[578,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[578,44],"start":[578,30]}},"type":"Var","value":{"identifier":"uniqueElements","sourcePos":[577,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"identifier":"union"},{"annotation":{"meta":null,"sourceSpan":{"end":[613,48],"start":[609,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[613,48],"start":[609,1]}},"argument":"sel1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[613,48],"start":[609,1]}},"argument":"sel2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[615,35],"start":[615,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[615,35],"start":[615,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[615,30],"start":[615,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[615,35],"start":[615,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[615,35],"start":[615,31]}},"type":"Var","value":{"identifier":"sel1","sourcePos":[614,1]}},"type":"App"},"identifier":"elements1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[616,35],"start":[616,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[616,35],"start":[616,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[616,30],"start":[616,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[616,35],"start":[616,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,35],"start":[616,31]}},"type":"Var","value":{"identifier":"sel2","sourcePos":[614,1]}},"type":"App"},"identifier":"elements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,84],"start":[618,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[618,84],"start":[618,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,84],"start":[618,7]}},"argument":"elem1","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[618,38],"start":[618,29]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,74],"start":[618,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,73],"start":[618,40]}},"argument":"elem2","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[618,61],"start":[618,50]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,67],"start":[618,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,67],"start":[618,62]}},"type":"Var","value":{"identifier":"elem1","sourcePos":[618,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,73],"start":[618,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,73],"start":[618,68]}},"type":"Var","value":{"identifier":"elem2","sourcePos":[618,41]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,84],"start":[618,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,84],"start":[618,75]}},"type":"Var","value":{"identifier":"elements2","sourcePos":[616,7]}},"type":"App"},"type":"Abs"},"identifier":"isInElements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[619,60],"start":[619,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[619,60],"start":[619,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[619,26],"start":[619,14]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[619,50],"start":[619,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[619,49],"start":[619,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[619,49],"start":[619,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,49],"start":[619,36]}},"type":"Var","value":{"identifier":"isInElements2","sourcePos":[618,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[619,60],"start":[619,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,60],"start":[619,51]}},"type":"Var","value":{"identifier":"elements1","sourcePos":[615,7]}},"type":"App"},"identifier":"diff"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[620,29],"start":[620,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[620,34],"start":[620,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[620,34],"start":[620,30]}},"type":"Var","value":{"identifier":"diff","sourcePos":[619,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"difference"},{"annotation":{"meta":null,"sourceSpan":{"end":[489,48],"start":[485,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[489,48],"start":[485,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[489,48],"start":[485,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[491,39],"start":[491,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[491,39],"start":[491,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[491,29],"start":[491,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[491,39],"start":[491,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[491,39],"start":[491,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[490,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[492,56],"start":[492,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[492,38],"start":[492,14]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[492,47],"start":[492,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[492,47],"start":[492,39]}},"type":"Var","value":{"identifier":"selector","sourcePos":[490,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[492,56],"start":[492,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[492,56],"start":[492,48]}},"type":"Var","value":{"identifier":"elements","sourcePos":[491,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[492,56],"start":[492,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[492,56],"start":[492,3]}},"argument":"matches","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[493,29],"start":[493,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,37],"start":[493,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[493,37],"start":[493,30]}},"type":"Var","value":{"identifier":"matches","sourcePos":[492,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"descendants"},{"annotation":{"meta":null,"sourceSpan":{"end":[468,48],"start":[465,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[468,48],"start":[465,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[470,39],"start":[470,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[470,39],"start":[470,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[470,29],"start":[470,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[470,39],"start":[470,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[470,39],"start":[470,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[469,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[471,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[471,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[471,38]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[472,52],"start":[472,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[472,52],"start":[472,42]}},"type":"Var","value":{"identifier":"childNodes","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[472,52],"start":[472,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[472,31],"start":[472,17]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[472,39],"start":[472,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[472,39],"start":[472,32]}},"type":"Var","value":{"identifier":"element","sourcePos":[471,39]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[472,52],"start":[472,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[472,52],"start":[472,5]}},"argument":"nodeList","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[473,39],"start":[473,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[473,30],"start":[473,14]}},"type":"Var","value":{"identifier":"toArray","moduleName":["Web","DOM","NodeList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[473,39],"start":[473,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,39],"start":[473,31]}},"type":"Var","value":{"identifier":"nodeList","sourcePos":[472,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[473,39],"start":[473,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,39],"start":[473,5]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[474,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[474,26],"start":[474,12]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[474,35],"start":[474,12]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[474,35],"start":[474,27]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[474,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[474,36]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[473,5]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[471,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,26],"start":[471,18]}},"type":"Var","value":{"identifier":"elements","sourcePos":[470,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[471,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[474,41],"start":[471,3]}},"argument":"childArrays","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[475,29],"start":[475,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[475,56],"start":[475,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[475,44],"start":[475,32]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[475,56],"start":[475,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[475,56],"start":[475,45]}},"type":"Var","value":{"identifier":"childArrays","sourcePos":[471,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"children"},{"annotation":{"meta":null,"sourceSpan":{"end":[540,48],"start":[537,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[540,48],"start":[537,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[542,39],"start":[542,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[542,39],"start":[542,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[542,29],"start":[542,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[542,39],"start":[542,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[542,39],"start":[542,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[541,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[545,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[545,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[545,41]}},"argument":"element","body":{"annotation":{"meta":null,"sourceSpan":{"end":[554,42],"start":[546,5]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[547,50],"start":[547,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[547,50],"start":[547,7]}},"argument":"elem","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[549,56],"start":[549,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[549,56],"start":[549,46]}},"type":"Var","value":{"identifier":"parentNode","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[549,56],"start":[549,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[549,38],"start":[549,24]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[549,43],"start":[549,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,43],"start":[549,39]}},"type":"Var","value":{"identifier":"elem","sourcePos":[548,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,56],"start":[549,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,56],"start":[549,9]}},"argument":"maybeParent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[554,42],"start":[550,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[540,48],"start":[537,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[550,38],"start":[550,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[550,25],"start":[550,14]}},"type":"Var","value":{"identifier":"maybeParent","sourcePos":[549,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[550,38],"start":[550,14]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[550,38],"start":[550,30]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[554,42],"start":[550,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[551,18],"start":[551,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[551,29],"start":[551,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[551,29],"start":[551,27]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[552,22],"start":[552,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[552,22],"start":[552,16]}},"binderType":"VarBinder","identifier":"parent"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[553,34],"start":[553,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[553,27],"start":[553,21]}},"type":"Var","value":{"identifier":"walkUp","sourcePos":[547,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[553,34],"start":[553,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[553,34],"start":[553,28]}},"type":"Var","value":{"identifier":"parent","sourcePos":[552,16]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[553,34],"start":[553,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[553,34],"start":[553,13]}},"argument":"rest","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[554,42],"start":[554,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[554,30],"start":[554,20]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[554,37],"start":[554,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[554,37],"start":[554,31]}},"type":"Var","value":{"identifier":"parent","sourcePos":[552,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[554,42],"start":[554,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[554,42],"start":[554,38]}},"type":"Var","value":{"identifier":"rest","sourcePos":[553,13]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[540,48],"start":[537,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"walkUp"}]}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[555,11],"start":[555,5]}},"type":"Var","value":{"identifier":"walkUp","sourcePos":[547,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[555,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[555,12]}},"type":"Var","value":{"identifier":"element","sourcePos":[545,42]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[545,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[545,29],"start":[545,21]}},"type":"Var","value":{"identifier":"elements","sourcePos":[542,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[545,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[555,19],"start":[545,3]}},"argument":"ancestorArrays","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[557,29],"start":[557,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[557,73],"start":[557,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[557,43],"start":[557,32]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[557,73],"start":[557,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[557,58],"start":[557,46]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[557,73],"start":[557,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[557,73],"start":[557,59]}},"type":"Var","value":{"identifier":"ancestorArrays","sourcePos":[545,3]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"ancestors"}],"exports":["queryIn","queryAll","queryFirst","queryInBound","filterByClass","filterByAttribute","hasClass","hasAttribute","filterByData","findByData","parentElements","children","descendants","siblings","ancestors","union","intersect","difference","isEmpty","size","first","last","nth","toArray"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Control","Category"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Control","Semigroupoid"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","List","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[121,23],"start":[121,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Traversable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["PSD3","Internal","Selection","Query"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["PSD3","Internal","Selection","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Partial","Unsafe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[117,15],"start":[117,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Unsafe","Reference"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","DOM","DOMTokenList"]},{"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,1]}},"moduleName":["Web","DOM","Document"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","DOM","Element"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","DOM","Node"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","DOM","NodeList"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","DOM","ParentNode"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","HTML"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","HTML","HTMLDocument"]},{"annotation":{"meta":null,"sourceSpan":{"end":[698,22],"start":[79,1]}},"moduleName":["Web","HTML","Window"]}],"moduleName":["PSD3","Internal","Selection","Query"],"modulePath":"../purescript-psd3-selection/src/PSD3/Internal/Selection/Query.purs","reExports":{},"sourceSpan":{"end":[698,22],"start":[79,1]}}