{"builtWith":"0.15.15","comments":[{"LineComment":" | EXPERIMENTAL: Selection Query Language"},{"LineComment":" |"},{"LineComment":" | **Status: Experimental - API may change**"},{"LineComment":" |"},{"LineComment":" | Provides CSS-style querying across named selections for dynamic selection manipulation."},{"LineComment":" | This module is orthogonal to the core selection API and can be used selectively."},{"LineComment":" |"},{"LineComment":" | ## Known Issues and Limitations"},{"LineComment":" |"},{"LineComment":" | ### 1. D3v2Selection_ Unwrapping"},{"LineComment":" |"},{"LineComment":" | When using with the D3v2 interpreter, you **cannot** simply `unsafeCoerce` from"},{"LineComment":" | `Map String (D3v2Selection_ ...)` to `Map String (Selection ...)`."},{"LineComment":" | The newtype constructor must be properly unwrapped:"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | -- ❌ WRONG: unsafeCoerce doesn't properly unwrap newtype constructors"},{"LineComment":" | let unwrapped = unsafeCoerce selections"},{"LineComment":" | groupCircles <- queryAll \".group-1\" unwrapped  -- Returns empty!"},{"LineComment":" |"},{"LineComment":" | -- ✅ RIGHT: Pattern match to unwrap each selection"},{"LineComment":" | let unwrapped = map (\\(D3v2Selection_ sel) -> sel) selections"},{"LineComment":" | groupCircles <- queryAll \".group-1\" unwrapped  -- Works correctly"},{"LineComment":" |"},{"LineComment":" | -- ✅ BEST: Use the wrapper function"},{"LineComment":" | groupCircles <- queryAllD3v2 \".group-1\" selections  -- Handles unwrapping"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | See `queryAllD3v2` in `PSD3.Interpreter.D3` for the correct wrapper."},{"LineComment":" |"},{"LineComment":" | ### 2. Phantom Type Transitions"},{"LineComment":" |"},{"LineComment":" | Query functions return `SEmpty` selections (no bound data), but you may know"},{"LineComment":" | that elements have data from prior joins. Currently requires `unsafeCoerce`"},{"LineComment":" | to transition from `SEmpty` to `SBoundOwns` for attribute operations."},{"LineComment":" |"},{"LineComment":" | ### 3. Controlled Coercion"},{"LineComment":" |"},{"LineComment":" | The `datumOut` type parameter is polymorphic, allowing the caller to specify"},{"LineComment":" | the expected datum type. This is safe only if you know what data is bound"},{"LineComment":" | to the queried elements. Type safety is enforced by later operations."},{"LineComment":" |"},{"LineComment":" | ## Alternative Approaches"},{"LineComment":" |"},{"LineComment":" | For simpler use cases, consider:"},{"LineComment":" | - **Direct DOM API**: Use `document.querySelectorAll` from JavaScript/FFI"},{"LineComment":" | - **CSS selector passthrough**: Store selectors as strings, apply later in"},{"LineComment":" |   a visualization builder/live-editor context"},{"LineComment":" | - **Document-level queries**: Simpler API that searches the whole document"},{"LineComment":" |   instead of within named selections"},{"LineComment":" |"},{"LineComment":" | ## Intended Use Cases"},{"LineComment":" |"},{"LineComment":" | - Interactive visualization builders with live-editing"},{"LineComment":" | - Prototyping with CSS selectors before principled implementation"},{"LineComment":" | - Dynamic selection and modification based on data properties"},{"LineComment":" | - Testing and debugging selections in development"},{"LineComment":" | - Meta-tree editing with selector annotations and lambda attributes"},{"LineComment":" |"},{"LineComment":" | ## Example Usage"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | -- Query within a named selection"},{"LineComment":" | activeCircles <- queryIn \"nodesGroup\" \"circle.active\" selections"},{"LineComment":" |"},{"LineComment":" | -- Query across all selections (with D3v2 interpreter)"},{"LineComment":" | allCircles <- queryAllD3v2 \"circle\" selections"},{"LineComment":" |"},{"LineComment":" | -- Filter by data predicate (requires bound selection)"},{"LineComment":" | largeNodes <- filterByData (_.value > 100) nodeCircles"},{"LineComment":" |"},{"LineComment":" | -- Traverse DOM structure"},{"LineComment":" | parents <- parentElements nodeCircles"},{"LineComment":" | allDescendants <- descendants \"circle\" containerGroup"},{"LineComment":" |"},{"LineComment":" | -- Combine selections"},{"LineComment":" | allShapes <- union [circles, rects, paths]"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,40],"start":[202,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,22],"start":[202,14]}},"type":"Var","value":{"identifier":"traverse","moduleName":["Data","Traversable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[202,32],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traversableArray","moduleName":["Data","Traversable"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[202,32],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"traverse"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,7],"start":[203,3]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,7],"start":[203,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,46],"start":[203,38]}},"type":"Var","value":{"identifier":"identity","moduleName":["Control","Category"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,46],"start":[203,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"categoryFn","moduleName":["Control","Category"]}},"type":"App"},"identifier":"identity"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,38],"start":[372,35]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[372,45],"start":[372,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"mapFlipped"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[404,29],"start":[404,26]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[404,55],"start":[404,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[335,39],"start":[335,26]}},"type":"Var","value":{"identifier":"filterA","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[337,40],"start":[335,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"filterA"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[337,25],"start":[337,23]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"type":"App"},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[672,69],"start":[672,66]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[672,85],"start":[672,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"mapFlipped1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[468,53],"start":[468,50]}},"type":"Var","value":{"identifier":"composeFlipped","moduleName":["Control","Semigroupoid"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[468,64],"start":[468,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupoidFn","moduleName":["Control","Semigroupoid"]}},"type":"App"},"identifier":"composeFlipped"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[469,65],"start":[469,62]}},"type":"Var","value":{"identifier":"composeKleisliFlipped","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[469,74],"start":[469,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"composeKleisliFlipped"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,41],"start":[248,23]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[248,41],"start":[248,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableList","moduleName":["Data","List","Types"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[270,18],"start":[270,8]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[270,23],"start":[270,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[539,47],"start":[539,44]}},"type":"Var","value":{"identifier":"compose","moduleName":["Control","Semigroupoid"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[539,58],"start":[539,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupoidFn","moduleName":["Control","Semigroupoid"]}},"type":"App"},"identifier":"compose"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[539,43],"start":[539,40]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[539,43],"start":[539,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[565,29],"start":[565,26]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[565,38],"start":[565,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"bind1"},{"annotation":{"meta":null,"sourceSpan":{"end":[195,79],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[195,79],"start":[195,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[195,79],"start":[195,1]}},"argument":"parents","body":{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[198,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[199,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[199,5]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,36],"start":[200,24]}},"type":"Var","value":{"identifier":"toParentNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,43],"start":[200,37]}},"type":"Var","value":{"identifier":"parent","sourcePos":[199,5]}},"type":"App"},"identifier":"parentNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,20],"start":[201,7]}},"type":"Var","value":{"identifier":"querySelector","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[201,35],"start":[201,22]}},"type":"Var","value":{"identifier":"QuerySelector","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,44],"start":[201,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,44],"start":[201,36]}},"type":"Var","value":{"identifier":"selector","sourcePos":[196,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[201,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,56],"start":[201,46]}},"type":"Var","value":{"identifier":"parentNode","sourcePos":[200,11]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"tryParent"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,23]}},"type":"Var","value":{"identifier":"tryParent","sourcePos":[199,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,33]}},"type":"Var","value":{"identifier":"parents","sourcePos":[196,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,40],"start":[202,3]}},"argument":"results","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,20],"start":[203,10]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,37],"start":[203,23]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,46],"start":[203,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,54],"start":[203,47]}},"type":"Var","value":{"identifier":"results","sourcePos":[202,3]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"querySelectorFirstElement"},{"annotation":{"meta":null,"sourceSpan":{"end":[185,78],"start":[185,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,78],"start":[185,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[185,78],"start":[185,1]}},"argument":"parents","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,36]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,34],"start":[188,22]}},"type":"Var","value":{"identifier":"toParentNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,41],"start":[188,35]}},"type":"Var","value":{"identifier":"parent","sourcePos":[187,37]}},"type":"App"},"identifier":"parentNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,33],"start":[189,17]}},"type":"Var","value":{"identifier":"querySelectorAll","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,58],"start":[189,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[189,48],"start":[189,35]}},"type":"Var","value":{"identifier":"QuerySelector","moduleName":["Web","DOM","ParentNode"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,57],"start":[189,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,57],"start":[189,49]}},"type":"Var","value":{"identifier":"selector","sourcePos":[186,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,59]}},"type":"Var","value":{"identifier":"parentNode","sourcePos":[188,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,69],"start":[189,5]}},"argument":"nodeList","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,30],"start":[190,14]}},"type":"Var","value":{"identifier":"toArray","moduleName":["Web","DOM","NodeList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,31]}},"type":"Var","value":{"identifier":"nodeList","sourcePos":[189,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,5]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,26],"start":[191,12]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,35],"start":[191,12]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,35],"start":[191,27]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,36]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[190,5]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,24],"start":[187,17]}},"type":"Var","value":{"identifier":"parents","sourcePos":[186,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[187,3]}},"argument":"nodeArrays","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,33],"start":[192,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[192,22],"start":[192,10]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,33],"start":[192,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,33],"start":[192,23]}},"type":"Var","value":{"identifier":"nodeArrays","sourcePos":[187,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"querySelectorAllElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"argument":"arr","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[163,28],"start":[163,19]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[165,3]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[165,3]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[165,3]}},"argument":"remaining","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[166,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,22],"start":[166,10]}},"type":"Var","value":{"identifier":"uncons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,23]}},"type":"Var","value":{"identifier":"remaining","sourcePos":[165,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[166,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[167,14],"start":[167,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,21],"start":[167,18]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[168,33],"start":[168,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[168,33],"start":[168,12]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["head",{"annotation":{"meta":null,"sourceSpan":{"end":[168,21],"start":[168,20]}},"binderType":"VarBinder","identifier":"x"}],["tail",{"annotation":{"meta":null,"sourceSpan":{"end":[168,31],"start":[168,29]}},"binderType":"VarBinder","identifier":"xs"}]]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[169,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[170,68],"start":[170,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,34],"start":[170,25]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,64],"start":[170,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,36]}},"argument":"elem","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,56],"start":[170,45]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,61],"start":[170,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,61],"start":[170,57]}},"type":"Var","value":{"identifier":"elem","sourcePos":[170,37]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,62]}},"type":"Var","value":{"identifier":"x","sourcePos":[168,20]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,68],"start":[170,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,68],"start":[170,65]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"type":"App"},"identifier":"alreadySeen"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[172,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[172,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[172,33],"start":[172,31]}},"type":"Var","value":{"identifier":"go","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,34]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,40],"start":[172,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,40],"start":[172,38]}},"type":"Var","value":{"identifier":"xs","sourcePos":[168,29]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[172,11]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[173,18],"start":[173,16]}},"type":"Var","value":{"identifier":"go","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,37],"start":[173,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,30],"start":[173,20]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,34],"start":[173,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,34],"start":[173,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[165,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,35]}},"type":"Var","value":{"identifier":"x","sourcePos":[168,20]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[173,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[173,38]}},"type":"Var","value":{"identifier":"xs","sourcePos":[168,29]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,25],"start":[172,14]}},"type":"Var","value":{"identifier":"alreadySeen","sourcePos":[170,11]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,46],"start":[162,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[163,21],"start":[163,19]}},"type":"Var","value":{"identifier":"go","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,24],"start":[163,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,24],"start":[163,22]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,28],"start":[163,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,28],"start":[163,25]}},"type":"Var","value":{"identifier":"arr","sourcePos":[163,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"nubElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[145,84],"start":[145,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,84],"start":[145,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,84],"start":[145,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[146,28],"start":[146,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,28],"start":[146,24]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,45],"start":[146,32]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,32]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,46]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[147,19],"start":[147,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[147,19],"start":[147,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"EmptySelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,39],"start":[147,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,24],"start":[147,23]}},"type":"Var","value":{"identifier":"r","sourcePos":[147,18]}},"fieldName":"parentElements","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[148,19],"start":[148,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,19],"start":[148,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,24],"start":[148,23]}},"type":"Var","value":{"identifier":"r","sourcePos":[148,18]}},"fieldName":"elements","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[149,21],"start":[149,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[149,21],"start":[149,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"PendingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,41],"start":[149,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,26],"start":[149,25]}},"type":"Var","value":{"identifier":"r","sourcePos":[149,20]}},"fieldName":"parentElements","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[150,21],"start":[150,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,21],"start":[150,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"ExitingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[150,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,26],"start":[150,25]}},"type":"Var","value":{"identifier":"r","sourcePos":[150,20]}},"fieldName":"elements","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,55],"start":[146,51]}},"type":"Var","value":{"identifier":"impl","sourcePos":[146,24]}}],"type":"Case"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,35],"start":[146,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[368,20],"start":[364,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[368,20],"start":[364,1]}},"argument":"attrName","body":{"annotation":{"meta":null,"sourceSpan":{"end":[368,20],"start":[364,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[370,29],"start":[370,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,39],"start":[370,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[369,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,34]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[372,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,17],"start":[372,5]}},"type":"Var","value":{"identifier":"getAttribute","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,26],"start":[372,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,26],"start":[372,18]}},"type":"Var","value":{"identifier":"attrName","sourcePos":[369,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,34],"start":[372,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,34],"start":[372,27]}},"type":"Var","value":{"identifier":"element","sourcePos":[371,35]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[372,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,45],"start":[372,39]}},"type":"Var","value":{"identifier":"isJust","moduleName":["Data","Maybe"]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[371,22],"start":[371,14]}},"type":"Var","value":{"identifier":"elements","sourcePos":[370,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,45],"start":[371,3]}},"argument":"results","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,36],"start":[373,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[373,19],"start":[373,10]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,28],"start":[373,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[373,36],"start":[373,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,36],"start":[373,29]}},"type":"Var","value":{"identifier":"results","sourcePos":[371,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"hasAttribute"},{"annotation":{"meta":null,"sourceSpan":{"end":[350,20],"start":[346,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[350,20],"start":[346,1]}},"argument":"className","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,20],"start":[346,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[352,29],"start":[352,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,39],"start":[352,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[351,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,34]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[354,25],"start":[354,16]}},"type":"Var","value":{"identifier":"classList","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,26]}},"type":"Var","value":{"identifier":"element","sourcePos":[353,35]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,33],"start":[354,5]}},"argument":"classes","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[355,26],"start":[355,5]}},"type":"Var","value":{"identifier":"contains","moduleName":["Web","DOM","DOMTokenList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,34],"start":[355,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,34],"start":[355,27]}},"type":"Var","value":{"identifier":"classes","sourcePos":[354,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[355,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[355,35]}},"type":"Var","value":{"identifier":"className","sourcePos":[351,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,22],"start":[353,14]}},"type":"Var","value":{"identifier":"elements","sourcePos":[352,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,44],"start":[353,3]}},"argument":"results","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[356,19],"start":[356,10]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[356,28],"start":[356,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,29]}},"type":"Var","value":{"identifier":"results","sourcePos":[353,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"hasClass"},{"annotation":{"meta":null,"sourceSpan":{"end":[647,74],"start":[647,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[647,74],"start":[647,1]}},"argument":"selection","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[648,31],"start":[648,21]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[648,55],"start":[648,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[648,45],"start":[648,34]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[648,55],"start":[648,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[648,55],"start":[648,46]}},"type":"Var","value":{"identifier":"selection","sourcePos":[648,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"isEmpty"},{"annotation":{"meta":null,"sourceSpan":{"end":[657,67],"start":[657,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[657,67],"start":[657,1]}},"argument":"selection","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[658,30],"start":[658,18]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[658,54],"start":[658,18]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[658,44],"start":[658,33]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[658,54],"start":[658,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[658,54],"start":[658,45]}},"type":"Var","value":{"identifier":"selection","sourcePos":[658,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"size"},{"annotation":{"meta":null,"sourceSpan":{"end":[712,80],"start":[712,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[713,11]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"identifier":"toArray"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,86],"start":[153,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,86],"start":[153,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,86],"start":[153,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[154,28],"start":[154,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[154,28],"start":[154,24]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[154,32]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[155,19],"start":[155,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,19],"start":[155,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"EmptySelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,38],"start":[155,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,38],"start":[155,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,29],"start":[155,28]}},"type":"Var","value":{"identifier":"r","sourcePos":[155,18]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[156,19],"start":[156,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,19],"start":[156,18]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,38],"start":[156,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,38],"start":[156,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,29],"start":[156,28]}},"type":"Var","value":{"identifier":"r","sourcePos":[156,18]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[157,21],"start":[157,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,21],"start":[157,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"PendingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,40],"start":[157,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,40],"start":[157,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,31],"start":[157,30]}},"type":"Var","value":{"identifier":"r","sourcePos":[157,20]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[158,21],"start":[158,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[158,21],"start":[158,20]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"ExitingSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[158,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[158,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,31],"start":[158,30]}},"type":"Var","value":{"identifier":"r","sourcePos":[158,20]}},"fieldName":"document","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,37]}},"type":"Var","value":{"identifier":"impl","sourcePos":[154,24]}}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[154,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"getDocument"},{"annotation":{"meta":null,"sourceSpan":{"end":[426,49],"start":[422,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,49],"start":[422,1]}},"argument":"predicate","body":{"annotation":{"meta":null,"sourceSpan":{"end":[426,49],"start":[422,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[426,49],"start":[422,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[427,21],"start":[427,12]}},"binderType":"VarBinder","identifier":"predicate1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[427,37],"start":[427,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[427,37],"start":[427,33]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[426,49],"start":[422,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[429,74],"start":[429,61]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,61]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,75]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[430,23],"start":[430,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[430,23],"start":[430,22]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[430,27]}},"type":"Var","value":{"identifier":"r","sourcePos":[430,22]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[429,84],"start":[429,80]}},"type":"Var","value":{"identifier":"impl","sourcePos":[427,33]}}],"type":"Case"},"type":"Abs"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[430,28],"start":[429,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,61]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,28],"start":[429,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[429,58],"start":[429,5]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[429,15],"start":[429,7]}},"binderType":"VarBinder","identifier":"elements"}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[429,32],"start":[429,23]}},"binderType":"VarBinder","identifier":"boundData"}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[429,41],"start":[429,34]}},"binderType":"VarBinder","identifier":"indices"}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[429,56],"start":[429,53]}},"binderType":"VarBinder","identifier":"doc"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[432,54],"start":[432,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[432,54],"start":[432,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[432,29],"start":[432,16]}},"type":"Var","value":{"identifier":"zipWith","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[432,35],"start":[432,16]}},"argument":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[432,35],"start":[432,30]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[432,44],"start":[432,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,44],"start":[432,36]}},"type":"Var","value":{"identifier":"elements","sourcePos":[429,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[432,54],"start":[432,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,54],"start":[432,45]}},"type":"Var","value":{"identifier":"boundData","sourcePos":[429,23]}},"type":"App"},"identifier":"zipped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[433,75],"start":[433,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[433,75],"start":[433,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[433,30],"start":[433,20]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[433,68],"start":[433,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[433,67],"start":[433,32]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[433,67],"start":[433,32]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[433,47],"start":[433,34]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[433,41],"start":[433,40]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[433,47],"start":[433,42]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[433,61],"start":[433,52]}},"type":"Var","value":{"identifier":"predicate1","sourcePos":[427,12]}},"annotation":{"meta":null,"sourceSpan":{"end":[433,67],"start":[433,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[433,67],"start":[433,62]}},"type":"Var","value":{"identifier":"datum","sourcePos":[433,42]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[433,75],"start":[433,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[433,75],"start":[433,69]}},"type":"Var","value":{"identifier":"zipped","sourcePos":[432,7]}},"type":"App"},"identifier":"maybeMatch"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[435,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[436,12],"start":[436,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[441,8],"start":[436,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[436,32],"start":[436,23]}},"type":"Var","value":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[441,8],"start":[436,16]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[436,49],"start":[436,35]}},"type":"Var","value":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[441,8],"start":[436,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[441,8],"start":[437,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[437,21],"start":[437,19]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[438,17],"start":[438,15]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[439,25],"start":[439,18]}},"type":"Var","value":{"identifier":"indices","sourcePos":[429,34]}}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[440,22],"start":[440,19]}},"type":"Var","value":{"identifier":"doc","sourcePos":[429,53]}}]]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[442,28],"start":[442,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[442,27],"start":[442,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[442,21],"start":[442,17]}},"binderType":"VarBinder","identifier":"elem"},{"annotation":{"meta":null,"sourceSpan":{"end":[442,27],"start":[442,22]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[442,32]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[442,48],"start":[442,39]}},"type":"Var","value":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[442,32]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[442,65],"start":[442,51]}},"type":"Var","value":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[442,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[443,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[443,27],"start":[443,19]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[443,25],"start":[443,21]}},"type":"Var","value":{"identifier":"elem","sourcePos":[442,17]}}]}}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[444,24],"start":[444,15]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[444,22],"start":[444,17]}},"type":"Var","value":{"identifier":"datum","sourcePos":[442,22]}}]}}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[445,25],"start":[445,18]}},"type":"Var","value":{"identifier":"indices","sourcePos":[429,34]}}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[446,22],"start":[446,19]}},"type":"Var","value":{"identifier":"doc","sourcePos":[429,53]}}]]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[435,18],"start":[435,8]}},"type":"Var","value":{"identifier":"maybeMatch","sourcePos":[433,7]}}],"type":"Case"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[426,49],"start":[422,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[427,1]}},"type":"Var","value":{"identifier":"predicate","sourcePos":[427,12]}},{"annotation":{"meta":null,"sourceSpan":{"end":[447,8],"start":[427,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"findByData"},{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"argument":"predicate","body":{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[394,23],"start":[394,14]}},"binderType":"VarBinder","identifier":"predicate1"},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[394,39],"start":[394,25]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[394,39],"start":[394,35]}},"binderType":"VarBinder","identifier":"impl"}],"constructorName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[396,74],"start":[396,61]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,61]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,75]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[397,23],"start":[397,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[397,23],"start":[397,22]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]},"typeName":{"identifier":"SelectionImpl","moduleName":["PSD3","Internal","Selection","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[397,27]}},"type":"Var","value":{"identifier":"r","sourcePos":[397,22]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[396,84],"start":[396,80]}},"type":"Var","value":{"identifier":"impl","sourcePos":[394,35]}}],"type":"Case"},"type":"Abs"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[397,28],"start":[396,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,61]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,28],"start":[396,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[396,58],"start":[396,5]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[396,15],"start":[396,7]}},"binderType":"VarBinder","identifier":"elements"}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[396,32],"start":[396,23]}},"binderType":"VarBinder","identifier":"boundData"}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[396,41],"start":[396,34]}},"binderType":"VarBinder","identifier":"indices"}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[396,56],"start":[396,53]}},"binderType":"VarBinder","identifier":"doc"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[400,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[401,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[402,21],"start":[402,9]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[402,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,23]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,23]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[402,38],"start":[402,25]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[402,32],"start":[402,31]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[402,38],"start":[402,33]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[402,52],"start":[402,43]}},"type":"Var","value":{"identifier":"predicate1","sourcePos":[394,14]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,58],"start":[402,53]}},"type":"Var","value":{"identifier":"datum","sourcePos":[402,33]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[402,59],"start":[401,16]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[401,29],"start":[401,16]}},"type":"Var","value":{"identifier":"zipWith","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,35],"start":[401,16]}},"argument":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[401,35],"start":[401,30]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,44],"start":[401,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,44],"start":[401,36]}},"type":"Var","value":{"identifier":"elements","sourcePos":[396,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,54],"start":[401,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,54],"start":[401,45]}},"type":"Var","value":{"identifier":"boundData","sourcePos":[396,23]}},"type":"App"},"type":"App"},"identifier":"filtered"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[404,55],"start":[404,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,54],"start":[404,31]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[404,54],"start":[404,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[404,45],"start":[404,33]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[404,43],"start":[404,39]}},"binderType":"VarBinder","identifier":"elem"},{"annotation":{"meta":null,"sourceSpan":{"end":[404,45],"start":[404,44]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[404,54],"start":[404,50]}},"type":"Var","value":{"identifier":"elem","sourcePos":[404,39]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,64],"start":[404,56]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[401,5]}},"type":"App"},"identifier":"filteredElements"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[405,53],"start":[405,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,52],"start":[405,27]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[405,52],"start":[405,27]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[405,42],"start":[405,29]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[405,36],"start":[405,35]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[405,42],"start":[405,37]}},"binderType":"VarBinder","identifier":"datum"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[405,52],"start":[405,47]}},"type":"Var","value":{"identifier":"datum","sourcePos":[405,37]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,62],"start":[405,54]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[401,5]}},"type":"App"},"identifier":"filteredData"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,6],"start":[407,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[407,19],"start":[407,10]}},"type":"Var","value":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,6],"start":[407,3]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[407,36],"start":[407,22]}},"type":"Var","value":{"identifier":"BoundSelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,6],"start":[407,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,6],"start":[408,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["elements",{"annotation":{"meta":null,"sourceSpan":{"end":[408,33],"start":[408,17]}},"type":"Var","value":{"identifier":"filteredElements","sourcePos":[404,7]}}],["data",{"annotation":{"meta":null,"sourceSpan":{"end":[409,25],"start":[409,13]}},"type":"Var","value":{"identifier":"filteredData","sourcePos":[405,7]}}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[410,23],"start":[410,16]}},"type":"Var","value":{"identifier":"indices","sourcePos":[396,34]}}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[411,20],"start":[411,17]}},"type":"Var","value":{"identifier":"doc","sourcePos":[396,53]}}]]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[393,49],"start":[389,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[412,6],"start":[394,1]}},"type":"Var","value":{"identifier":"predicate","sourcePos":[394,14]}},{"annotation":{"meta":null,"sourceSpan":{"end":[412,6],"start":[394,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"filterByData"},{"annotation":{"meta":null,"sourceSpan":{"end":[176,101],"start":[176,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[176,101],"start":[176,1]}},"argument":"elements","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,16],"start":[178,10]}},"type":"Var","value":{"identifier":"window","moduleName":["Web","HTML"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,29],"start":[178,21]}},"type":"Var","value":{"identifier":"document","moduleName":["Web","HTML","Window"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,10]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,44],"start":[178,34]}},"type":"Var","value":{"identifier":"toDocument","moduleName":["Web","HTML","HTMLDocument"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,44],"start":[178,3]}},"argument":"doc","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[179,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[179,19],"start":[179,10]}},"type":"Var","value":{"identifier":"Selection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[179,3]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[179,36],"start":[179,22]}},"type":"Var","value":{"identifier":"EmptySelection","moduleName":["PSD3","Internal","Selection","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[179,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,6],"start":[180,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["parentElements",{"annotation":{"meta":null,"sourceSpan":{"end":[180,31],"start":[180,23]}},"type":"Var","value":{"identifier":"elements","sourcePos":[177,1]}}],["document",{"annotation":{"meta":null,"sourceSpan":{"end":[181,20],"start":[181,17]}},"type":"Var","value":{"identifier":"doc","sourcePos":[178,3]}}]]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"emptySelectionFromElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"argument":"attrName","body":{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"argument":"attrValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[332,48],"start":[327,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[334,29],"start":[334,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[333,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"filterA","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,40]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[336,31],"start":[336,19]}},"type":"Var","value":{"identifier":"getAttribute","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,40],"start":[336,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,40],"start":[336,32]}},"type":"Var","value":{"identifier":"attrName","sourcePos":[333,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,41]}},"type":"Var","value":{"identifier":"element","sourcePos":[335,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,48],"start":[336,5]}},"argument":"maybeValue","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,22],"start":[337,12]}},"type":"Var","value":{"identifier":"maybeValue","sourcePos":[336,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,5]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[337,30],"start":[337,26]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[337,31]}},"type":"Var","value":{"identifier":"attrValue","sourcePos":[333,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,23],"start":[335,15]}},"type":"Var","value":{"identifier":"elements","sourcePos":[334,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,40],"start":[335,3]}},"argument":"filtered","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[338,29],"start":[338,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,38],"start":[338,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,38],"start":[338,30]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[335,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"filterByAttribute"},{"annotation":{"meta":null,"sourceSpan":{"end":[311,48],"start":[307,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[311,48],"start":[307,1]}},"argument":"className","body":{"annotation":{"meta":null,"sourceSpan":{"end":[311,48],"start":[307,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[313,29],"start":[313,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,39],"start":[313,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[312,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"filterA","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,40]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[315,25],"start":[315,16]}},"type":"Var","value":{"identifier":"classList","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,26]}},"type":"Var","value":{"identifier":"element","sourcePos":[314,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[315,33],"start":[315,5]}},"argument":"classes","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[316,26],"start":[316,5]}},"type":"Var","value":{"identifier":"contains","moduleName":["Web","DOM","DOMTokenList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,34],"start":[316,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,34],"start":[316,27]}},"type":"Var","value":{"identifier":"classes","sourcePos":[315,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[316,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[316,35]}},"type":"Var","value":{"identifier":"className","sourcePos":[312,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[314,23],"start":[314,15]}},"type":"Var","value":{"identifier":"elements","sourcePos":[313,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,44],"start":[314,3]}},"argument":"filtered","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[317,29],"start":[317,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[317,38],"start":[317,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[317,38],"start":[317,30]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[314,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"filterByClass"},{"annotation":{"meta":null,"sourceSpan":{"end":[669,48],"start":[666,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[669,48],"start":[666,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[671,39],"start":[671,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[671,39],"start":[671,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[671,29],"start":[671,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,39],"start":[671,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,39],"start":[671,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[670,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[672,29],"start":[672,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[672,86],"start":[672,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[672,41],"start":[672,32]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[672,44],"start":[672,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[672,44],"start":[672,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[672,86],"start":[672,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[672,85],"start":[672,46]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[672,56],"start":[672,46]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[672,65],"start":[672,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[672,65],"start":[672,57]}},"type":"Var","value":{"identifier":"elements","sourcePos":[671,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[672,85],"start":[672,46]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[672,85],"start":[672,70]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"first"},{"annotation":{"meta":null,"sourceSpan":{"end":[607,48],"start":[603,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[607,48],"start":[603,1]}},"argument":"sel1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[607,48],"start":[603,1]}},"argument":"sel2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[609,35],"start":[609,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[609,35],"start":[609,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[609,30],"start":[609,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[609,35],"start":[609,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[609,35],"start":[609,31]}},"type":"Var","value":{"identifier":"sel1","sourcePos":[608,1]}},"type":"App"},"identifier":"elements1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[610,35],"start":[610,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[610,35],"start":[610,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[610,30],"start":[610,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[610,35],"start":[610,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[610,35],"start":[610,31]}},"type":"Var","value":{"identifier":"sel2","sourcePos":[608,1]}},"type":"App"},"identifier":"elements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[612,84],"start":[612,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[612,84],"start":[612,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[612,84],"start":[612,7]}},"argument":"elem1","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[612,38],"start":[612,29]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[612,74],"start":[612,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[612,73],"start":[612,40]}},"argument":"elem2","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[612,61],"start":[612,50]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[612,67],"start":[612,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[612,67],"start":[612,62]}},"type":"Var","value":{"identifier":"elem1","sourcePos":[612,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[612,73],"start":[612,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[612,73],"start":[612,68]}},"type":"Var","value":{"identifier":"elem2","sourcePos":[612,41]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[612,84],"start":[612,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[612,84],"start":[612,75]}},"type":"Var","value":{"identifier":"elements2","sourcePos":[610,7]}},"type":"App"},"type":"Abs"},"identifier":"isInElements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[613,58],"start":[613,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[613,58],"start":[613,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[613,34],"start":[613,22]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[613,48],"start":[613,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[613,48],"start":[613,35]}},"type":"Var","value":{"identifier":"isInElements2","sourcePos":[612,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[613,58],"start":[613,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[613,58],"start":[613,49]}},"type":"Var","value":{"identifier":"elements1","sourcePos":[609,7]}},"type":"App"},"identifier":"intersection"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[614,29],"start":[614,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[614,42],"start":[614,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,42],"start":[614,30]}},"type":"Var","value":{"identifier":"intersection","sourcePos":[613,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"intersect"},{"annotation":{"meta":null,"sourceSpan":{"end":[683,48],"start":[680,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[683,48],"start":[680,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[685,29],"start":[685,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[685,39],"start":[685,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[684,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[686,29],"start":[686,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,86],"start":[686,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[686,41],"start":[686,32]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,44],"start":[686,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[686,44],"start":[686,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[686,86],"start":[686,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,85],"start":[686,46]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[686,56],"start":[686,46]}},"type":"Var","value":{"identifier":"last","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[686,65],"start":[686,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[686,65],"start":[686,57]}},"type":"Var","value":{"identifier":"elements","sourcePos":[685,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[686,85],"start":[686,46]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[686,85],"start":[686,70]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"last"},{"annotation":{"meta":null,"sourceSpan":{"end":[698,48],"start":[694,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[698,48],"start":[694,1]}},"argument":"index","body":{"annotation":{"meta":null,"sourceSpan":{"end":[698,48],"start":[694,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[700,39],"start":[700,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[700,39],"start":[700,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[700,29],"start":[700,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,39],"start":[700,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,39],"start":[700,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[699,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[701,29],"start":[701,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,93],"start":[701,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[701,41],"start":[701,32]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,44],"start":[701,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,44],"start":[701,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[701,93],"start":[701,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,92],"start":[701,46]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[701,57],"start":[701,46]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,66],"start":[701,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,66],"start":[701,58]}},"type":"Var","value":{"identifier":"elements","sourcePos":[700,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[701,72],"start":[701,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,72],"start":[701,67]}},"type":"Var","value":{"identifier":"index","sourcePos":[699,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[701,92],"start":[701,46]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[701,92],"start":[701,77]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"nth"},{"annotation":{"meta":null,"sourceSpan":{"end":[465,48],"start":[462,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[465,48],"start":[462,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[467,39],"start":[467,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[467,39],"start":[467,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[467,29],"start":[467,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[467,39],"start":[467,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[467,39],"start":[467,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[466,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[468,65],"start":[468,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[468,65],"start":[468,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"composeFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[468,64],"start":[468,35]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[468,49],"start":[468,35]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[468,64],"start":[468,35]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[468,64],"start":[468,54]}},"type":"Var","value":{"identifier":"parentNode","moduleName":["Web","DOM","Node"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[468,65],"start":[468,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[468,22],"start":[468,14]}},"type":"Var","value":{"identifier":"elements","sourcePos":[467,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[468,65],"start":[468,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[468,65],"start":[468,3]}},"argument":"parents","body":{"annotation":{"meta":null,"sourceSpan":{"end":[469,83],"start":[469,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[469,83],"start":[469,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[469,34],"start":[469,23]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,83],"start":[469,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[469,51],"start":[469,37]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,75],"start":[469,37]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"composeKleisliFlipped","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,74],"start":[469,53]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[469,61],"start":[469,53]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[469,74],"start":[469,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"identity","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[469,83],"start":[469,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,83],"start":[469,76]}},"type":"Var","value":{"identifier":"parents","sourcePos":[468,3]}},"type":"App"},"type":"App"},"identifier":"uniqueParents"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[470,29],"start":[470,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[470,43],"start":[470,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[470,43],"start":[470,30]}},"type":"Var","value":{"identifier":"uniqueParents","sourcePos":[469,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"parentElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[242,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[242,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[242,1]}},"argument":"selectionsMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,54],"start":[248,44]}},"type":"Var","value":{"identifier":"values","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,68],"start":[248,55]}},"type":"Var","value":{"identifier":"selectionsMap","sourcePos":[247,1]}},"type":"App"},"type":"App"},"identifier":"allSelections"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[249,33],"start":[249,21]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,51],"start":[249,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,51],"start":[249,40]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,65],"start":[249,52]}},"type":"Var","value":{"identifier":"allSelections","sourcePos":[248,7]}},"type":"App"},"type":"App"},"identifier":"allElements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[250,38],"start":[250,14]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,47],"start":[250,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,47],"start":[250,39]}},"type":"Var","value":{"identifier":"selector","sourcePos":[247,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,48]}},"type":"Var","value":{"identifier":"allElements","sourcePos":[249,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,59],"start":[250,3]}},"argument":"matches","body":{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[252,34],"start":[252,23]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,35]}},"type":"Var","value":{"identifier":"matches","sourcePos":[250,3]}},"type":"App"},"identifier":"uniqueMatches"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[253,29],"start":[253,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,43],"start":[253,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,43],"start":[253,30]}},"type":"Var","value":{"identifier":"uniqueMatches","sourcePos":[252,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"queryAll"},{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"argument":"selectionsMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[270,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[270,23],"start":[270,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,23],"start":[270,19]}},"type":"Var","value":{"identifier":"name","sourcePos":[269,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,37],"start":[270,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,37],"start":[270,24]}},"type":"Var","value":{"identifier":"selectionsMap","sourcePos":[269,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[270,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[271,12],"start":[271,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[271,42],"start":[271,16]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,45],"start":[271,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,45],"start":[271,43]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[272,19],"start":[272,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[272,19],"start":[272,10]}},"binderType":"VarBinder","identifier":"selection"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[273,33],"start":[273,22]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,43],"start":[273,34]}},"type":"Var","value":{"identifier":"selection","sourcePos":[272,10]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[274,46],"start":[274,21]}},"type":"Var","value":{"identifier":"querySelectorFirstElement","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,55],"start":[274,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,55],"start":[274,47]}},"type":"Var","value":{"identifier":"selector","sourcePos":[269,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,56]}},"type":"Var","value":{"identifier":"elements","sourcePos":[273,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,64],"start":[274,7]}},"argument":"maybeMatch","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[275,33],"start":[275,7]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[275,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,45],"start":[275,36]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,48],"start":[275,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,48],"start":[275,46]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,81],"start":[275,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mapFlipped1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,80],"start":[275,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,60],"start":[275,50]}},"type":"Var","value":{"identifier":"maybeMatch","sourcePos":[274,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,80],"start":[275,50]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,80],"start":[275,65]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Array"]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[268,48],"start":[263,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"queryFirst"},{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"argument":"selectionsMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[225,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,23],"start":[225,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,23],"start":[225,19]}},"type":"Var","value":{"identifier":"name","sourcePos":[224,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,37],"start":[225,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,37],"start":[225,24]}},"type":"Var","value":{"identifier":"selectionsMap","sourcePos":[224,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[225,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[226,12],"start":[226,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[226,42],"start":[226,16]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,45],"start":[226,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,45],"start":[226,43]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[227,19],"start":[227,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,19],"start":[227,10]}},"binderType":"VarBinder","identifier":"selection"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[228,33],"start":[228,22]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[228,43],"start":[228,34]}},"type":"Var","value":{"identifier":"selection","sourcePos":[227,10]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[229,42],"start":[229,18]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,51],"start":[229,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,51],"start":[229,43]}},"type":"Var","value":{"identifier":"selector","sourcePos":[224,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,52]}},"type":"Var","value":{"identifier":"elements","sourcePos":[228,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,7]}},"argument":"matches","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[230,33],"start":[230,7]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[230,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,41],"start":[230,34]}},"type":"Var","value":{"identifier":"matches","sourcePos":[229,7]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,48],"start":[218,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"queryIn"},{"annotation":{"meta":null,"sourceSpan":{"end":[289,48],"start":[285,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[289,48],"start":[285,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[289,48],"start":[285,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[291,29],"start":[291,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,39],"start":[291,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[290,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[292,38],"start":[292,14]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,47],"start":[292,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,47],"start":[292,39]}},"type":"Var","value":{"identifier":"selector","sourcePos":[290,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,48]}},"type":"Var","value":{"identifier":"elements","sourcePos":[291,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,56],"start":[292,3]}},"argument":"matches","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[293,29],"start":[293,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[293,37],"start":[293,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[293,37],"start":[293,30]}},"type":"Var","value":{"identifier":"matches","sourcePos":[292,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"queryInBound"},{"annotation":{"meta":null,"sourceSpan":{"end":[521,48],"start":[518,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[521,48],"start":[518,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[523,39],"start":[523,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[523,39],"start":[523,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[523,29],"start":[523,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[523,39],"start":[523,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[523,39],"start":[523,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[522,1]}},"type":"App"},"identifier":"elements"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[525,76],"start":[525,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[525,76],"start":[525,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[525,76],"start":[525,7]}},"argument":"elem","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[525,34],"start":[525,25]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[525,67],"start":[525,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[525,66],"start":[525,36]}},"argument":"orig","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[525,56],"start":[525,45]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[525,61],"start":[525,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[525,61],"start":[525,57]}},"type":"Var","value":{"identifier":"elem","sourcePos":[525,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[525,66],"start":[525,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[525,66],"start":[525,62]}},"type":"Var","value":{"identifier":"orig","sourcePos":[525,37]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[525,76],"start":[525,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[525,76],"start":[525,68]}},"type":"Var","value":{"identifier":"elements","sourcePos":[523,7]}},"type":"App"},"type":"Abs"},"identifier":"isOriginal"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[527,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[527,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[527,40]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[528,55],"start":[528,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[528,55],"start":[528,45]}},"type":"Var","value":{"identifier":"parentNode","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[528,55],"start":[528,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[528,34],"start":[528,20]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[528,42],"start":[528,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,42],"start":[528,35]}},"type":"Var","value":{"identifier":"element","sourcePos":[527,41]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,55],"start":[528,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,55],"start":[528,5]}},"argument":"maybeParent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[529,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[530,14],"start":[530,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[530,25],"start":[530,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[530,25],"start":[530,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[531,18],"start":[531,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[531,18],"start":[531,12]}},"binderType":"VarBinder","identifier":"parent"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[532,38],"start":[532,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[532,31],"start":[532,21]}},"type":"Var","value":{"identifier":"childNodes","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[532,38],"start":[532,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,38],"start":[532,32]}},"type":"Var","value":{"identifier":"parent","sourcePos":[531,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[532,38],"start":[532,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,38],"start":[532,9]}},"argument":"nodeList","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[533,43],"start":[533,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[533,34],"start":[533,18]}},"type":"Var","value":{"identifier":"toArray","moduleName":["Web","DOM","NodeList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[533,43],"start":[533,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[533,43],"start":[533,35]}},"type":"Var","value":{"identifier":"nodeList","sourcePos":[532,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[533,43],"start":[533,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[533,43],"start":[533,9]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[534,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[534,30],"start":[534,16]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[534,39],"start":[534,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[534,39],"start":[534,31]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[534,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[534,40]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[533,9]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[529,21],"start":[529,10]}},"type":"Var","value":{"identifier":"maybeParent","sourcePos":[528,5]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[527,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[527,28],"start":[527,20]}},"type":"Var","value":{"identifier":"elements","sourcePos":[523,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[527,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[534,45],"start":[527,3]}},"argument":"siblingArrays","body":{"annotation":{"meta":null,"sourceSpan":{"end":[537,47],"start":[537,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[537,47],"start":[537,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[537,33],"start":[537,21]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[537,47],"start":[537,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[537,47],"start":[537,34]}},"type":"Var","value":{"identifier":"siblingArrays","sourcePos":[527,3]}},"type":"App"},"identifier":"allSiblings"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[538,47],"start":[538,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[538,47],"start":[538,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[538,35],"start":[538,24]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[538,47],"start":[538,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,47],"start":[538,36]}},"type":"Var","value":{"identifier":"allSiblings","sourcePos":[537,7]}},"type":"App"},"identifier":"uniqueSiblings"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[539,74],"start":[539,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[539,74],"start":[539,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[539,38],"start":[539,26]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[539,59],"start":[539,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[539,58],"start":[539,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[539,58],"start":[539,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[539,58],"start":[539,48]}},"type":"Var","value":{"identifier":"isOriginal","sourcePos":[525,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[539,74],"start":[539,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[539,74],"start":[539,60]}},"type":"Var","value":{"identifier":"uniqueSiblings","sourcePos":[538,7]}},"type":"App"},"identifier":"filteredSiblings"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[541,29],"start":[541,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,46],"start":[541,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,46],"start":[541,30]}},"type":"Var","value":{"identifier":"filteredSiblings","sourcePos":[539,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"identifier":"siblings"},{"annotation":{"meta":null,"sourceSpan":{"end":[589,48],"start":[586,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[589,48],"start":[586,1]}},"argument":"selections","body":{"annotation":{"meta":null,"sourceSpan":{"end":[591,62],"start":[591,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[591,62],"start":[591,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[591,33],"start":[591,21]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[591,62],"start":[591,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[591,51],"start":[591,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[591,51],"start":[591,40]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[591,62],"start":[591,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[591,62],"start":[591,52]}},"type":"Var","value":{"identifier":"selections","sourcePos":[590,1]}},"type":"App"},"type":"App"},"identifier":"allElements"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[592,47],"start":[592,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[592,47],"start":[592,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[592,35],"start":[592,24]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[592,47],"start":[592,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[592,47],"start":[592,36]}},"type":"Var","value":{"identifier":"allElements","sourcePos":[591,7]}},"type":"App"},"identifier":"uniqueElements"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[593,29],"start":[593,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[593,44],"start":[593,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[593,44],"start":[593,30]}},"type":"Var","value":{"identifier":"uniqueElements","sourcePos":[592,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"identifier":"union"},{"annotation":{"meta":null,"sourceSpan":{"end":[628,48],"start":[624,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[628,48],"start":[624,1]}},"argument":"sel1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[628,48],"start":[624,1]}},"argument":"sel2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[630,35],"start":[630,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[630,35],"start":[630,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[630,30],"start":[630,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[630,35],"start":[630,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[630,35],"start":[630,31]}},"type":"Var","value":{"identifier":"sel1","sourcePos":[629,1]}},"type":"App"},"identifier":"elements1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[631,35],"start":[631,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[631,35],"start":[631,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[631,30],"start":[631,19]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[631,35],"start":[631,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[631,35],"start":[631,31]}},"type":"Var","value":{"identifier":"sel2","sourcePos":[629,1]}},"type":"App"},"identifier":"elements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[633,84],"start":[633,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[633,84],"start":[633,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[633,84],"start":[633,7]}},"argument":"elem1","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[633,38],"start":[633,29]}},"type":"Var","value":{"identifier":"any","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[633,74],"start":[633,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[633,73],"start":[633,40]}},"argument":"elem2","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[633,61],"start":[633,50]}},"type":"Var","value":{"identifier":"unsafeRefEq","moduleName":["Unsafe","Reference"]}},"annotation":{"meta":null,"sourceSpan":{"end":[633,67],"start":[633,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[633,67],"start":[633,62]}},"type":"Var","value":{"identifier":"elem1","sourcePos":[633,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[633,73],"start":[633,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[633,73],"start":[633,68]}},"type":"Var","value":{"identifier":"elem2","sourcePos":[633,41]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[633,84],"start":[633,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[633,84],"start":[633,75]}},"type":"Var","value":{"identifier":"elements2","sourcePos":[631,7]}},"type":"App"},"type":"Abs"},"identifier":"isInElements2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[634,60],"start":[634,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[634,60],"start":[634,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[634,26],"start":[634,14]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[634,50],"start":[634,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compose","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[634,49],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["PSD3","Internal","Selection","Query"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,49],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,49],"start":[634,36]}},"type":"Var","value":{"identifier":"isInElements2","sourcePos":[633,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,60],"start":[634,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,60],"start":[634,51]}},"type":"Var","value":{"identifier":"elements1","sourcePos":[630,7]}},"type":"App"},"identifier":"diff"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[635,29],"start":[635,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[635,34],"start":[635,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[635,34],"start":[635,30]}},"type":"Var","value":{"identifier":"diff","sourcePos":[634,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"difference"},{"annotation":{"meta":null,"sourceSpan":{"end":[504,48],"start":[500,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[504,48],"start":[500,1]}},"argument":"selector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,48],"start":[500,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[506,39],"start":[506,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[506,39],"start":[506,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[506,29],"start":[506,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[506,39],"start":[506,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[506,39],"start":[506,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[505,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[507,56],"start":[507,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[507,38],"start":[507,14]}},"type":"Var","value":{"identifier":"querySelectorAllElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[507,47],"start":[507,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[507,47],"start":[507,39]}},"type":"Var","value":{"identifier":"selector","sourcePos":[505,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[507,56],"start":[507,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[507,56],"start":[507,48]}},"type":"Var","value":{"identifier":"elements","sourcePos":[506,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[507,56],"start":[507,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[507,56],"start":[507,3]}},"argument":"matches","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[508,29],"start":[508,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[508,37],"start":[508,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[508,37],"start":[508,30]}},"type":"Var","value":{"identifier":"matches","sourcePos":[507,3]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"descendants"},{"annotation":{"meta":null,"sourceSpan":{"end":[483,48],"start":[480,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[483,48],"start":[480,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[485,39],"start":[485,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[485,39],"start":[485,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[485,29],"start":[485,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[485,39],"start":[485,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,39],"start":[485,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[484,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[486,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[486,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[486,38]}},"argument":"element","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[487,52],"start":[487,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[487,52],"start":[487,42]}},"type":"Var","value":{"identifier":"childNodes","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[487,52],"start":[487,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[487,31],"start":[487,17]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[487,39],"start":[487,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[487,39],"start":[487,32]}},"type":"Var","value":{"identifier":"element","sourcePos":[486,39]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[487,52],"start":[487,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[487,52],"start":[487,5]}},"argument":"nodeList","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[488,39],"start":[488,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[488,30],"start":[488,14]}},"type":"Var","value":{"identifier":"toArray","moduleName":["Web","DOM","NodeList"]}},"annotation":{"meta":null,"sourceSpan":{"end":[488,39],"start":[488,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[488,39],"start":[488,31]}},"type":"Var","value":{"identifier":"nodeList","sourcePos":[487,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[488,39],"start":[488,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[488,39],"start":[488,5]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[489,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[489,26],"start":[489,12]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,35],"start":[489,12]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[489,35],"start":[489,27]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[489,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[489,36]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[488,5]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[486,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[486,26],"start":[486,18]}},"type":"Var","value":{"identifier":"elements","sourcePos":[485,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[486,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[489,41],"start":[486,3]}},"argument":"childArrays","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[490,29],"start":[490,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[490,56],"start":[490,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[490,44],"start":[490,32]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[490,56],"start":[490,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[490,56],"start":[490,45]}},"type":"Var","value":{"identifier":"childArrays","sourcePos":[486,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"children"},{"annotation":{"meta":null,"sourceSpan":{"end":[555,48],"start":[552,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[555,48],"start":[552,1]}},"argument":"selection","body":{"annotation":{"meta":null,"sourceSpan":{"end":[557,39],"start":[557,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[557,39],"start":[557,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[557,29],"start":[557,18]}},"type":"Var","value":{"identifier":"getElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[557,39],"start":[557,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[557,39],"start":[557,30]}},"type":"Var","value":{"identifier":"selection","sourcePos":[556,1]}},"type":"App"},"identifier":"elements"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[560,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traverse","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[560,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[560,41]}},"argument":"element","body":{"annotation":{"meta":null,"sourceSpan":{"end":[569,42],"start":[561,5]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[562,50],"start":[562,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[562,50],"start":[562,7]}},"argument":"elem","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[564,56],"start":[564,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[564,56],"start":[564,46]}},"type":"Var","value":{"identifier":"parentNode","moduleName":["Web","DOM","Node"]}},"annotation":{"meta":null,"sourceSpan":{"end":[564,56],"start":[564,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[564,38],"start":[564,24]}},"type":"Var","value":{"identifier":"toNode","moduleName":["Web","DOM","Element"]}},"annotation":{"meta":null,"sourceSpan":{"end":[564,43],"start":[564,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,43],"start":[564,39]}},"type":"Var","value":{"identifier":"elem","sourcePos":[563,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[564,56],"start":[564,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,56],"start":[564,9]}},"argument":"maybeParent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[569,42],"start":[565,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[555,48],"start":[552,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[565,38],"start":[565,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[565,25],"start":[565,14]}},"type":"Var","value":{"identifier":"maybeParent","sourcePos":[564,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[565,38],"start":[565,14]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[565,38],"start":[565,30]}},"type":"Var","value":{"identifier":"fromNode","moduleName":["Web","DOM","Element"]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[569,42],"start":[565,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[566,18],"start":[566,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[566,29],"start":[566,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[566,29],"start":[566,27]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[567,22],"start":[567,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[567,22],"start":[567,16]}},"binderType":"VarBinder","identifier":"parent"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[568,34],"start":[568,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[568,27],"start":[568,21]}},"type":"Var","value":{"identifier":"walkUp","sourcePos":[562,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[568,34],"start":[568,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[568,34],"start":[568,28]}},"type":"Var","value":{"identifier":"parent","sourcePos":[567,16]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[568,34],"start":[568,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[568,34],"start":[568,13]}},"argument":"rest","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[569,42],"start":[569,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[569,30],"start":[569,20]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[569,37],"start":[569,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[569,37],"start":[569,31]}},"type":"Var","value":{"identifier":"parent","sourcePos":[567,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[569,42],"start":[569,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[569,42],"start":[569,38]}},"type":"Var","value":{"identifier":"rest","sourcePos":[568,13]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[555,48],"start":[552,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"walkUp"}]}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[570,11],"start":[570,5]}},"type":"Var","value":{"identifier":"walkUp","sourcePos":[562,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[570,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[570,12]}},"type":"Var","value":{"identifier":"element","sourcePos":[560,42]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[560,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[560,29],"start":[560,21]}},"type":"Var","value":{"identifier":"elements","sourcePos":[557,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[560,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,19],"start":[560,3]}},"argument":"ancestorArrays","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[572,29],"start":[572,3]}},"type":"Var","value":{"identifier":"emptySelectionFromElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[572,73],"start":[572,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[572,43],"start":[572,32]}},"type":"Var","value":{"identifier":"nubElements","moduleName":["PSD3","Internal","Selection","Query"]}},"annotation":{"meta":null,"sourceSpan":{"end":[572,73],"start":[572,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[572,58],"start":[572,46]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[572,73],"start":[572,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[572,73],"start":[572,59]}},"type":"Var","value":{"identifier":"ancestorArrays","sourcePos":[560,3]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"ancestors"}],"exports":["queryIn","queryAll","queryFirst","queryInBound","filterByClass","filterByAttribute","hasClass","hasAttribute","filterByData","findByData","parentElements","children","descendants","siblings","ancestors","union","intersect","difference","isEmpty","size","first","last","nth","toArray"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Control","Category"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Control","Semigroupoid"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","List","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[121,23],"start":[121,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Traversable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["PSD3","Internal","Selection","Query"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["PSD3","Internal","Selection","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Partial","Unsafe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[117,15],"start":[117,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Unsafe","Reference"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","DOM","DOMTokenList"]},{"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,1]}},"moduleName":["Web","DOM","Document"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","DOM","Element"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","DOM","Node"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","DOM","NodeList"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","DOM","ParentNode"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","HTML"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","HTML","HTMLDocument"]},{"annotation":{"meta":null,"sourceSpan":{"end":[713,22],"start":[79,1]}},"moduleName":["Web","HTML","Window"]}],"moduleName":["PSD3","Internal","Selection","Query"],"modulePath":"../purescript-psd3-selection/src/PSD3/Internal/Selection/Query.purs","reExports":{},"sourceSpan":{"end":[713,22],"start":[79,1]}}