// Generated by purs version 0.15.15
import * as Effect_Ref from "../Effect.Ref/index.js";
import * as PSD3_ForceEngine_Simulation from "../PSD3.ForceEngine.Simulation/index.js";
import * as PSD3_Transition_Coordinator from "../PSD3.Transition.Coordinator/index.js";
import * as PSD3_Transition_Engine from "../PSD3.Transition.Engine/index.js";
var transitionGroupConsumer = function (groupRef) {
    return function (onValues) {
        return function (deltaMs) {
            return function __do() {
                var grp = Effect_Ref.read(groupRef)();
                var newGroup = PSD3_Transition_Engine.groupTick(deltaMs)(grp);
                Effect_Ref.write(newGroup)(groupRef)();
                onValues(PSD3_Transition_Engine.groupValues(newGroup))();
                var $5 = PSD3_Transition_Engine.groupComplete(newGroup);
                if ($5) {
                    return PSD3_Transition_Coordinator.Completed.value;
                };
                return PSD3_Transition_Coordinator.StillRunning.value;
            };
        };
    };
};
var transitionConsumer = function (stateRef) {
    return function (onValue) {
        return function (deltaMs) {
            return function __do() {
                var state = Effect_Ref.read(stateRef)();
                var newState = PSD3_Transition_Engine.tick(deltaMs)(state);
                Effect_Ref.write(newState)(stateRef)();
                onValue(PSD3_Transition_Engine.currentValue(newState))();
                var $6 = PSD3_Transition_Engine.isComplete(newState);
                if ($6) {
                    return PSD3_Transition_Coordinator.Completed.value;
                };
                return PSD3_Transition_Coordinator.StillRunning.value;
            };
        };
    };
};
var simulationConsumer = function (sim) {
    return function (alphaMin) {
        return function (onTick) {
            return function (_deltaMs) {
                return function __do() {
                    var alpha = PSD3_ForceEngine_Simulation.tick(sim)();
                    onTick();
                    var $7 = alpha < alphaMin;
                    if ($7) {
                        return PSD3_Transition_Coordinator.Completed.value;
                    };
                    return new PSD3_Transition_Coordinator.Converged(alpha);
                };
            };
        };
    };
};
export {
    transitionConsumer,
    transitionGroupConsumer,
    simulationConsumer
};
export {
    Completed,
    Converged,
    StillRunning
} from "../PSD3.Transition.Coordinator/index.js";
export {
    currentValue,
    group,
    groupComplete,
    groupTick,
    groupValues,
    isComplete,
    start,
    tick
} from "../PSD3.Transition.Engine/index.js";
//# sourceMappingURL=index.js.map
