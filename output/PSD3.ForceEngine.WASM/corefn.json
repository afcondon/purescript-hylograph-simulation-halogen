{"builtWith":"0.15.15","comments":[{"LineComment":" | WASM Force Engine"},{"LineComment":" |"},{"LineComment":" | High-performance force simulation using Rust/WebAssembly."},{"LineComment":" | Provides 3-4x speedup over D3.js for large graphs (10,000+ nodes)."},{"LineComment":" |"},{"LineComment":" | Usage:"},{"LineComment":" | ```purescript"},{"LineComment":" | import PSD3.ForceEngine.WASM as WASM"},{"LineComment":" |"},{"LineComment":" | main = do"},{"LineComment":" |   -- Initialize WASM module (once at app startup)"},{"LineComment":" |   WASM.initWasm \"./pkg/force_kernel.js\""},{"LineComment":" |"},{"LineComment":" |   -- Create simulation"},{"LineComment":" |   sim <- WASM.create 1000"},{"LineComment":" |"},{"LineComment":" |   -- Configure forces"},{"LineComment":" |   WASM.configureManyBody sim { strength: -30.0, theta: 0.9, distanceMin: 1.0, distanceMax: 10000.0 }"},{"LineComment":" |   WASM.configureLinks sim { distance: 30.0, strength: 1.0, iterations: 1 }"},{"LineComment":" |   WASM.configureCenter sim { x: 0.0, y: 0.0, strength: 1.0 }"},{"LineComment":" |"},{"LineComment":" |   -- Set links"},{"LineComment":" |   WASM.setLinks sim [0, 1, 1, 2, 2, 3]  -- [source, target, source, target, ...]"},{"LineComment":" |"},{"LineComment":" |   -- Run simulation"},{"LineComment":" |   WASM.tick sim"},{"LineComment":" |"},{"LineComment":" |   -- Get results"},{"LineComment":" |   positions <- WASM.getPositions sim  -- [x0, y0, x1, y1, ...]"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,50],"start":[207,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[208,23],"start":[208,13]}},"type":"Var","value":{"identifier":"unfixNode_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"unfixNode"},{"annotation":{"meta":null,"sourceSpan":{"end":[276,48],"start":[276,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[277,15],"start":[277,9]}},"type":"Var","value":{"identifier":"tickN_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"tickN"},{"annotation":{"meta":null,"sourceSpan":{"end":[272,40],"start":[272,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[273,13],"start":[273,8]}},"type":"Var","value":{"identifier":"tick_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"tick"},{"annotation":{"meta":null,"sourceSpan":{"end":[302,105],"start":[302,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[303,43],"start":[303,23]}},"type":"Var","value":{"identifier":"syncPositionsToWasm_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"syncPositionsToWasm"},{"annotation":{"meta":null,"sourceSpan":{"end":[307,199],"start":[307,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[308,47],"start":[308,25]}},"type":"Var","value":{"identifier":"syncPositionsFromWasm_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"syncPositionsFromWasm"},{"annotation":{"meta":null,"sourceSpan":{"end":[264,60],"start":[264,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[265,37],"start":[265,20]}},"type":"Var","value":{"identifier":"setVelocityDecay_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setVelocityDecay"},{"annotation":{"meta":null,"sourceSpan":{"end":[187,72],"start":[187,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,27],"start":[188,15]}},"type":"Var","value":{"identifier":"setPosition_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setPosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[178,53],"start":[178,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[179,29],"start":[179,16]}},"type":"Var","value":{"identifier":"setNodeCount_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setNodeCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[220,109],"start":[220,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,109],"start":[220,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,109],"start":[220,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[222,69],"start":[222,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[222,69],"start":[222,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[222,34],"start":[222,19]}},"type":"Var","value":{"identifier":"concatMap","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,63],"start":[222,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,62],"start":[222,36]}},"argument":"l","body":{"annotation":{"meta":null,"sourceSpan":{"end":[222,62],"start":[222,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[222,51],"start":[222,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[222,44],"start":[222,43]}},"type":"Var","value":{"identifier":"l","sourcePos":[222,37]}},"fieldName":"source","type":"Accessor"},{"annotation":{"meta":null,"sourceSpan":{"end":[222,61],"start":[222,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[222,54],"start":[222,53]}},"type":"Var","value":{"identifier":"l","sourcePos":[222,37]}},"fieldName":"target","type":"Accessor"}]}},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[222,69],"start":[222,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,69],"start":[222,64]}},"type":"Var","value":{"identifier":"links","sourcePos":[221,1]}},"type":"App"},"identifier":"flatLinks"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[223,12],"start":[223,3]}},"type":"Var","value":{"identifier":"setLinks_","moduleName":["PSD3","ForceEngine","WASM"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,16],"start":[223,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,16],"start":[223,13]}},"type":"Var","value":{"identifier":"sim","sourcePos":[221,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,26],"start":[223,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,26],"start":[223,17]}},"type":"Var","value":{"identifier":"flatLinks","sourcePos":[222,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"setLinksFromRecords"},{"annotation":{"meta":null,"sourceSpan":{"end":[216,55],"start":[216,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,21],"start":[217,12]}},"type":"Var","value":{"identifier":"setLinks_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[260,57],"start":[260,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[261,31],"start":[261,17]}},"type":"Var","value":{"identifier":"setAlphaDecay_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setAlphaDecay"},{"annotation":{"meta":null,"sourceSpan":{"end":[252,52],"start":[252,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[253,21],"start":[253,12]}},"type":"Var","value":{"identifier":"setAlpha_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setAlpha"},{"annotation":{"meta":null,"sourceSpan":{"end":[191,65],"start":[191,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[192,35],"start":[192,19]}},"type":"Var","value":{"identifier":"setAllPositions_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"setAllPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[268,40],"start":[268,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[269,17],"start":[269,10]}},"type":"Var","value":{"identifier":"reheat_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"reheat"},{"annotation":{"meta":null,"sourceSpan":{"end":[289,42],"start":[289,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[290,23],"start":[290,13]}},"type":"Var","value":{"identifier":"nodeCount_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"nodeCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[293,42],"start":[293,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[294,23],"start":[294,13]}},"type":"Var","value":{"identifier":"linkCount_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"linkCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[160,30],"start":[160,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[161,27],"start":[161,15]}},"type":"Var","value":{"identifier":"isWasmReady_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"isWasmReady"},{"annotation":{"meta":null,"sourceSpan":{"end":[280,46],"start":[280,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[281,23],"start":[281,13]}},"type":"Var","value":{"identifier":"isRunning_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"isRunning"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,31],"start":[156,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,31],"start":[156,1]}},"argument":"url","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[157,31],"start":[157,16]}},"type":"Var","value":{"identifier":"fromEffectFnAff","moduleName":["Effect","Aff","Compat"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,47],"start":[157,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[157,42],"start":[157,33]}},"type":"Var","value":{"identifier":"initWasm_","moduleName":["PSD3","ForceEngine","WASM"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,46],"start":[157,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,46],"start":[157,43]}},"type":"Var","value":{"identifier":"url","sourcePos":[157,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"initWasm"},{"annotation":{"meta":null,"sourceSpan":{"end":[199,87],"start":[199,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,47],"start":[200,25]}},"type":"Var","value":{"identifier":"getPositionsAsObjects_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"getPositionsAsObjects"},{"annotation":{"meta":null,"sourceSpan":{"end":[195,56],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,29],"start":[196,16]}},"type":"Var","value":{"identifier":"getPositions_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"getPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[256,44],"start":[256,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[257,21],"start":[257,12]}},"type":"Var","value":{"identifier":"getAlpha_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"getAlpha"},{"annotation":{"meta":null,"sourceSpan":{"end":[174,38],"start":[174,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[175,23],"start":[175,8]}},"type":"Var","value":{"identifier":"freeSimulation_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"free"},{"annotation":{"meta":null,"sourceSpan":{"end":[203,68],"start":[203,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[204,19],"start":[204,11]}},"type":"Var","value":{"identifier":"fixNode_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"fixNode"},{"annotation":{"meta":null,"sourceSpan":{"end":[243,110],"start":[243,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[243,110],"start":[243,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[243,110],"start":[243,1]}},"argument":"cfg","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[244,37],"start":[244,24]}},"type":"Var","value":{"identifier":"enableForces_","moduleName":["PSD3","ForceEngine","WASM"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,41],"start":[244,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,41],"start":[244,38]}},"type":"Var","value":{"identifier":"sim","sourcePos":[244,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,54],"start":[244,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,54],"start":[244,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,45],"start":[244,42]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[244,1]}},"fieldName":"manyBody","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,64],"start":[244,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,64],"start":[244,55]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,58],"start":[244,55]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[244,1]}},"fieldName":"links","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,75],"start":[244,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,75],"start":[244,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,68],"start":[244,65]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[244,1]}},"fieldName":"center","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"enableForces"},{"annotation":{"meta":null,"sourceSpan":{"end":[170,39],"start":[170,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,27],"start":[171,10]}},"type":"Var","value":{"identifier":"createSimulation_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"create"},{"annotation":{"meta":null,"sourceSpan":{"end":[231,69],"start":[231,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[232,39],"start":[232,21]}},"type":"Var","value":{"identifier":"configureManyBody_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"configureManyBody"},{"annotation":{"meta":null,"sourceSpan":{"end":[235,62],"start":[235,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[236,33],"start":[236,18]}},"type":"Var","value":{"identifier":"configureLinks_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"configureLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[239,65],"start":[239,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[240,35],"start":[240,19]}},"type":"Var","value":{"identifier":"configureCenter_","moduleName":["PSD3","ForceEngine","WASM"]}},"identifier":"configureCenter"}],"exports":["initWasm","isWasmReady","create","free","setNodeCount","setPosition","setAllPositions","getPositions","getPositionsAsObjects","fixNode","unfixNode","setLinks","setLinksFromRecords","configureManyBody","configureLinks","configureCenter","enableForces","setAlpha","getAlpha","setAlphaDecay","setVelocityDecay","reheat","tick","tickN","isRunning","nodeCount","linkCount","syncPositionsToWasm","syncPositionsFromWasm"],"foreign":["initWasm_","isWasmReady_","createSimulation_","freeSimulation_","setNodeCount_","setLinks_","setPosition_","setAllPositions_","getPositions_","getPositionsAsObjects_","fixNode_","unfixNode_","configureManyBody_","configureLinks_","configureCenter_","enableForces_","setAlpha_","getAlpha_","setAlphaDecay_","setVelocityDecay_","reheat_","tick_","tickN_","isRunning_","nodeCount_","linkCount_","syncPositionsToWasm_","syncPositionsFromWasm_"],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[308,47],"start":[31,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[79,23],"start":[79,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,24],"start":[80,1]}},"moduleName":["Effect","Aff"]},{"annotation":{"meta":null,"sourceSpan":{"end":[308,47],"start":[31,1]}},"moduleName":["Effect","Aff","Compat"]},{"annotation":{"meta":null,"sourceSpan":{"end":[308,47],"start":[31,1]}},"moduleName":["PSD3","ForceEngine","WASM"]},{"annotation":{"meta":null,"sourceSpan":{"end":[76,15],"start":[76,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[308,47],"start":[31,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","ForceEngine","WASM"],"modulePath":"../purescript-psd3-simulation/src/PSD3/ForceEngine/WASM.purs","reExports":{},"sourceSpan":{"end":[308,47],"start":[31,1]}}