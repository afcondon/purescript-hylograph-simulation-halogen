{"comments":"Native Brush Implementation using Pointer Events\n\nThis module provides brush selection behavior without D3 dependency.\nIt integrates with `PSD3.Interaction.Coordinated` for brush-and-link patterns.\n\n## Basic Usage\n\n```purescript\nimport PSD3.Interaction.Brush (attachNativeBrush, BrushHandle)\n\n-- Attach brush with callbacks\nhandle <- attachNativeBrush svgElement extent\n  { onBrush: \\box -> Console.log $ \"Brushing: \" <> show box\n  , onEnd: \\maybeBox -> case maybeBox of\n      Just box -> Console.log \"Selection complete\"\n      Nothing -> Console.log \"Cleared\"\n  }\n```\n\n## Coordinated Usage\n\nFor brush-and-link across multiple views:\n\n```purescript\nimport PSD3.Interaction.Brush (attachCoordinatedBrush)\nimport PSD3.Interaction.Coordinated (registerCoordinated, withBrush)\n\n-- Register elements in both views\nfor_ scatterPoints \\el ->\n  registerCoordinated el (withBrush _.pos (simpleHover _.id))\n\n-- Attach brush to one view - it will emit BrushTrigger to all\nbrushHandle <- attachCoordinatedBrush svgElement extent (Just \"linked-views\")\n```\n","declarations":[{"children":[],"comments":"Opaque handle for controlling a brush\n","info":{"dataDeclType":"data","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[67,40],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[67,1]},"title":"BrushHandle"},{"children":[],"comments":"Brush extent (the area where brushing is allowed)\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[["PSD3","Interaction","Coordinated"],"BoundingBox"],"tag":"TypeConstructor"}},"kind":null,"sourceSpan":{"end":[70,31],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[70,1]},"title":"BrushExtent"},{"children":[],"comments":"Current brush selection (same as BoundingBox)\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[["PSD3","Interaction","Coordinated"],"BoundingBox"],"tag":"TypeConstructor"}},"kind":null,"sourceSpan":{"end":[73,34],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[73,1]},"title":"BrushSelection"},{"children":[],"comments":"Callbacks for brush events\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["onBrush",{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushSelection"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":["onEnd",{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushSelection"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[81,4],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[76,1]},"title":"BrushCallbacks"},{"children":[],"comments":"Attach a native brush to an SVG element\n\nThe brush will:\n- Draw a selection rectangle when dragging on the SVG background\n- Call `onBrush` continuously with the current selection box\n- Call `onEnd` with the final selection (or Nothing if cancelled)\n\nThe brush only activates when clicking on the SVG background or elements\nwith class `brush-background`. This allows data elements to receive their\nown click/drag events.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Web","DOM","Internal","Types"],"Element"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushExtent"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushCallbacks"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushHandle"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[121,84],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[121,1]},"title":"attachNativeBrush"},{"children":[],"comments":"Attach a brush that integrates with the Coordinated framework\n\nThis is the recommended way to use brush for linked views:\n\n1. Register elements in all views with `registerCoordinated`\n2. Use `withBrush` in the config to specify how elements get their position\n3. Attach this brush to the view where brushing should occur\n\nThe brush will automatically emit `BrushTrigger` to all elements in the\nspecified group, causing them to update their `coord-selected` / `coord-dimmed`\nCSS classes.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Web","DOM","Internal","Types"],"Element"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushExtent"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushHandle"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[146,24],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[142,1]},"title":"attachCoordinatedBrush"},{"children":[],"comments":"Clear the brush selection programmatically\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushHandle"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[159,41],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[159,1]},"title":"clearBrush"},{"children":[],"comments":"Get the current brush selection (if any)\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushHandle"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushSelection"],"tag":"TypeConstructor"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[163,66],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[163,1]},"title":"getBrushSelection"},{"children":[],"comments":"Destroy the brush (remove event listeners and DOM elements)\n\nCall this when the component unmounts.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Interaction","Brush"],"BrushHandle"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[171,43],"name":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","start":[171,1]},"title":"destroyBrush"}],"name":"PSD3.Interaction.Brush","reExports":[]}