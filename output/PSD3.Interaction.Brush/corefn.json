{"builtWith":"0.15.15","comments":[{"LineComment":" | Native Brush Implementation using Pointer Events"},{"LineComment":" |"},{"LineComment":" | This module provides brush selection behavior without D3 dependency."},{"LineComment":" | It integrates with `PSD3.Interaction.Coordinated` for brush-and-link patterns."},{"LineComment":" |"},{"LineComment":" | ## Basic Usage"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | import PSD3.Interaction.Brush (attachNativeBrush, BrushHandle)"},{"LineComment":" |"},{"LineComment":" | -- Attach brush with callbacks"},{"LineComment":" | handle <- attachNativeBrush svgElement extent"},{"LineComment":" |   { onBrush: \\box -> Console.log $ \"Brushing: \" <> show box"},{"LineComment":" |   , onEnd: \\maybeBox -> case maybeBox of"},{"LineComment":" |       Just box -> Console.log \"Selection complete\""},{"LineComment":" |       Nothing -> Console.log \"Cleared\""},{"LineComment":" |   }"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | ## Coordinated Usage"},{"LineComment":" |"},{"LineComment":" | For brush-and-link across multiple views:"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | import PSD3.Interaction.Brush (attachCoordinatedBrush)"},{"LineComment":" | import PSD3.Interaction.Coordinated (registerCoordinated, withBrush)"},{"LineComment":" |"},{"LineComment":" | -- Register elements in both views"},{"LineComment":" | for_ scatterPoints \\el ->"},{"LineComment":" |   registerCoordinated el (withBrush _.pos (simpleHover _.id))"},{"LineComment":" |"},{"LineComment":" | -- Attach brush to one view - it will emit BrushTrigger to all"},{"LineComment":" | brushHandle <- attachCoordinatedBrush svgElement extent (Just \"linked-views\")"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,40],"start":[165,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,7],"start":[166,3]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[166,26],"start":[166,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,66],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,66],"start":[163,1]}},"argument":"handle","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Interaction","Brush"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,33],"start":[165,15]}},"type":"Var","value":{"identifier":"getBrushSelection_","moduleName":["PSD3","Interaction","Brush"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,34]}},"type":"Var","value":{"identifier":"handle","sourcePos":[164,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,40],"start":[165,3]}},"argument":"nullable","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Interaction","Brush"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,26],"start":[166,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,16],"start":[166,9]}},"type":"Var","value":{"identifier":"toMaybe","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,25],"start":[166,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,25],"start":[166,17]}},"type":"Var","value":{"identifier":"nullable","sourcePos":[165,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"getBrushSelection"},{"annotation":{"meta":null,"sourceSpan":{"end":[171,43],"start":[171,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,29],"start":[172,16]}},"type":"Var","value":{"identifier":"destroyBrush_","moduleName":["PSD3","Interaction","Brush"]}},"identifier":"destroyBrush"},{"annotation":{"meta":null,"sourceSpan":{"end":[159,41],"start":[159,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,25],"start":[160,14]}},"type":"Var","value":{"identifier":"clearBrush_","moduleName":["PSD3","Interaction","Brush"]}},"identifier":"clearBrush"},{"annotation":{"meta":null,"sourceSpan":{"end":[121,84],"start":[121,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,84],"start":[121,1]}},"argument":"element","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,84],"start":[121,1]}},"argument":"extent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,84],"start":[121,1]}},"argument":"callbacks","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,21],"start":[123,3]}},"type":"Var","value":{"identifier":"attachNativeBrush_","moduleName":["PSD3","Interaction","Brush"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,29],"start":[123,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,29],"start":[123,22]}},"type":"Var","value":{"identifier":"element","sourcePos":[122,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,36],"start":[123,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,36],"start":[123,30]}},"type":"Var","value":{"identifier":"extent","sourcePos":[122,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,22],"start":[123,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,22],"start":[124,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,14],"start":[124,5]}},"type":"Var","value":{"identifier":"callbacks","sourcePos":[122,1]}},"fieldName":"onBrush","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,54],"start":[123,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,53],"start":[125,6]}},"argument":"nullable","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[125,34],"start":[125,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,28],"start":[125,19]}},"type":"Var","value":{"identifier":"callbacks","sourcePos":[122,1]}},"fieldName":"onEnd","type":"Accessor"},"annotation":{"meta":null,"sourceSpan":{"end":[125,53],"start":[125,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,43],"start":[125,36]}},"type":"Var","value":{"identifier":"toMaybe","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,52],"start":[125,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,52],"start":[125,44]}},"type":"Var","value":{"identifier":"nullable","sourcePos":[125,7]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"attachNativeBrush"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,24],"start":[142,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,24],"start":[142,1]}},"argument":"element","body":{"annotation":{"meta":null,"sourceSpan":{"end":[146,24],"start":[142,1]}},"argument":"extent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[146,24],"start":[142,1]}},"argument":"group","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,26],"start":[148,3]}},"type":"Var","value":{"identifier":"attachCoordinatedBrush_","moduleName":["PSD3","Interaction","Brush"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,34],"start":[148,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,34],"start":[148,27]}},"type":"Var","value":{"identifier":"element","sourcePos":[147,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,41],"start":[148,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,41],"start":[148,35]}},"type":"Var","value":{"identifier":"extent","sourcePos":[147,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,23],"start":[148,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,16],"start":[149,6]}},"type":"Var","value":{"identifier":"toNullable","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,22],"start":[149,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,22],"start":[149,17]}},"type":"Var","value":{"identifier":"group","sourcePos":[147,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[148,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,39],"start":[150,6]}},"argument":"g","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,39],"start":[150,6]}},"argument":"t","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[150,25],"start":[150,14]}},"type":"Var","value":{"identifier":"emitTrigger","moduleName":["PSD3","Interaction","Coordinated"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,37],"start":[150,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[150,34],"start":[150,27]}},"type":"Var","value":{"identifier":"toMaybe","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,36],"start":[150,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,36],"start":[150,35]}},"type":"Var","value":{"identifier":"g","sourcePos":[150,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,39],"start":[150,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,39],"start":[150,38]}},"type":"Var","value":{"identifier":"t","sourcePos":[150,9]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,19],"start":[148,3]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,19],"start":[151,5]}},"type":"Var","value":{"identifier":"mkBrushTrigger","moduleName":["PSD3","Interaction","Coordinated"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,19],"start":[148,3]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,19],"start":[152,5]}},"type":"Var","value":{"identifier":"mkClearTrigger","moduleName":["PSD3","Interaction","Coordinated"]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"attachCoordinatedBrush"}],"exports":["attachNativeBrush","attachCoordinatedBrush","clearBrush","getBrushSelection","destroyBrush"],"foreign":["attachNativeBrush_","attachCoordinatedBrush_","clearBrush_","getBrushSelection_","destroyBrush_"],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[56,26],"start":[56,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["Data","Nullable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["PSD3","Interaction","Brush"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["PSD3","Interaction","Coordinated"]},{"annotation":{"meta":null,"sourceSpan":{"end":[54,15],"start":[54,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[35,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[60,33],"start":[60,1]}},"moduleName":["Web","DOM","Element"]}],"moduleName":["PSD3","Interaction","Brush"],"modulePath":"../purescript-psd3-selection/src/PSD3/Interaction/Brush.purs","reExports":{},"sourceSpan":{"end":[172,29],"start":[35,1]}}