// Generated by purs version 0.15.15
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as DataViz_Layout_Sankey_Compute from "../DataViz.Layout.Sankey.Compute/index.js";
import * as DataViz_Layout_Sankey_Types from "../DataViz.Layout.Sankey.Types/index.js";
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var epsilon = 1.0e-6;
var computeLayoutWithSteps = function (linkInputs) {
    return function (width) {
        return function (height) {
            return function (maxIterations) {
                var steps = map(function (iter) {
                    var label = (function () {
                        var $6 = iter === 0;
                        if ($6) {
                            return "Initial (no relaxation)";
                        };
                        return "After " + (show(iter) + (" relaxation iteration" + (function () {
                            var $7 = iter > 1;
                            if ($7) {
                                return "s";
                            };
                            return "";
                        })()));
                    })();
                    var config = (function () {
                        var v = DataViz_Layout_Sankey_Types.defaultSankeyConfig(width)(height);
                        return {
                            alignment: v.alignment,
                            extent: v.extent,
                            linkColorMode: v.linkColorMode,
                            nodePadding: v.nodePadding,
                            nodeWidth: v.nodeWidth,
                            iterations: iter
                        };
                    })();
                    var result = DataViz_Layout_Sankey_Compute.computeLayoutWithConfig(linkInputs)(config);
                    return {
                        iteration: iter,
                        label: label,
                        nodes: result.nodes,
                        links: result.links
                    };
                })(Data_Array.range(0)(maxIterations));
                return steps;
            };
        };
    };
};
export {
    computeLayoutWithSteps
};
//# sourceMappingURL=index.js.map
