{"builtWith":"0.15.15","comments":[{"LineComment":" | DataViz.Layout.Sankey.ComputeWithSteps"},{"LineComment":" |"},{"LineComment":" | Version of Sankey layout that captures intermediate states at each iteration."},{"LineComment":" | Uses the same algorithm as Compute.purs but captures states after each"},{"LineComment":" | relaxation iteration for debugging and visual comparison."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[36,16],"start":[36,13]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[49,6],"start":[36,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[40,27],"start":[40,25]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[40,29],"start":[40,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[42,33],"start":[42,31]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[42,38],"start":[42,34]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[42,43],"start":[42,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[42,84],"start":[42,83]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[42,86],"start":[42,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[21,18],"start":[21,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[22,17],"start":[22,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-6}},"identifier":"epsilon"},{"annotation":{"meta":null,"sourceSpan":{"end":[31,22],"start":[26,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[31,22],"start":[26,1]}},"argument":"linkInputs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[31,22],"start":[26,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[31,22],"start":[26,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[31,22],"start":[26,1]}},"argument":"maxIterations","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[33,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[49,27],"start":[36,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,6],"start":[36,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[48,10],"start":[36,18]}},"argument":"iter","body":{"annotation":{"meta":null,"sourceSpan":{"end":[48,10],"start":[37,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[40,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[40,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[40,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[41,47],"start":[41,22]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Initial (no relaxation)"}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[40,17]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,30],"start":[42,22]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"After "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,43],"start":[42,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,43],"start":[42,39]}},"type":"Var","value":{"identifier":"iter","sourcePos":[36,19]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,70],"start":[42,47]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" relaxation iteration"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,104],"start":[42,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,103],"start":[42,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[42,103],"start":[42,75]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,95],"start":[42,92]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s"}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[42,103],"start":[42,75]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,103],"start":[42,101]}},"type":"Literal","value":{"literalType":"StringLiteral","value":""}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,86],"start":[42,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,82],"start":[42,78]}},"type":"Var","value":{"identifier":"iter","sourcePos":[36,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,86],"start":[42,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,86],"start":[42,85]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],"type":"Case"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[40,29],"start":[40,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[40,24],"start":[40,20]}},"type":"Var","value":{"identifier":"iter","sourcePos":[36,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[40,29],"start":[40,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[40,29],"start":[40,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"label"},{"annotation":{"meta":null,"sourceSpan":{"end":[38,74],"start":[38,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[38,74],"start":[38,18]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[32,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[38,38],"start":[38,19]}},"type":"Var","value":{"identifier":"defaultSankeyConfig","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[38,44],"start":[38,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,44],"start":[38,39]}},"type":"Var","value":{"identifier":"width","sourcePos":[32,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[38,51],"start":[38,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,51],"start":[38,45]}},"type":"Var","value":{"identifier":"height","sourcePos":[32,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[38,74],"start":[38,18]}},"copy":["alignment","extent","linkColorMode","nodePadding","nodeWidth"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[32,1]}},"type":"ObjectUpdate","updates":[["iterations",{"annotation":{"meta":null,"sourceSpan":{"end":[38,72],"start":[38,68]}},"type":"Var","value":{"identifier":"iter","sourcePos":[36,19]}}]]},"type":"Let"},"identifier":"config"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,59],"start":[39,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[39,41],"start":[39,18]}},"type":"Var","value":{"identifier":"computeLayoutWithConfig","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,52],"start":[39,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,52],"start":[39,42]}},"type":"Var","value":{"identifier":"linkInputs","sourcePos":[32,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,59],"start":[39,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,59],"start":[39,53]}},"type":"Var","value":{"identifier":"config","sourcePos":[38,9]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,10],"start":[44,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["iteration",{"annotation":{"meta":null,"sourceSpan":{"end":[44,26],"start":[44,22]}},"type":"Var","value":{"identifier":"iter","sourcePos":[36,19]}}],["label",{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[45,18]}},"type":"Var","value":{"identifier":"label","sourcePos":[40,9]}}],["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[46,30],"start":[46,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[46,24],"start":[46,18]}},"type":"Var","value":{"identifier":"result","sourcePos":[39,9]}},"fieldName":"nodes","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[47,30],"start":[47,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,24],"start":[47,18]}},"type":"Var","value":{"identifier":"result","sourcePos":[39,9]}},"fieldName":"links","type":"Accessor"}]]}},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[49,27],"start":[36,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[49,12],"start":[49,10]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,26],"start":[49,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,9],"start":[49,8]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[49,26],"start":[49,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,26],"start":[49,13]}},"type":"Var","value":{"identifier":"maxIterations","sourcePos":[32,1]}},"type":"App"},"type":"App"},"identifier":"steps"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[50,6]}},"type":"Var","value":{"identifier":"steps","sourcePos":[36,5]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"computeLayoutWithSteps"}],"exports":["computeLayoutWithSteps"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[14,27],"start":[14,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[15,41],"start":[15,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[16,25],"start":[16,1]}},"moduleName":["Data","Number"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["DataViz","Layout","Sankey","Compute"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["DataViz","Layout","Sankey","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[10,15],"start":[10,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[50,11],"start":[6,1]}},"moduleName":["Prim"]}],"moduleName":["DataViz","Layout","Sankey","ComputeWithSteps"],"modulePath":"../purescript-psd3-layout/src/DataViz/Layout/Sankey/ComputeWithSteps.purs","reExports":{},"sourceSpan":{"end":[50,11],"start":[6,1]}}