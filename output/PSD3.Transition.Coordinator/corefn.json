{"builtWith":"0.15.15","comments":[{"LineComment":" | Tick Coordinator"},{"LineComment":" |"},{"LineComment":" | A unified animation coordinator that owns the RAF loop and routes ticks"},{"LineComment":" | to multiple consumers (transitions, simulations, etc)."},{"LineComment":" |"},{"LineComment":" | Key concepts:"},{"LineComment":" | - **Single RAF loop**: One coordinator per visualization, no competing frames"},{"LineComment":" | - **TickConsumer**: Anything that needs ticks (transitions, simulations)"},{"LineComment":" | - **Pull model**: Consumers compute on tick, coordinator reads results"},{"LineComment":" |"},{"LineComment":" | Usage:"},{"LineComment":" | ```purescript"},{"LineComment":" | import PSD3.Transition.Coordinator as C"},{"LineComment":" |"},{"LineComment":" | main = do"},{"LineComment":" |   coord <- C.create"},{"LineComment":" |"},{"LineComment":" |   -- Register a transition"},{"LineComment":" |   transitionId <- C.register coord"},{"LineComment":" |     { tick: \\dt -> do"},{"LineComment":" |         -- advance transition"},{"LineComment":" |         pure C.StillRunning"},{"LineComment":" |     , onComplete: log \"done!\""},{"LineComment":" |     }"},{"LineComment":" |"},{"LineComment":" |   -- Start the loop"},{"LineComment":" |   C.start coord"},{"LineComment":" | ```"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,24],"start":[154,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[154,24],"start":[154,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,7],"start":[155,3]}},"type":"Var","value":{"identifier":"when","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[155,21],"start":[155,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"when"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,44],"start":[156,5]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[156,44],"start":[156,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[156,44],"start":[156,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,9],"start":[156,5]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[156,23],"start":[156,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"for_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[156,23],"start":[156,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableMaybe","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,52],"start":[127,50]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[127,63],"start":[127,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,88],"start":[127,87]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[127,90],"start":[127,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,7],"start":[128,3]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[128,18],"start":[128,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[182,30],"start":[182,29]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[182,50],"start":[182,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[186,19],"start":[186,16]}},"type":"Var","value":{"identifier":"for","moduleName":["Data","Traversable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[186,35],"start":[186,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[186,35],"start":[186,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"traversableArray","moduleName":["Data","Traversable"]}},"type":"App"},"identifier":"for"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[192,19],"start":[192,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,9],"start":[145,3]}},"type":"Var","value":{"identifier":"unless","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[145,23],"start":[145,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"unless"},{"annotation":{"meta":null,"sourceSpan":{"end":[73,21],"start":[70,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,21],"start":[70,1]}},"constructorName":"StillRunning","fieldNames":[],"type":"Constructor","typeName":"TickResult"},"identifier":"StillRunning"},{"annotation":{"meta":null,"sourceSpan":{"end":[73,21],"start":[70,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,21],"start":[70,1]}},"constructorName":"Completed","fieldNames":[],"type":"Constructor","typeName":"TickResult"},"identifier":"Completed"},{"annotation":{"meta":null,"sourceSpan":{"end":[73,21],"start":[70,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,21],"start":[70,1]}},"constructorName":"Converged","fieldNames":["value0"],"type":"Constructor","typeName":"TickResult"},"identifier":"Converged"},{"annotation":{"meta":null,"sourceSpan":{"end":[65,36],"start":[65,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[65,36],"start":[65,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[65,36],"start":[65,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},"type":"Abs"},"identifier":"ConsumerId"},{"annotation":{"meta":null,"sourceSpan":{"end":[92,57],"start":[92,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[92,57],"start":[92,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,57],"start":[92,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},"type":"Abs"},"identifier":"Coordinator"},{"annotation":{"meta":null,"sourceSpan":{"end":[67,30],"start":[67,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,30],"start":[67,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"VarBinder","identifier":"l"}],"constructorName":{"identifier":"ConsumerId","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"ConsumerId","moduleName":["PSD3","Transition","Coordinator"]}},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"ConsumerId","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"ConsumerId","moduleName":["PSD3","Transition","Coordinator"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"l","sourcePos":[0,0]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"r","sourcePos":[0,0]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqConsumerId"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,59],"start":[134,57]}},"type":"Var","value":{"identifier":"notEq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[134,70],"start":[134,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqConsumerId","moduleName":["PSD3","Transition","Coordinator"]}},"type":"App"},"identifier":"notEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[132,55],"start":[132,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[132,55],"start":[132,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[132,55],"start":[132,1]}},"argument":"consumerId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[132,55],"start":[132,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[133,28],"start":[133,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,28],"start":[133,25]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}},{"annotation":{"meta":null,"sourceSpan":{"end":[133,40],"start":[133,30]}},"binderType":"VarBinder","identifier":"consumerId1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,14],"start":[134,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,86],"start":[134,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,85],"start":[134,16]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[134,85],"start":[134,22]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[134,90],"start":[133,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,23],"start":[134,22]}},"type":"Var","value":{"identifier":"s","sourcePos":[134,17]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,85],"start":[134,22]}},"copy":["frameId","lastTimestamp","nextId","running"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[133,1]}},"type":"ObjectUpdate","updates":[["consumers",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,44],"start":[134,38]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,71],"start":[134,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,70],"start":[134,46]}},"argument":"c","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"notEq","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,70],"start":[134,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,56],"start":[134,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,53],"start":[134,52]}},"type":"Var","value":{"identifier":"c","sourcePos":[134,47]}},"fieldName":"id","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,70],"start":[134,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,70],"start":[134,60]}},"type":"Var","value":{"identifier":"consumerId1","sourcePos":[133,30]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,83],"start":[134,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,83],"start":[134,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,73],"start":[134,72]}},"type":"Var","value":{"identifier":"s","sourcePos":[134,17]}},"fieldName":"consumers","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,90],"start":[134,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,90],"start":[134,87]}},"type":"Var","value":{"identifier":"ref","sourcePos":[133,25]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[134,90],"start":[133,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[134,90],"start":[133,1]}},"type":"Var","value":{"identifier":"consumerId","sourcePos":[133,30]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"unregister"},{"annotation":{"meta":null,"sourceSpan":{"end":[152,35],"start":[152,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[152,35],"start":[152,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[152,35],"start":[152,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[153,22],"start":[153,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,22],"start":[153,19]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,24],"start":[154,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,20],"start":[154,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,24],"start":[154,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,24],"start":[154,21]}},"type":"Var","value":{"identifier":"ref","sourcePos":[153,19]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,24],"start":[154,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,24],"start":[154,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,21],"start":[155,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,21],"start":[155,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,13],"start":[155,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[154,3]}},"fieldName":"running","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,63],"start":[155,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,44],"start":[156,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_1","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,23],"start":[156,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,23],"start":[156,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,15],"start":[156,10]}},"type":"Var","value":{"identifier":"state","sourcePos":[154,3]}},"fieldName":"frameId","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,44],"start":[156,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,44],"start":[156,24]}},"type":"Var","value":{"identifier":"cancelAnimationFrame","moduleName":["PSD3","Transition","RAF"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,44],"start":[156,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,44],"start":[156,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[157,16],"start":[157,5]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,59],"start":[157,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,58],"start":[157,18]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[157,58],"start":[157,18]}},"copy":["consumers","lastTimestamp","nextId"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["running",{"annotation":{"meta":null,"sourceSpan":{"end":[157,37],"start":[157,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}],["frameId",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[157,56],"start":[157,49]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,63],"start":[157,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,63],"start":[157,60]}},"type":"Var","value":{"identifier":"ref","sourcePos":[153,19]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,63],"start":[153,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"stop"},{"annotation":{"meta":null,"sourceSpan":{"end":[121,23],"start":[118,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,23],"start":[118,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,23],"start":[118,1]}},"argument":"spec","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,23],"start":[118,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[122,26],"start":[122,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,26],"start":[122,23]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}},{"annotation":{"meta":null,"sourceSpan":{"end":[122,32],"start":[122,28]}},"binderType":"VarBinder","identifier":"spec1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,24],"start":[123,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,20],"start":[123,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,24],"start":[123,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,24],"start":[123,21]}},"type":"Var","value":{"identifier":"ref","sourcePos":[122,23]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,24],"start":[123,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,24],"start":[123,3]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,80],"start":[124,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,41],"start":[125,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[125,28],"start":[125,18]}},"type":"Var","value":{"identifier":"ConsumerId","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,41],"start":[125,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,41],"start":[125,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,34],"start":[125,29]}},"type":"Var","value":{"identifier":"state","sourcePos":[123,3]}},"fieldName":"nextId","type":"Accessor"},"type":"App"},"identifier":"consumerId"},{"annotation":{"meta":null,"sourceSpan":{"end":[126,80],"start":[126,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,80],"start":[126,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"annotation":{"meta":null,"sourceSpan":{"end":[126,32],"start":[126,22]}},"type":"Var","value":{"identifier":"consumerId","sourcePos":[125,5]}}],["tick",{"annotation":{"meta":null,"sourceSpan":{"end":[126,49],"start":[126,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,44],"start":[126,40]}},"type":"Var","value":{"identifier":"spec1","sourcePos":[122,28]}},"fieldName":"tick","type":"Accessor"}],["onComplete",{"annotation":{"meta":null,"sourceSpan":{"end":[126,78],"start":[126,63]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,67],"start":[126,63]}},"type":"Var","value":{"identifier":"spec1","sourcePos":[122,28]}},"fieldName":"onComplete","type":"Accessor"}]]}},"identifier":"consumer"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,97],"start":[127,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,12],"start":[127,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,93],"start":[127,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,92],"start":[127,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,18],"start":[122,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,19],"start":[127,14]}},"type":"Var","value":{"identifier":"state","sourcePos":[123,3]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,92],"start":[127,14]}},"copy":["frameId","lastTimestamp","running"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[122,1]}},"type":"ObjectUpdate","updates":[["consumers",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,63],"start":[127,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,49],"start":[127,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,39],"start":[127,34]}},"type":"Var","value":{"identifier":"state","sourcePos":[123,3]}},"fieldName":"consumers","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,63],"start":[127,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,63],"start":[127,53]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[127,62],"start":[127,54]}},"type":"Var","value":{"identifier":"consumer","sourcePos":[126,5]}}]}},"type":"App"}],["nextId",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,90],"start":[127,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,86],"start":[127,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,79],"start":[127,74]}},"type":"Var","value":{"identifier":"state","sourcePos":[123,3]}},"fieldName":"nextId","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,90],"start":[127,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,90],"start":[127,89]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}]]},"type":"Let"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,97],"start":[127,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,97],"start":[127,94]}},"type":"Var","value":{"identifier":"ref","sourcePos":[122,23]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,97],"start":[127,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,97],"start":[127,3]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,18],"start":[128,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,18],"start":[128,8]}},"type":"Var","value":{"identifier":"consumerId","sourcePos":[125,5]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,18],"start":[122,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[128,18],"start":[122,1]}},"type":"Var","value":{"identifier":"spec","sourcePos":[122,28]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"register"},{"annotation":{"meta":null,"sourceSpan":{"end":[160,43],"start":[160,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,43],"start":[160,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[160,43],"start":[160,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[161,27],"start":[161,12]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[161,27],"start":[161,24]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[162,20],"start":[162,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,21]}},"type":"Var","value":{"identifier":"ref","sourcePos":[161,24]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,3]}},"argument":"state","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,21],"start":[163,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,21],"start":[163,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,13],"start":[163,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[162,3]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[163,21],"start":[161,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"isRunning"},{"annotation":{"meta":null,"sourceSpan":{"end":[207,37],"start":[207,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,37],"start":[207,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[207,37],"start":[207,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[208,22],"start":[208,13]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Completed","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"TickResult","moduleName":["PSD3","Transition","Coordinator"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,29],"start":[208,25]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[209,14],"start":[209,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[209,17]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[208,29],"start":[208,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"isCompleted"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[170,44],"start":[170,1]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[170,44],"start":[170,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[170,44],"start":[170,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,38],"start":[171,15]}},"binder":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[171,37],"start":[171,22]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,34]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}},"binderType":"NamedBinder","identifier":"coord"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,52],"start":[172,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,35],"start":[172,14]}},"type":"Var","value":{"identifier":"requestAnimationFrame","moduleName":["PSD3","Transition","RAF"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,52],"start":[172,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[172,45],"start":[172,37]}},"type":"Var","value":{"identifier":"runFrame","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,51],"start":[172,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,51],"start":[172,46]}},"type":"Var","value":{"identifier":"coord","sourcePos":[171,15]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,52],"start":[172,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,52],"start":[172,3]}},"argument":"frameId","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,14],"start":[173,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,45],"start":[173,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,44],"start":[173,16]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,44],"start":[173,16]}},"copy":["consumers","lastTimestamp","nextId","running"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["frameId",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[173,34],"start":[173,30]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,42],"start":[173,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,42],"start":[173,35]}},"type":"Var","value":{"identifier":"frameId","sourcePos":[172,3]}},"type":"App"}]]},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,49],"start":[173,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,49],"start":[173,46]}},"type":"Var","value":{"identifier":"ref","sourcePos":[171,34]}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,49],"start":[171,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"scheduleFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[176,52],"start":[176,1]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[176,52],"start":[176,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[176,52],"start":[176,1]}},"argument":"timestamp","body":{"annotation":{"meta":null,"sourceSpan":{"end":[176,52],"start":[176,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,33],"start":[177,10]}},"binder":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[177,32],"start":[177,17]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,32],"start":[177,29]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}},"binderType":"NamedBinder","identifier":"coord"},{"annotation":{"meta":null,"sourceSpan":{"end":[177,43],"start":[177,34]}},"binderType":"VarBinder","identifier":"timestamp1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,24],"start":[178,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[178,20],"start":[178,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,24],"start":[178,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,24],"start":[178,21]}},"type":"Var","value":{"identifier":"ref","sourcePos":[177,29]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,24],"start":[178,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,24],"start":[178,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,21],"start":[181,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,21],"start":[181,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,13],"start":[181,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[178,3]}},"fieldName":"running","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[181,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,28],"start":[182,19]}},"type":"Var","value":{"identifier":"timestamp1","sourcePos":[177,34]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[182,36],"start":[182,31]}},"type":"Var","value":{"identifier":"state","sourcePos":[178,3]}},"fieldName":"lastTimestamp","type":"Accessor"},"type":"App"},"identifier":"deltaMs"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,54],"start":[183,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,16],"start":[183,5]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,50],"start":[183,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,49],"start":[183,18]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[183,49],"start":[183,18]}},"copy":["consumers","frameId","nextId","running"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["lastTimestamp",{"annotation":{"meta":null,"sourceSpan":{"end":[183,47],"start":[183,38]}},"type":"Var","value":{"identifier":"timestamp1","sourcePos":[177,34]}}]]},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,54],"start":[183,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,54],"start":[183,51]}},"type":"Var","value":{"identifier":"ref","sourcePos":[177,29]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,54],"start":[183,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,54],"start":[183,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[186,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,35],"start":[186,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,35],"start":[186,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,25],"start":[186,20]}},"type":"Var","value":{"identifier":"state","sourcePos":[178,3]}},"fieldName":"consumers","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[186,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[186,36]}},"argument":"consumer","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[187,30],"start":[187,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,25],"start":[187,17]}},"type":"Var","value":{"identifier":"consumer","sourcePos":[186,37]}},"fieldName":"tick","type":"Accessor"},"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,31]}},"type":"Var","value":{"identifier":"deltaMs","sourcePos":[182,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,7]}},"argument":"result","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[188,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[188,12]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["consumer",{"annotation":{"meta":null,"sourceSpan":{"end":[188,22],"start":[188,14]}},"type":"Var","value":{"identifier":"consumer","sourcePos":[186,37]}}],["result",{"annotation":{"meta":null,"sourceSpan":{"end":[188,30],"start":[188,24]}},"type":"Var","value":{"identifier":"result","sourcePos":[187,7]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[186,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,32],"start":[186,5]}},"argument":"results","body":{"annotation":{"meta":null,"sourceSpan":{"end":[191,64],"start":[191,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,64],"start":[191,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,27],"start":[191,21]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,56],"start":[191,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,55],"start":[191,29]}},"argument":"r","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[191,46],"start":[191,35]}},"type":"Var","value":{"identifier":"isCompleted","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,55],"start":[191,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,55],"start":[191,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,48],"start":[191,47]}},"type":"Var","value":{"identifier":"r","sourcePos":[191,30]}},"fieldName":"result","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,64],"start":[191,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,64],"start":[191,57]}},"type":"Var","value":{"identifier":"results","sourcePos":[186,5]}},"type":"App"},"identifier":"completed"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[192,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_2","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,19],"start":[192,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,19],"start":[192,10]}},"type":"Var","value":{"identifier":"completed","sourcePos":[191,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[192,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[192,20]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[193,28],"start":[193,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,28],"start":[193,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,28],"start":[193,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,8],"start":[193,7]}},"type":"Var","value":{"identifier":"r","sourcePos":[192,21]}},"fieldName":"consumer","type":"Accessor"},"fieldName":"onComplete","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[193,28],"start":[193,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,28],"start":[193,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[194,17],"start":[194,7]}},"type":"Var","value":{"identifier":"unregister","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,23],"start":[194,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,23],"start":[194,18]}},"type":"Var","value":{"identifier":"coord","sourcePos":[177,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[194,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[194,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[194,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,25],"start":[194,24]}},"type":"Var","value":{"identifier":"r","sourcePos":[192,21]}},"fieldName":"consumer","type":"Accessor"},"fieldName":"id","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[192,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,37],"start":[192,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[197,25],"start":[197,17]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,26]}},"type":"Var","value":{"identifier":"ref","sourcePos":[177,29]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,5]}},"argument":"newState","body":{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[198,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[198,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[201,22],"start":[201,9]}},"type":"Var","value":{"identifier":"scheduleFrame","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,28],"start":[201,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,28],"start":[201,23]}},"type":"Var","value":{"identifier":"coord","sourcePos":[177,10]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[198,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[204,22],"start":[204,9]}},"type":"Var","value":{"identifier":"scheduleFrame","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,23]}},"type":"Var","value":{"identifier":"coord","sourcePos":[177,10]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[198,12],"start":[198,8]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,31],"start":[198,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,31],"start":[198,13]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,21],"start":[198,13]}},"type":"Var","value":{"identifier":"newState","sourcePos":[197,5]}},"fieldName":"consumers","type":"Accessor"},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[177,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[177,1]}},"type":"Var","value":{"identifier":"timestamp","sourcePos":[177,34]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"runFrame"}]},{"annotation":{"meta":null,"sourceSpan":{"end":[142,36],"start":[142,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,36],"start":[142,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[142,36],"start":[142,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,30],"start":[143,7]}},"binder":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[143,29],"start":[143,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,29],"start":[143,26]}},"binderType":"VarBinder","identifier":"ref"}],"constructorName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]},"typeName":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}},"binderType":"NamedBinder","identifier":"coord"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,24],"start":[144,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[144,20],"start":[144,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,24],"start":[144,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,24],"start":[144,21]}},"type":"Var","value":{"identifier":"ref","sourcePos":[143,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,24],"start":[144,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,24],"start":[144,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unless","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,23],"start":[145,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,23],"start":[145,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,15],"start":[145,10]}},"type":"Var","value":{"identifier":"state","sourcePos":[144,3]}},"fieldName":"running","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,24],"start":[145,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,26],"start":[146,12]}},"type":"Var","value":{"identifier":"performanceNow","moduleName":["PSD3","Transition","RAF"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,5]}},"argument":"now","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,64],"start":[147,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[147,16],"start":[147,5]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,60],"start":[147,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,59],"start":[147,18]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[147,59],"start":[147,18]}},"copy":["consumers","frameId","nextId"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["running",{"annotation":{"meta":null,"sourceSpan":{"end":[147,36],"start":[147,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}],["lastTimestamp",{"annotation":{"meta":null,"sourceSpan":{"end":[147,57],"start":[147,54]}},"type":"Var","value":{"identifier":"now","sourcePos":[146,5]}}]]},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,64],"start":[147,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,64],"start":[147,61]}},"type":"Var","value":{"identifier":"ref","sourcePos":[143,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,64],"start":[147,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,64],"start":[147,5]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[148,18],"start":[148,5]}},"type":"Var","value":{"identifier":"scheduleFrame","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,24],"start":[148,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,24],"start":[148,19]}},"type":"Var","value":{"identifier":"coord","sourcePos":[143,7]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,24],"start":[143,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"start"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,29],"start":[100,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,6],"start":[102,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,17],"start":[102,10]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,6],"start":[102,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,6],"start":[103,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["consumers",{"annotation":{"meta":null,"sourceSpan":{"end":[103,20],"start":[103,18]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["running",{"annotation":{"meta":null,"sourceSpan":{"end":[104,21],"start":[104,16]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}],["lastTimestamp",{"annotation":{"meta":null,"sourceSpan":{"end":[105,25],"start":[105,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["nextId",{"annotation":{"meta":null,"sourceSpan":{"end":[106,16],"start":[106,15]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}],["frameId",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[107,23],"start":[107,16]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,6],"start":[102,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,6],"start":[102,3]}},"argument":"ref","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[109,21],"start":[109,10]}},"type":"Var","value":{"identifier":"Coordinator","moduleName":["PSD3","Transition","Coordinator"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,22]}},"type":"Var","value":{"identifier":"ref","sourcePos":[102,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"create"}],"exports":["create","start","stop","isRunning","StillRunning","Completed","Converged","register","unregister","eqConsumerId"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Data","Traversable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Effect","Ref"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["PSD3","Transition","Coordinator"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["PSD3","Transition","RAF"]},{"annotation":{"meta":null,"sourceSpan":{"end":[46,15],"start":[46,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[209,22],"start":[29,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","Transition","Coordinator"],"modulePath":"../purescript-psd3-selection/src/PSD3/Transition/Coordinator.purs","reExports":{},"sourceSpan":{"end":[209,22],"start":[29,1]}}