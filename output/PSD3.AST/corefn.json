{"builtWith":"0.15.15","comments":[{"LineComment":" | PSD3.AST - Abstract Syntax Tree for Visualization Specifications"},{"LineComment":" |"},{"LineComment":" | This module provides the declarative API for building visualizations."},{"LineComment":" | An AST node describes WHAT to render, and interpreters decide HOW to render it."},{"LineComment":" |"},{"LineComment":" | ## Usage"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | import PSD3.AST as A"},{"LineComment":" | import PSD3.Render (runD3, select, renderTree)"},{"LineComment":" |"},{"LineComment":" | myChart :: A.AST DataPoint"},{"LineComment":" | myChart ="},{"LineComment":" |   A.named SVG \"svg\" [width 800.0, height 600.0]"},{"LineComment":" |     `A.withChildren`"},{"LineComment":" |       [ A.joinData \"circles\" \"circle\" myData $ \\d ->"},{"LineComment":" |           A.elem Circle [cx d.x, cy d.y, radius 5.0, fill d.color]"},{"LineComment":" |       ]"},{"LineComment":" |"},{"LineComment":" | main = void $ runD3 do"},{"LineComment":" |   container <- select \"#chart\""},{"LineComment":" |   renderTree container myChart"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | ## Interpreters"},{"LineComment":" |"},{"LineComment":" | The same AST can be interpreted multiple ways:"},{"LineComment":" | - `PSD3.Render` - Renders to DOM via D3.js"},{"LineComment":" | - `PSD3.Interpreter.Mermaid` - Generates Mermaid diagram of structure"},{"LineComment":" | - `PSD3.Interpreter.English` - Produces English description (debugging)"},{"LineComment":" |"},{"LineComment":" | ## Key Types"},{"LineComment":" |"},{"LineComment":" | - `AST datum` / `Tree datum` - A visualization specification parameterized by datum type"},{"LineComment":" | - `ASTNode datum` / `TreeNode datum` - A node in the AST"},{"LineComment":" | - `PhaseBehavior`, `GUPBehaviors` - GUP phase specifications"},{"LineComment":" |"},{"LineComment":" | ## Smart Constructors"},{"LineComment":" |"},{"LineComment":" | - `named` - Create a named element (can be retrieved after rendering)"},{"LineComment":" | - `elem` - Create an anonymous element"},{"LineComment":" | - `withChild`, `withChildren` - Add children to a node"},{"LineComment":" | - `withBehaviors` - Attach zoom, drag, click handlers"},{"LineComment":" |"},{"LineComment":" | ## Data Joins"},{"LineComment":" |"},{"LineComment":" | - `joinData` - Simple data join (datum type stays same)"},{"LineComment":" | - `nestedJoin` - Data join with type decomposition"},{"LineComment":" | - `updateJoin` - Data join with enter/update/exit behaviors"},{"LineComment":" | - `updateNestedJoin` - Type decomposition + GUP (recommended for most cases)"},{"LineComment":" |"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[296,55],"start":[296,53]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[296,67],"start":[296,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"Node","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"Node"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"Join","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"Join"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"NestedJoin","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"NestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"UpdateJoin","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"UpdateJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"UpdateNestedJoin","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"UpdateNestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"ConditionalRender","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"ConditionalRender"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,8],"start":[131,1]}},"constructorName":"LocalCoordSpace","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"LocalCoordSpace"},{"annotation":{"meta":null,"sourceSpan":{"end":[294,77],"start":[294,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[294,77],"start":[294,1]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[294,77],"start":[294,1]}},"argument":"newChildren","body":{"annotation":{"meta":null,"sourceSpan":{"end":[302,45],"start":[295,35]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[296,12],"start":[296,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[296,12],"start":[296,8]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[296,20],"start":[296,16]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[296,69],"start":[296,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,69],"start":[296,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[302,45],"start":[295,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[296,25],"start":[296,21]}},"type":"Var","value":{"identifier":"node","sourcePos":[296,8]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[296,69],"start":[296,21]}},"copy":["name","elemType","attrs","behaviors"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[295,1]}},"type":"ObjectUpdate","updates":[["children",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[296,67],"start":[296,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,52],"start":[296,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[296,43],"start":[296,39]}},"type":"Var","value":{"identifier":"node","sourcePos":[296,8]}},"fieldName":"children","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[296,67],"start":[296,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,67],"start":[296,56]}},"type":"Var","value":{"identifier":"newChildren","sourcePos":[295,1]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[297,9],"start":[297,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[297,9],"start":[297,8]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[297,17],"start":[297,13]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[297,19],"start":[297,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,19],"start":[297,18]}},"type":"Var","value":{"identifier":"j","sourcePos":[297,8]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[298,16],"start":[298,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[298,16],"start":[298,14]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[298,30],"start":[298,20]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[298,33],"start":[298,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,33],"start":[298,31]}},"type":"Var","value":{"identifier":"nj","sourcePos":[298,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[299,16],"start":[299,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[299,16],"start":[299,14]}},"binderType":"VarBinder","identifier":"sj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[299,30],"start":[299,20]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,33],"start":[299,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,33],"start":[299,31]}},"type":"Var","value":{"identifier":"sj","sourcePos":[299,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[300,23],"start":[300,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[300,23],"start":[300,20]}},"binderType":"VarBinder","identifier":"snj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[300,43],"start":[300,27]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,47],"start":[300,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,47],"start":[300,44]}},"type":"Var","value":{"identifier":"snj","sourcePos":[300,20]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[301,23],"start":[301,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[301,23],"start":[301,21]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[301,44],"start":[301,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,47],"start":[301,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,47],"start":[301,45]}},"type":"Var","value":{"identifier":"cr","sourcePos":[301,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[302,22],"start":[302,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[302,22],"start":[302,19]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[302,41],"start":[302,26]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[302,45],"start":[302,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[302,45],"start":[302,42]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[302,19]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[295,46],"start":[295,40]}},"type":"Var","value":{"identifier":"parent","sourcePos":[295,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"withChildren"},{"annotation":{"meta":null,"sourceSpan":{"end":[281,66],"start":[281,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[281,66],"start":[281,1]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[281,66],"start":[281,1]}},"argument":"child","body":{"annotation":{"meta":null,"sourceSpan":{"end":[289,45],"start":[282,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[283,12],"start":[283,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[283,12],"start":[283,8]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[283,20],"start":[283,16]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[283,65],"start":[283,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[283,65],"start":[283,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[289,45],"start":[282,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[283,25],"start":[283,21]}},"type":"Var","value":{"identifier":"node","sourcePos":[283,8]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[283,65],"start":[283,21]}},"copy":["name","elemType","attrs","behaviors"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[282,1]}},"type":"ObjectUpdate","updates":[["children",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[283,63],"start":[283,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[283,52],"start":[283,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[283,43],"start":[283,39]}},"type":"Var","value":{"identifier":"node","sourcePos":[283,8]}},"fieldName":"children","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[283,63],"start":[283,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[283,63],"start":[283,56]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[283,62],"start":[283,57]}},"type":"Var","value":{"identifier":"child","sourcePos":[282,1]}}]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[284,9],"start":[284,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[284,9],"start":[284,8]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[284,17],"start":[284,13]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[284,19],"start":[284,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[284,19],"start":[284,18]}},"type":"Var","value":{"identifier":"j","sourcePos":[284,8]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[285,16],"start":[285,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[285,16],"start":[285,14]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[285,30],"start":[285,20]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,33],"start":[285,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,33],"start":[285,31]}},"type":"Var","value":{"identifier":"nj","sourcePos":[285,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[286,16],"start":[286,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[286,16],"start":[286,14]}},"binderType":"VarBinder","identifier":"sj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[286,30],"start":[286,20]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[286,33],"start":[286,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[286,33],"start":[286,31]}},"type":"Var","value":{"identifier":"sj","sourcePos":[286,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[287,23],"start":[287,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[287,23],"start":[287,20]}},"binderType":"VarBinder","identifier":"snj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[287,43],"start":[287,27]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[287,47],"start":[287,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[287,47],"start":[287,44]}},"type":"Var","value":{"identifier":"snj","sourcePos":[287,20]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[288,23],"start":[288,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[288,23],"start":[288,21]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[288,44],"start":[288,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[288,47],"start":[288,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[288,47],"start":[288,45]}},"type":"Var","value":{"identifier":"cr","sourcePos":[288,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[289,22],"start":[289,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[289,22],"start":[289,19]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[289,41],"start":[289,26]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[289,45],"start":[289,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[289,45],"start":[289,42]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[289,19]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[282,37],"start":[282,31]}},"type":"Var","value":{"identifier":"parent","sourcePos":[282,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"withChild"},{"annotation":{"meta":null,"sourceSpan":{"end":[321,82],"start":[321,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[321,82],"start":[321,1]}},"argument":"tree","body":{"annotation":{"meta":null,"sourceSpan":{"end":[321,82],"start":[321,1]}},"argument":"newBehaviors","body":{"annotation":{"meta":null,"sourceSpan":{"end":[329,45],"start":[322,35]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[323,12],"start":[323,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[323,12],"start":[323,8]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[323,20],"start":[323,16]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[323,72],"start":[323,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[323,72],"start":[323,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[329,45],"start":[322,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[323,25],"start":[323,21]}},"type":"Var","value":{"identifier":"node","sourcePos":[323,8]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[323,72],"start":[323,21]}},"copy":["name","elemType","attrs","children"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[322,1]}},"type":"ObjectUpdate","updates":[["behaviors",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[323,70],"start":[323,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[323,54],"start":[323,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[323,44],"start":[323,40]}},"type":"Var","value":{"identifier":"node","sourcePos":[323,8]}},"fieldName":"behaviors","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[323,70],"start":[323,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[323,70],"start":[323,58]}},"type":"Var","value":{"identifier":"newBehaviors","sourcePos":[322,1]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[324,9],"start":[324,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[324,9],"start":[324,8]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[324,17],"start":[324,13]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[324,19],"start":[324,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[324,19],"start":[324,18]}},"type":"Var","value":{"identifier":"j","sourcePos":[324,8]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[325,16],"start":[325,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[325,16],"start":[325,14]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[325,30],"start":[325,20]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[325,33],"start":[325,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[325,33],"start":[325,31]}},"type":"Var","value":{"identifier":"nj","sourcePos":[325,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[326,16],"start":[326,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[326,16],"start":[326,14]}},"binderType":"VarBinder","identifier":"sj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[326,30],"start":[326,20]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[326,33],"start":[326,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[326,33],"start":[326,31]}},"type":"Var","value":{"identifier":"sj","sourcePos":[326,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[327,23],"start":[327,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[327,23],"start":[327,20]}},"binderType":"VarBinder","identifier":"snj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[327,43],"start":[327,27]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[327,47],"start":[327,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[327,47],"start":[327,44]}},"type":"Var","value":{"identifier":"snj","sourcePos":[327,20]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[328,23],"start":[328,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[328,23],"start":[328,21]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[328,44],"start":[328,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[328,47],"start":[328,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,47],"start":[328,45]}},"type":"Var","value":{"identifier":"cr","sourcePos":[328,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[329,22],"start":[329,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[329,22],"start":[329,19]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[329,41],"start":[329,26]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,45],"start":[329,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,45],"start":[329,42]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[329,19]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[322,44],"start":[322,40]}},"type":"Var","value":{"identifier":"tree","sourcePos":[322,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"withBehaviors"},{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"argument":"decomposeFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"argument":"templateFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[457,21],"start":[449,1]}},"argument":"behaviors","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[459,19],"start":[459,3]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,6],"start":[459,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,6],"start":[460,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[460,11],"start":[460,7]}},"type":"Var","value":{"identifier":"name","sourcePos":[458,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[461,10],"start":[461,7]}},"type":"Var","value":{"identifier":"key","sourcePos":[458,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[462,22],"start":[462,17]}},"type":"Var","value":{"identifier":"data'","sourcePos":[458,1]}}],["decompose",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[466,30],"start":[466,18]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[466,42],"start":[466,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[466,42],"start":[466,31]}},"type":"Var","value":{"identifier":"decomposeFn","sourcePos":[458,1]}},"type":"App"}],["template",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[467,29],"start":[467,17]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[467,40],"start":[467,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[467,40],"start":[467,30]}},"type":"Var","value":{"identifier":"templateFn","sourcePos":[458,1]}},"type":"App"}],["behaviors",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[468,30],"start":[468,18]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[468,40],"start":[468,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[468,40],"start":[468,31]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[458,1]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateNestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[407,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[407,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[407,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[407,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[407,1]}},"argument":"template","body":{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[407,1]}},"argument":"behaviors","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[420,13],"start":[420,3]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[427,6],"start":[420,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[427,6],"start":[421,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[421,11],"start":[421,7]}},"type":"Var","value":{"identifier":"name","sourcePos":[419,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[422,10],"start":[422,7]}},"type":"Var","value":{"identifier":"key","sourcePos":[419,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[423,22],"start":[423,17]}},"type":"Var","value":{"identifier":"data'","sourcePos":[419,1]}}],["template",{"annotation":{"meta":null,"sourceSpan":{"end":[424,15],"start":[424,7]}},"type":"Var","value":{"identifier":"template","sourcePos":[419,1]}}],["keyFn",{"annotation":{"meta":null,"sourceSpan":{"end":[425,29],"start":[425,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[425,23],"start":[425,14]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[419,1]}},"fieldName":"keyFn","type":"Accessor"}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[426,92],"start":[426,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["enter",{"annotation":{"meta":null,"sourceSpan":{"end":[426,42],"start":[426,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,36],"start":[426,27]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[419,1]}},"fieldName":"enter","type":"Accessor"}],["update",{"annotation":{"meta":null,"sourceSpan":{"end":[426,68],"start":[426,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,61],"start":[426,52]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[419,1]}},"fieldName":"update","type":"Accessor"}],["exit",{"annotation":{"meta":null,"sourceSpan":{"end":[426,90],"start":[426,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,85],"start":[426,76]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[419,1]}},"fieldName":"exit","type":"Accessor"}]]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[573,67],"start":[573,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[574,20],"start":[574,12]}},"type":"Var","value":{"identifier":"identity","moduleName":["Control","Category"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[574,20],"start":[574,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"categoryFn","moduleName":["Control","Category"]}},"type":"App"},"identifier":"siblings"},{"annotation":{"meta":null,"sourceSpan":{"end":[380,21],"start":[373,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[380,21],"start":[373,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,21],"start":[373,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,21],"start":[373,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,21],"start":[373,1]}},"argument":"decomposeFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,21],"start":[373,1]}},"argument":"templateFn","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[382,13],"start":[382,3]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[390,6],"start":[382,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[390,6],"start":[383,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[383,11],"start":[383,7]}},"type":"Var","value":{"identifier":"name","sourcePos":[381,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[384,10],"start":[384,7]}},"type":"Var","value":{"identifier":"key","sourcePos":[381,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[385,22],"start":[385,17]}},"type":"Var","value":{"identifier":"data'","sourcePos":[381,1]}}],["decompose",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[388,30],"start":[388,18]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[388,42],"start":[388,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[388,42],"start":[388,31]}},"type":"Var","value":{"identifier":"decomposeFn","sourcePos":[381,1]}},"type":"App"}],["template",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[389,29],"start":[389,17]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[389,40],"start":[389,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[389,40],"start":[389,30]}},"type":"Var","value":{"identifier":"templateFn","sourcePos":[381,1]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"nestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[267,86],"start":[267,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[267,86],"start":[267,1]}},"argument":"elemType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[267,86],"start":[267,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[267,86],"start":[267,1]}},"argument":"attrs","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[269,7],"start":[269,3]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[269,73],"start":[269,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,73],"start":[269,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[269,20],"start":[269,16]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[269,25],"start":[269,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,25],"start":[269,21]}},"type":"Var","value":{"identifier":"name","sourcePos":[268,1]}},"type":"App"}],["elemType",{"annotation":{"meta":null,"sourceSpan":{"end":[269,35],"start":[269,27]}},"type":"Var","value":{"identifier":"elemType","sourcePos":[268,1]}}],["attrs",{"annotation":{"meta":null,"sourceSpan":{"end":[269,42],"start":[269,37]}},"type":"Var","value":{"identifier":"attrs","sourcePos":[268,1]}}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[269,57],"start":[269,55]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["children",{"annotation":{"meta":null,"sourceSpan":{"end":[269,71],"start":[269,69]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"named"},{"annotation":{"meta":null,"sourceSpan":{"end":[550,16],"start":[545,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[550,16],"start":[545,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[550,16],"start":[545,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[550,16],"start":[545,1]}},"argument":"child","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[552,18],"start":[552,3]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[556,6],"start":[552,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[556,6],"start":[553,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["scaleX",{"annotation":{"meta":null,"sourceSpan":{"end":[553,26],"start":[553,15]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[553,26],"start":[553,21]}},"type":"Var","value":{"identifier":"width","sourcePos":[551,1]}},"type":"Abs"}],["scaleY",{"annotation":{"meta":null,"sourceSpan":{"end":[554,27],"start":[554,15]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[554,27],"start":[554,21]}},"type":"Var","value":{"identifier":"height","sourcePos":[551,1]}},"type":"Abs"}],["child",{"annotation":{"meta":null,"sourceSpan":{"end":[555,12],"start":[555,7]}},"type":"Var","value":{"identifier":"child","sourcePos":[551,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"localCoordSpaceFixed"},{"annotation":{"meta":null,"sourceSpan":{"end":[531,16],"start":[527,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[531,16],"start":[527,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[531,16],"start":[527,1]}},"argument":"child","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[533,18],"start":[533,3]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[537,6],"start":[533,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[537,6],"start":[534,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["scaleX",{"annotation":{"meta":null,"sourceSpan":{"end":[534,28],"start":[534,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[534,21],"start":[534,15]}},"type":"Var","value":{"identifier":"config","sourcePos":[532,1]}},"fieldName":"scaleX","type":"Accessor"}],["scaleY",{"annotation":{"meta":null,"sourceSpan":{"end":[535,28],"start":[535,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[535,21],"start":[535,15]}},"type":"Var","value":{"identifier":"config","sourcePos":[532,1]}},"fieldName":"scaleY","type":"Accessor"}],["child",{"annotation":{"meta":null,"sourceSpan":{"end":[536,12],"start":[536,7]}},"type":"Var","value":{"identifier":"child","sourcePos":[532,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"localCoordSpace"},{"annotation":{"meta":null,"sourceSpan":{"end":[350,97],"start":[350,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[350,97],"start":[350,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,97],"start":[350,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,97],"start":[350,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,97],"start":[350,1]}},"argument":"templateBuilder","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[352,7],"start":[352,3]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,65],"start":[352,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,65],"start":[352,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[352,14],"start":[352,10]}},"type":"Var","value":{"identifier":"name","sourcePos":[351,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[352,19],"start":[352,16]}},"type":"Var","value":{"identifier":"key","sourcePos":[351,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[352,36],"start":[352,31]}},"type":"Var","value":{"identifier":"data'","sourcePos":[351,1]}}],["template",{"annotation":{"meta":null,"sourceSpan":{"end":[352,63],"start":[352,48]}},"type":"Var","value":{"identifier":"templateBuilder","sourcePos":[351,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"joinData"},{"annotation":{"meta":null,"sourceSpan":{"end":[274,75],"start":[274,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[274,75],"start":[274,1]}},"argument":"elemType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[274,75],"start":[274,1]}},"argument":"attrs","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[276,7],"start":[276,3]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[276,71],"start":[276,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[276,71],"start":[276,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[276,23],"start":[276,16]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}],["elemType",{"annotation":{"meta":null,"sourceSpan":{"end":[276,33],"start":[276,25]}},"type":"Var","value":{"identifier":"elemType","sourcePos":[275,1]}}],["attrs",{"annotation":{"meta":null,"sourceSpan":{"end":[276,40],"start":[276,35]}},"type":"Var","value":{"identifier":"attrs","sourcePos":[275,1]}}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[276,55],"start":[276,53]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["children",{"annotation":{"meta":null,"sourceSpan":{"end":[276,69],"start":[276,67]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"elem"},{"annotation":{"meta":null,"sourceSpan":{"end":[510,16],"start":[506,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[510,16],"start":[506,1]}},"argument":"cases","body":{"annotation":{"meta":null,"sourceSpan":{"end":[510,16],"start":[506,1]}},"argument":"fallbackSpec","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[512,20],"start":[512,3]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[512,88],"start":[512,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[512,88],"start":[512,21]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cases",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[512,86],"start":[512,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[512,35],"start":[512,30]}},"type":"Var","value":{"identifier":"cases","sourcePos":[511,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[512,86],"start":[512,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[512,86],"start":[512,39]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[512,85],"start":[512,40]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["predicate",{"annotation":{"meta":null,"sourceSpan":{"end":[512,63],"start":[512,53]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[512,63],"start":[512,59]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"Abs"}],["spec",{"annotation":{"meta":null,"sourceSpan":{"end":[512,83],"start":[512,71]}},"type":"Var","value":{"identifier":"fallbackSpec","sourcePos":[511,1]}}]]}}]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"conditionalRenderOr"},{"annotation":{"meta":null,"sourceSpan":{"end":[493,16],"start":[490,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[493,16],"start":[490,1]}},"argument":"cases","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[494,44],"start":[494,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[494,54],"start":[494,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,54],"start":[494,45]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cases",{"annotation":{"meta":null,"sourceSpan":{"end":[494,52],"start":[494,47]}},"type":"Var","value":{"identifier":"cases","sourcePos":[494,1]}}]]}},"type":"App"},"type":"Abs"},"identifier":"conditionalRender"},{"annotation":{"meta":null,"sourceSpan":{"end":[567,71],"start":[567,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[567,71],"start":[567,1]}},"argument":"left","body":{"annotation":{"meta":null,"sourceSpan":{"end":[567,71],"start":[567,1]}},"argument":"right","body":{"annotation":{"meta":null,"sourceSpan":{"end":[568,34],"start":[568,21]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[568,26],"start":[568,22]}},"type":"Var","value":{"identifier":"left","sourcePos":[568,1]}},{"annotation":{"meta":null,"sourceSpan":{"end":[568,33],"start":[568,28]}},"type":"Var","value":{"identifier":"right","sourcePos":[568,1]}}]}},"type":"Abs"},"type":"Abs"},"identifier":"beside"}],"exports":["Node","Join","NestedJoin","UpdateJoin","UpdateNestedJoin","ConditionalRender","LocalCoordSpace","named","elem","withChild","withChildren","withBehaviors","joinData","nestedJoin","updateJoin","updateNestedJoin","conditionalRender","conditionalRenderOr","localCoordSpace","localCoordSpaceFixed","beside","siblings"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[574,20],"start":[52,1]}},"moduleName":["Control","Category"]},{"annotation":{"meta":null,"sourceSpan":{"end":[574,20],"start":[52,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[574,20],"start":[52,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[574,20],"start":[52,1]}},"moduleName":["PSD3","AST"]},{"annotation":{"meta":null,"sourceSpan":{"end":[89,43],"start":[89,1]}},"moduleName":["PSD3","Internal","Attribute"]},{"annotation":{"meta":null,"sourceSpan":{"end":[90,47],"start":[90,1]}},"moduleName":["PSD3","Internal","Behavior","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[92,51],"start":[92,1]}},"moduleName":["PSD3","Internal","Selection","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[93,57],"start":[93,1]}},"moduleName":["PSD3","Internal","Transition","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[86,15],"start":[86,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[574,20],"start":[52,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[574,20],"start":[52,1]}},"moduleName":["Unsafe","Coerce"]}],"moduleName":["PSD3","AST"],"modulePath":"../purescript-psd3-selection/src/PSD3/AST.purs","reExports":{"PSD3.Internal.Selection.Types":["Circle","Defs","Div","Group","Line","LinearGradient","Path","PatternFill","Rect","SVG","Span","Stop","Table","Tbody","Td","Text","Th","Thead","Tr"]},"sourceSpan":{"end":[574,20],"start":[52,1]}}