{"builtWith":"0.15.15","comments":[{"LineComment":" | PSD3.AST - Abstract Syntax Tree for Visualization Specifications"},{"LineComment":" |"},{"LineComment":" | This module provides the declarative API for building visualizations."},{"LineComment":" | An AST node describes WHAT to render, and interpreters decide HOW to render it."},{"LineComment":" |"},{"LineComment":" | ## Usage"},{"LineComment":" |"},{"LineComment":" | ```purescript"},{"LineComment":" | import PSD3.AST as A"},{"LineComment":" | import PSD3.Render (runD3, select, renderTree)"},{"LineComment":" |"},{"LineComment":" | myChart :: A.AST DataPoint"},{"LineComment":" | myChart ="},{"LineComment":" |   A.named SVG \"svg\" [width 800.0, height 600.0]"},{"LineComment":" |     `A.withChildren`"},{"LineComment":" |       [ A.joinData \"circles\" \"circle\" myData $ \\d ->"},{"LineComment":" |           A.elem Circle [cx d.x, cy d.y, radius 5.0, fill d.color]"},{"LineComment":" |       ]"},{"LineComment":" |"},{"LineComment":" | main = void $ runD3 do"},{"LineComment":" |   container <- select \"#chart\""},{"LineComment":" |   renderTree container myChart"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | ## Interpreters"},{"LineComment":" |"},{"LineComment":" | The same AST can be interpreted multiple ways:"},{"LineComment":" | - `PSD3.Render` - Renders to DOM via D3.js"},{"LineComment":" | - `PSD3.Interpreter.Mermaid` - Generates Mermaid diagram of structure"},{"LineComment":" | - `PSD3.Interpreter.English` - Produces English description (debugging)"},{"LineComment":" |"},{"LineComment":" | ## Key Types"},{"LineComment":" |"},{"LineComment":" | - `AST datum` / `Tree datum` - A visualization specification parameterized by datum type"},{"LineComment":" | - `ASTNode datum` / `TreeNode datum` - A node in the AST"},{"LineComment":" | - `PhaseBehavior`, `GUPBehaviors` - GUP phase specifications"},{"LineComment":" |"},{"LineComment":" | ## Smart Constructors"},{"LineComment":" |"},{"LineComment":" | - `named` - Create a named element (can be retrieved after rendering)"},{"LineComment":" | - `elem` - Create an anonymous element"},{"LineComment":" | - `withChild`, `withChildren` - Add children to a node"},{"LineComment":" | - `withBehaviors` - Attach zoom, drag, click handlers"},{"LineComment":" |"},{"LineComment":" | ## Data Joins"},{"LineComment":" |"},{"LineComment":" | - `joinData` - Simple data join (datum type stays same)"},{"LineComment":" | - `nestedJoin` - Data join with type decomposition"},{"LineComment":" | - `updateJoin` - Data join with enter/update/exit behaviors"},{"LineComment":" | - `updateNestedJoin` - Type decomposition + GUP (recommended for most cases)"},{"LineComment":" |"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[598,57],"start":[598,55]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[598,65],"start":[598,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"Node","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"Node"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"Join","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"Join"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"NestedJoin","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"NestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"UpdateJoin","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"UpdateJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"UpdateNestedJoin","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"UpdateNestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"ConditionalRender","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"ConditionalRender"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,8],"start":[135,1]}},"constructorName":"LocalCoordSpace","fieldNames":["value0"],"type":"Constructor","typeName":"Tree"},"identifier":"LocalCoordSpace"},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[668,8],"start":[589,1]}},"type":"Var","value":{"identifier":"TreeDSL$Dict","moduleName":["PSD3","TreeDSL"]}},"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["named",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"elemType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"attrs","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[592,9],"start":[592,5]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[592,75],"start":[592,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[592,75],"start":[592,10]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[592,22],"start":[592,18]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[592,27],"start":[592,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[592,27],"start":[592,23]}},"type":"Var","value":{"identifier":"name","sourcePos":[591,3]}},"type":"App"}],["elemType",{"annotation":{"meta":null,"sourceSpan":{"end":[592,37],"start":[592,29]}},"type":"Var","value":{"identifier":"elemType","sourcePos":[591,3]}}],["attrs",{"annotation":{"meta":null,"sourceSpan":{"end":[592,44],"start":[592,39]}},"type":"Var","value":{"identifier":"attrs","sourcePos":[591,3]}}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[592,59],"start":[592,57]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["children",{"annotation":{"meta":null,"sourceSpan":{"end":[592,73],"start":[592,71]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"}],["elem",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"elemType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"attrs","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[595,9],"start":[595,5]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[595,73],"start":[595,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[595,73],"start":[595,10]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[595,25],"start":[595,18]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}],["elemType",{"annotation":{"meta":null,"sourceSpan":{"end":[595,35],"start":[595,27]}},"type":"Var","value":{"identifier":"elemType","sourcePos":[594,3]}}],["attrs",{"annotation":{"meta":null,"sourceSpan":{"end":[595,42],"start":[595,37]}},"type":"Var","value":{"identifier":"attrs","sourcePos":[594,3]}}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[595,57],"start":[595,55]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["children",{"annotation":{"meta":null,"sourceSpan":{"end":[595,71],"start":[595,69]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"}],["withChild",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"child","body":{"annotation":{"meta":null,"sourceSpan":{"end":[604,47],"start":[597,28]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[598,14],"start":[598,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[598,14],"start":[598,10]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[598,22],"start":[598,18]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[598,67],"start":[598,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[598,67],"start":[598,23]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[598,27],"start":[598,23]}},"type":"Var","value":{"identifier":"node","sourcePos":[598,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[598,67],"start":[598,23]}},"copy":["name","elemType","attrs","behaviors"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[589,1]}},"type":"ObjectUpdate","updates":[["children",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[598,65],"start":[598,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[598,54],"start":[598,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[598,45],"start":[598,41]}},"type":"Var","value":{"identifier":"node","sourcePos":[598,10]}},"fieldName":"children","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[598,65],"start":[598,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[598,65],"start":[598,58]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[598,64],"start":[598,59]}},"type":"Var","value":{"identifier":"child","sourcePos":[597,3]}}]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[599,11],"start":[599,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[599,11],"start":[599,10]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[599,19],"start":[599,15]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[599,21],"start":[599,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[599,21],"start":[599,20]}},"type":"Var","value":{"identifier":"j","sourcePos":[599,10]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[600,18],"start":[600,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[600,18],"start":[600,16]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[600,32],"start":[600,22]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[600,35],"start":[600,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,35],"start":[600,33]}},"type":"Var","value":{"identifier":"nj","sourcePos":[600,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[601,18],"start":[601,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[601,18],"start":[601,16]}},"binderType":"VarBinder","identifier":"uj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[601,32],"start":[601,22]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[601,35],"start":[601,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[601,35],"start":[601,33]}},"type":"Var","value":{"identifier":"uj","sourcePos":[601,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[602,25],"start":[602,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[602,25],"start":[602,22]}},"binderType":"VarBinder","identifier":"unj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[602,45],"start":[602,29]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[602,49],"start":[602,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,49],"start":[602,46]}},"type":"Var","value":{"identifier":"unj","sourcePos":[602,22]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[603,25],"start":[603,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[603,25],"start":[603,23]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[603,46],"start":[603,29]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[603,49],"start":[603,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[603,49],"start":[603,47]}},"type":"Var","value":{"identifier":"cr","sourcePos":[603,23]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[604,24],"start":[604,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[604,24],"start":[604,21]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[604,43],"start":[604,28]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[604,47],"start":[604,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[604,47],"start":[604,44]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[604,21]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[597,39],"start":[597,33]}},"type":"Var","value":{"identifier":"parent","sourcePos":[597,3]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}],["withChildren",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"newChildren","body":{"annotation":{"meta":null,"sourceSpan":{"end":[613,47],"start":[606,37]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[607,14],"start":[607,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[607,14],"start":[607,10]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[607,22],"start":[607,18]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[607,71],"start":[607,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[607,71],"start":[607,23]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[607,27],"start":[607,23]}},"type":"Var","value":{"identifier":"node","sourcePos":[607,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[607,71],"start":[607,23]}},"copy":["name","elemType","attrs","behaviors"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[589,1]}},"type":"ObjectUpdate","updates":[["children",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[607,69],"start":[607,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[607,54],"start":[607,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[607,45],"start":[607,41]}},"type":"Var","value":{"identifier":"node","sourcePos":[607,10]}},"fieldName":"children","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[607,69],"start":[607,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[607,69],"start":[607,58]}},"type":"Var","value":{"identifier":"newChildren","sourcePos":[606,3]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[608,11],"start":[608,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[608,11],"start":[608,10]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[608,19],"start":[608,15]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[608,21],"start":[608,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[608,21],"start":[608,20]}},"type":"Var","value":{"identifier":"j","sourcePos":[608,10]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[609,18],"start":[609,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[609,18],"start":[609,16]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[609,32],"start":[609,22]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[609,35],"start":[609,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[609,35],"start":[609,33]}},"type":"Var","value":{"identifier":"nj","sourcePos":[609,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[610,18],"start":[610,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[610,18],"start":[610,16]}},"binderType":"VarBinder","identifier":"uj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[610,32],"start":[610,22]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[610,35],"start":[610,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[610,35],"start":[610,33]}},"type":"Var","value":{"identifier":"uj","sourcePos":[610,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[611,25],"start":[611,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[611,25],"start":[611,22]}},"binderType":"VarBinder","identifier":"unj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[611,45],"start":[611,29]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[611,49],"start":[611,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[611,49],"start":[611,46]}},"type":"Var","value":{"identifier":"unj","sourcePos":[611,22]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[612,25],"start":[612,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[612,25],"start":[612,23]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[612,46],"start":[612,29]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[612,49],"start":[612,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[612,49],"start":[612,47]}},"type":"Var","value":{"identifier":"cr","sourcePos":[612,23]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[613,24],"start":[613,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[613,24],"start":[613,21]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[613,43],"start":[613,28]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[613,47],"start":[613,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[613,47],"start":[613,44]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[613,21]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[606,48],"start":[606,42]}},"type":"Var","value":{"identifier":"parent","sourcePos":[606,3]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}],["withBehaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"tree","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"newBehaviors","body":{"annotation":{"meta":null,"sourceSpan":{"end":[622,47],"start":[615,37]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[616,14],"start":[616,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[616,14],"start":[616,10]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[616,22],"start":[616,18]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[616,74],"start":[616,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,74],"start":[616,23]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[616,27],"start":[616,23]}},"type":"Var","value":{"identifier":"node","sourcePos":[616,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[616,74],"start":[616,23]}},"copy":["name","elemType","attrs","children"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[589,1]}},"type":"ObjectUpdate","updates":[["behaviors",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[616,72],"start":[616,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,56],"start":[616,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[616,46],"start":[616,42]}},"type":"Var","value":{"identifier":"node","sourcePos":[616,10]}},"fieldName":"behaviors","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[616,72],"start":[616,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,72],"start":[616,60]}},"type":"Var","value":{"identifier":"newBehaviors","sourcePos":[615,3]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[617,11],"start":[617,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[617,11],"start":[617,10]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[617,19],"start":[617,15]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[617,21],"start":[617,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,21],"start":[617,20]}},"type":"Var","value":{"identifier":"j","sourcePos":[617,10]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[618,18],"start":[618,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[618,18],"start":[618,16]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[618,32],"start":[618,22]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,35],"start":[618,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,35],"start":[618,33]}},"type":"Var","value":{"identifier":"nj","sourcePos":[618,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[619,18],"start":[619,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[619,18],"start":[619,16]}},"binderType":"VarBinder","identifier":"uj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[619,32],"start":[619,22]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[619,35],"start":[619,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,35],"start":[619,33]}},"type":"Var","value":{"identifier":"uj","sourcePos":[619,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[620,25],"start":[620,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[620,25],"start":[620,22]}},"binderType":"VarBinder","identifier":"unj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[620,45],"start":[620,29]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[620,49],"start":[620,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[620,49],"start":[620,46]}},"type":"Var","value":{"identifier":"unj","sourcePos":[620,22]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[621,25],"start":[621,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[621,25],"start":[621,23]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[621,46],"start":[621,29]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[621,49],"start":[621,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[621,49],"start":[621,47]}},"type":"Var","value":{"identifier":"cr","sourcePos":[621,23]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[622,24],"start":[622,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[622,24],"start":[622,21]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[622,43],"start":[622,28]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[622,47],"start":[622,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[622,47],"start":[622,44]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[622,21]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[615,46],"start":[615,42]}},"type":"Var","value":{"identifier":"tree","sourcePos":[615,3]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"template","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[625,9],"start":[625,5]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[625,50],"start":[625,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[625,50],"start":[625,10]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[625,16],"start":[625,12]}},"type":"Var","value":{"identifier":"name","sourcePos":[624,3]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[625,21],"start":[625,18]}},"type":"Var","value":{"identifier":"key","sourcePos":[624,3]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[625,38],"start":[625,33]}},"type":"Var","value":{"identifier":"data'","sourcePos":[624,3]}}],["template",{"annotation":{"meta":null,"sourceSpan":{"end":[625,48],"start":[625,40]}},"type":"Var","value":{"identifier":"template","sourcePos":[624,3]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"}],["nestedJoin",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"decomposeFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"templateFn","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[628,15],"start":[628,5]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[634,8],"start":[628,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,8],"start":[629,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[629,13],"start":[629,9]}},"type":"Var","value":{"identifier":"name","sourcePos":[627,3]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[630,12],"start":[630,9]}},"type":"Var","value":{"identifier":"key","sourcePos":[627,3]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[631,24],"start":[631,19]}},"type":"Var","value":{"identifier":"data'","sourcePos":[627,3]}}],["decompose",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[632,32],"start":[632,20]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[632,44],"start":[632,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[632,44],"start":[632,33]}},"type":"Var","value":{"identifier":"decomposeFn","sourcePos":[627,3]}},"type":"App"}],["template",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[633,31],"start":[633,19]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[633,42],"start":[633,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[633,42],"start":[633,32]}},"type":"Var","value":{"identifier":"templateFn","sourcePos":[627,3]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"}],["updateJoin",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"template","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"behaviors","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[637,15],"start":[637,5]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[648,8],"start":[637,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[648,8],"start":[638,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[638,13],"start":[638,9]}},"type":"Var","value":{"identifier":"name","sourcePos":[636,3]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[639,12],"start":[639,9]}},"type":"Var","value":{"identifier":"key","sourcePos":[636,3]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[640,24],"start":[640,19]}},"type":"Var","value":{"identifier":"data'","sourcePos":[636,3]}}],["template",{"annotation":{"meta":null,"sourceSpan":{"end":[641,17],"start":[641,9]}},"type":"Var","value":{"identifier":"template","sourcePos":[636,3]}}],["keyFn",{"annotation":{"meta":null,"sourceSpan":{"end":[642,31],"start":[642,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[642,25],"start":[642,16]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[636,3]}},"fieldName":"keyFn","type":"Accessor"}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[647,12],"start":[644,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["enter",{"annotation":{"meta":null,"sourceSpan":{"end":[644,35],"start":[644,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[644,29],"start":[644,20]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[636,3]}},"fieldName":"enter","type":"Accessor"}],["update",{"annotation":{"meta":null,"sourceSpan":{"end":[645,37],"start":[645,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[645,30],"start":[645,21]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[636,3]}},"fieldName":"update","type":"Accessor"}],["exit",{"annotation":{"meta":null,"sourceSpan":{"end":[646,33],"start":[646,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[646,28],"start":[646,19]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[636,3]}},"fieldName":"exit","type":"Accessor"}]]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"}],["updateNestedJoin",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"decomposeFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"templateFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"behaviors","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[651,21],"start":[651,5]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[658,8],"start":[651,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[658,8],"start":[652,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[652,13],"start":[652,9]}},"type":"Var","value":{"identifier":"name","sourcePos":[650,3]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[653,12],"start":[653,9]}},"type":"Var","value":{"identifier":"key","sourcePos":[650,3]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[654,24],"start":[654,19]}},"type":"Var","value":{"identifier":"data'","sourcePos":[650,3]}}],["decompose",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[655,32],"start":[655,20]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[655,44],"start":[655,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,44],"start":[655,33]}},"type":"Var","value":{"identifier":"decomposeFn","sourcePos":[650,3]}},"type":"App"}],["template",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[656,31],"start":[656,19]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[656,42],"start":[656,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[656,42],"start":[656,32]}},"type":"Var","value":{"identifier":"templateFn","sourcePos":[650,3]}},"type":"App"}],["behaviors",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[657,32],"start":[657,20]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[657,42],"start":[657,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[657,42],"start":[657,33]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[650,3]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"}],["conditionalRender",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"cases","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[661,22],"start":[661,5]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[661,32],"start":[661,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[661,32],"start":[661,23]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cases",{"annotation":{"meta":null,"sourceSpan":{"end":[661,30],"start":[661,25]}},"type":"Var","value":{"identifier":"cases","sourcePos":[660,3]}}]]}},"type":"App"},"type":"Abs"}],["localCoordSpace",{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[589,1]}},"argument":"child","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[664,20],"start":[664,5]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[664,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[665,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["scaleX",{"annotation":{"meta":null,"sourceSpan":{"end":[665,30],"start":[665,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[665,23],"start":[665,17]}},"type":"Var","value":{"identifier":"config","sourcePos":[663,3]}},"fieldName":"scaleX","type":"Accessor"}],["scaleY",{"annotation":{"meta":null,"sourceSpan":{"end":[666,30],"start":[666,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[666,23],"start":[666,17]}},"type":"Var","value":{"identifier":"config","sourcePos":[663,3]}},"fieldName":"scaleY","type":"Accessor"}],["child",{"annotation":{"meta":null,"sourceSpan":{"end":[667,14],"start":[667,9]}},"type":"Var","value":{"identifier":"child","sourcePos":[663,3]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"treeDSLTree"},{"annotation":{"meta":null,"sourceSpan":{"end":[298,77],"start":[298,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[298,77],"start":[298,1]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[298,77],"start":[298,1]}},"argument":"newChildren","body":{"annotation":{"meta":null,"sourceSpan":{"end":[306,45],"start":[299,35]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[300,12],"start":[300,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[300,12],"start":[300,8]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[300,20],"start":[300,16]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,69],"start":[300,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,69],"start":[300,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[306,45],"start":[299,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[300,25],"start":[300,21]}},"type":"Var","value":{"identifier":"node","sourcePos":[300,8]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[300,69],"start":[300,21]}},"copy":["name","elemType","attrs","behaviors"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[299,1]}},"type":"ObjectUpdate","updates":[["children",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,67],"start":[300,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,52],"start":[300,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[300,43],"start":[300,39]}},"type":"Var","value":{"identifier":"node","sourcePos":[300,8]}},"fieldName":"children","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[300,67],"start":[300,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,67],"start":[300,56]}},"type":"Var","value":{"identifier":"newChildren","sourcePos":[299,1]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[301,9],"start":[301,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[301,9],"start":[301,8]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[301,17],"start":[301,13]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,19],"start":[301,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,19],"start":[301,18]}},"type":"Var","value":{"identifier":"j","sourcePos":[301,8]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[302,16],"start":[302,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[302,16],"start":[302,14]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[302,30],"start":[302,20]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[302,33],"start":[302,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[302,33],"start":[302,31]}},"type":"Var","value":{"identifier":"nj","sourcePos":[302,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[303,16],"start":[303,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[303,16],"start":[303,14]}},"binderType":"VarBinder","identifier":"sj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[303,30],"start":[303,20]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[303,33],"start":[303,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[303,33],"start":[303,31]}},"type":"Var","value":{"identifier":"sj","sourcePos":[303,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[304,23],"start":[304,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[304,23],"start":[304,20]}},"binderType":"VarBinder","identifier":"snj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[304,43],"start":[304,27]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[304,47],"start":[304,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,47],"start":[304,44]}},"type":"Var","value":{"identifier":"snj","sourcePos":[304,20]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[305,23],"start":[305,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,23],"start":[305,21]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[305,44],"start":[305,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[305,47],"start":[305,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[305,47],"start":[305,45]}},"type":"Var","value":{"identifier":"cr","sourcePos":[305,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[306,22],"start":[306,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[306,22],"start":[306,19]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[306,41],"start":[306,26]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[306,45],"start":[306,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[306,45],"start":[306,42]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[306,19]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[299,46],"start":[299,40]}},"type":"Var","value":{"identifier":"parent","sourcePos":[299,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"withChildren"},{"annotation":{"meta":null,"sourceSpan":{"end":[285,66],"start":[285,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[285,66],"start":[285,1]}},"argument":"parent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[285,66],"start":[285,1]}},"argument":"child","body":{"annotation":{"meta":null,"sourceSpan":{"end":[293,45],"start":[286,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[287,12],"start":[287,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[287,12],"start":[287,8]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[287,20],"start":[287,16]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[287,65],"start":[287,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[287,65],"start":[287,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[293,45],"start":[286,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[287,25],"start":[287,21]}},"type":"Var","value":{"identifier":"node","sourcePos":[287,8]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[287,65],"start":[287,21]}},"copy":["name","elemType","attrs","behaviors"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[286,1]}},"type":"ObjectUpdate","updates":[["children",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[287,63],"start":[287,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[287,52],"start":[287,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[287,43],"start":[287,39]}},"type":"Var","value":{"identifier":"node","sourcePos":[287,8]}},"fieldName":"children","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[287,63],"start":[287,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[287,63],"start":[287,56]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[287,62],"start":[287,57]}},"type":"Var","value":{"identifier":"child","sourcePos":[286,1]}}]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[288,9],"start":[288,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[288,9],"start":[288,8]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[288,17],"start":[288,13]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[288,19],"start":[288,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[288,19],"start":[288,18]}},"type":"Var","value":{"identifier":"j","sourcePos":[288,8]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[289,16],"start":[289,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[289,16],"start":[289,14]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[289,30],"start":[289,20]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[289,33],"start":[289,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[289,33],"start":[289,31]}},"type":"Var","value":{"identifier":"nj","sourcePos":[289,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[290,16],"start":[290,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[290,16],"start":[290,14]}},"binderType":"VarBinder","identifier":"sj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[290,30],"start":[290,20]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[290,33],"start":[290,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[290,33],"start":[290,31]}},"type":"Var","value":{"identifier":"sj","sourcePos":[290,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[291,23],"start":[291,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[291,23],"start":[291,20]}},"binderType":"VarBinder","identifier":"snj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[291,43],"start":[291,27]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[291,47],"start":[291,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,47],"start":[291,44]}},"type":"Var","value":{"identifier":"snj","sourcePos":[291,20]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[292,23],"start":[292,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[292,23],"start":[292,21]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[292,44],"start":[292,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,47],"start":[292,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,47],"start":[292,45]}},"type":"Var","value":{"identifier":"cr","sourcePos":[292,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[293,22],"start":[293,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[293,22],"start":[293,19]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[293,41],"start":[293,26]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[293,45],"start":[293,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[293,45],"start":[293,42]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[293,19]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[286,37],"start":[286,31]}},"type":"Var","value":{"identifier":"parent","sourcePos":[286,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"withChild"},{"annotation":{"meta":null,"sourceSpan":{"end":[325,82],"start":[325,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[325,82],"start":[325,1]}},"argument":"tree","body":{"annotation":{"meta":null,"sourceSpan":{"end":[325,82],"start":[325,1]}},"argument":"newBehaviors","body":{"annotation":{"meta":null,"sourceSpan":{"end":[333,45],"start":[326,35]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[327,12],"start":[327,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[327,12],"start":[327,8]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Node","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[327,20],"start":[327,16]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[333,45],"start":[326,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[327,25],"start":[327,21]}},"type":"Var","value":{"identifier":"node","sourcePos":[327,8]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,21]}},"copy":["name","elemType","attrs","children"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[326,1]}},"type":"ObjectUpdate","updates":[["behaviors",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[327,70],"start":[327,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[327,54],"start":[327,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[327,44],"start":[327,40]}},"type":"Var","value":{"identifier":"node","sourcePos":[327,8]}},"fieldName":"behaviors","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[327,70],"start":[327,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[327,70],"start":[327,58]}},"type":"Var","value":{"identifier":"newBehaviors","sourcePos":[326,1]}},"type":"App"}]]},"type":"Let"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[328,9],"start":[328,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[328,9],"start":[328,8]}},"binderType":"VarBinder","identifier":"j"}],"constructorName":{"identifier":"Join","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[328,17],"start":[328,13]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[328,19],"start":[328,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,19],"start":[328,18]}},"type":"Var","value":{"identifier":"j","sourcePos":[328,8]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[329,16],"start":[329,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[329,16],"start":[329,14]}},"binderType":"VarBinder","identifier":"nj"}],"constructorName":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[329,30],"start":[329,20]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,33],"start":[329,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,33],"start":[329,31]}},"type":"Var","value":{"identifier":"nj","sourcePos":[329,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[330,16],"start":[330,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[330,16],"start":[330,14]}},"binderType":"VarBinder","identifier":"sj"}],"constructorName":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[330,30],"start":[330,20]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,33],"start":[330,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,33],"start":[330,31]}},"type":"Var","value":{"identifier":"sj","sourcePos":[330,14]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[331,23],"start":[331,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[331,23],"start":[331,20]}},"binderType":"VarBinder","identifier":"snj"}],"constructorName":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[331,43],"start":[331,27]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[331,47],"start":[331,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[331,47],"start":[331,44]}},"type":"Var","value":{"identifier":"snj","sourcePos":[331,20]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[332,23],"start":[332,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[332,23],"start":[332,21]}},"binderType":"VarBinder","identifier":"cr"}],"constructorName":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[332,44],"start":[332,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[332,47],"start":[332,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[332,47],"start":[332,45]}},"type":"Var","value":{"identifier":"cr","sourcePos":[332,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[333,22],"start":[333,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[333,22],"start":[333,19]}},"binderType":"VarBinder","identifier":"lcs"}],"constructorName":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]},"typeName":{"identifier":"Tree","moduleName":["PSD3","AST"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[333,41],"start":[333,26]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[333,45],"start":[333,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[333,45],"start":[333,42]}},"type":"Var","value":{"identifier":"lcs","sourcePos":[333,19]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[326,44],"start":[326,40]}},"type":"Var","value":{"identifier":"tree","sourcePos":[326,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"withBehaviors"},{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"argument":"decomposeFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"argument":"templateFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[461,21],"start":[453,1]}},"argument":"behaviors","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[463,19],"start":[463,3]}},"type":"Var","value":{"identifier":"UpdateNestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[473,6],"start":[463,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,6],"start":[464,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[464,11],"start":[464,7]}},"type":"Var","value":{"identifier":"name","sourcePos":[462,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[465,10],"start":[465,7]}},"type":"Var","value":{"identifier":"key","sourcePos":[462,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[466,22],"start":[466,17]}},"type":"Var","value":{"identifier":"data'","sourcePos":[462,1]}}],["decompose",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[470,30],"start":[470,18]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[470,42],"start":[470,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[470,42],"start":[470,31]}},"type":"Var","value":{"identifier":"decomposeFn","sourcePos":[462,1]}},"type":"App"}],["template",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[471,29],"start":[471,17]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[471,40],"start":[471,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,40],"start":[471,30]}},"type":"Var","value":{"identifier":"templateFn","sourcePos":[462,1]}},"type":"App"}],["behaviors",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[472,30],"start":[472,18]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[472,40],"start":[472,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[472,40],"start":[472,31]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[462,1]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateNestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[422,16],"start":[411,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[422,16],"start":[411,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[422,16],"start":[411,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[422,16],"start":[411,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[422,16],"start":[411,1]}},"argument":"template","body":{"annotation":{"meta":null,"sourceSpan":{"end":[422,16],"start":[411,1]}},"argument":"behaviors","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[424,13],"start":[424,3]}},"type":"Var","value":{"identifier":"UpdateJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,6],"start":[424,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,6],"start":[425,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[425,11],"start":[425,7]}},"type":"Var","value":{"identifier":"name","sourcePos":[423,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[426,10],"start":[426,7]}},"type":"Var","value":{"identifier":"key","sourcePos":[423,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[427,22],"start":[427,17]}},"type":"Var","value":{"identifier":"data'","sourcePos":[423,1]}}],["template",{"annotation":{"meta":null,"sourceSpan":{"end":[428,15],"start":[428,7]}},"type":"Var","value":{"identifier":"template","sourcePos":[423,1]}}],["keyFn",{"annotation":{"meta":null,"sourceSpan":{"end":[429,29],"start":[429,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[429,23],"start":[429,14]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[423,1]}},"fieldName":"keyFn","type":"Accessor"}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[430,92],"start":[430,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["enter",{"annotation":{"meta":null,"sourceSpan":{"end":[430,42],"start":[430,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,36],"start":[430,27]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[423,1]}},"fieldName":"enter","type":"Accessor"}],["update",{"annotation":{"meta":null,"sourceSpan":{"end":[430,68],"start":[430,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,61],"start":[430,52]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[423,1]}},"fieldName":"update","type":"Accessor"}],["exit",{"annotation":{"meta":null,"sourceSpan":{"end":[430,90],"start":[430,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,85],"start":[430,76]}},"type":"Var","value":{"identifier":"behaviors","sourcePos":[423,1]}},"fieldName":"exit","type":"Accessor"}]]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[577,67],"start":[577,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[578,20],"start":[578,12]}},"type":"Var","value":{"identifier":"identity","moduleName":["Control","Category"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[578,20],"start":[578,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"categoryFn","moduleName":["Control","Category"]}},"type":"App"},"identifier":"siblings"},{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[377,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[377,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[377,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[377,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[377,1]}},"argument":"decomposeFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[377,1]}},"argument":"templateFn","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[386,13],"start":[386,3]}},"type":"Var","value":{"identifier":"NestedJoin","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[394,6],"start":[386,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[394,6],"start":[387,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[387,11],"start":[387,7]}},"type":"Var","value":{"identifier":"name","sourcePos":[385,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[388,10],"start":[388,7]}},"type":"Var","value":{"identifier":"key","sourcePos":[385,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[389,22],"start":[389,17]}},"type":"Var","value":{"identifier":"data'","sourcePos":[385,1]}}],["decompose",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[392,30],"start":[392,18]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[392,42],"start":[392,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[392,42],"start":[392,31]}},"type":"Var","value":{"identifier":"decomposeFn","sourcePos":[385,1]}},"type":"App"}],["template",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[393,29],"start":[393,17]}},"type":"Var","value":{"identifier":"unsafeCoerce","moduleName":["Unsafe","Coerce"]}},"annotation":{"meta":null,"sourceSpan":{"end":[393,40],"start":[393,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[393,40],"start":[393,30]}},"type":"Var","value":{"identifier":"templateFn","sourcePos":[385,1]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"nestedJoin"},{"annotation":{"meta":null,"sourceSpan":{"end":[271,86],"start":[271,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,86],"start":[271,1]}},"argument":"elemType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,86],"start":[271,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,86],"start":[271,1]}},"argument":"attrs","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[273,7],"start":[273,3]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,73],"start":[273,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,73],"start":[273,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[273,20],"start":[273,16]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,25],"start":[273,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,25],"start":[273,21]}},"type":"Var","value":{"identifier":"name","sourcePos":[272,1]}},"type":"App"}],["elemType",{"annotation":{"meta":null,"sourceSpan":{"end":[273,35],"start":[273,27]}},"type":"Var","value":{"identifier":"elemType","sourcePos":[272,1]}}],["attrs",{"annotation":{"meta":null,"sourceSpan":{"end":[273,42],"start":[273,37]}},"type":"Var","value":{"identifier":"attrs","sourcePos":[272,1]}}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[273,57],"start":[273,55]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["children",{"annotation":{"meta":null,"sourceSpan":{"end":[273,71],"start":[273,69]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"named"},{"annotation":{"meta":null,"sourceSpan":{"end":[554,16],"start":[549,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[554,16],"start":[549,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[554,16],"start":[549,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[554,16],"start":[549,1]}},"argument":"child","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[556,18],"start":[556,3]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[560,6],"start":[556,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[560,6],"start":[557,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["scaleX",{"annotation":{"meta":null,"sourceSpan":{"end":[557,26],"start":[557,15]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[557,26],"start":[557,21]}},"type":"Var","value":{"identifier":"width","sourcePos":[555,1]}},"type":"Abs"}],["scaleY",{"annotation":{"meta":null,"sourceSpan":{"end":[558,27],"start":[558,15]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[558,27],"start":[558,21]}},"type":"Var","value":{"identifier":"height","sourcePos":[555,1]}},"type":"Abs"}],["child",{"annotation":{"meta":null,"sourceSpan":{"end":[559,12],"start":[559,7]}},"type":"Var","value":{"identifier":"child","sourcePos":[555,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"localCoordSpaceFixed"},{"annotation":{"meta":null,"sourceSpan":{"end":[535,16],"start":[531,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[535,16],"start":[531,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[535,16],"start":[531,1]}},"argument":"child","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[537,18],"start":[537,3]}},"type":"Var","value":{"identifier":"LocalCoordSpace","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,6],"start":[537,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,6],"start":[538,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["scaleX",{"annotation":{"meta":null,"sourceSpan":{"end":[538,28],"start":[538,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[538,21],"start":[538,15]}},"type":"Var","value":{"identifier":"config","sourcePos":[536,1]}},"fieldName":"scaleX","type":"Accessor"}],["scaleY",{"annotation":{"meta":null,"sourceSpan":{"end":[539,28],"start":[539,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[539,21],"start":[539,15]}},"type":"Var","value":{"identifier":"config","sourcePos":[536,1]}},"fieldName":"scaleY","type":"Accessor"}],["child",{"annotation":{"meta":null,"sourceSpan":{"end":[540,12],"start":[540,7]}},"type":"Var","value":{"identifier":"child","sourcePos":[536,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"localCoordSpace"},{"annotation":{"meta":null,"sourceSpan":{"end":[354,97],"start":[354,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[354,97],"start":[354,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[354,97],"start":[354,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[354,97],"start":[354,1]}},"argument":"data'","body":{"annotation":{"meta":null,"sourceSpan":{"end":[354,97],"start":[354,1]}},"argument":"templateBuilder","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[356,7],"start":[356,3]}},"type":"Var","value":{"identifier":"Join","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[356,65],"start":[356,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[356,65],"start":[356,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[356,14],"start":[356,10]}},"type":"Var","value":{"identifier":"name","sourcePos":[355,1]}}],["key",{"annotation":{"meta":null,"sourceSpan":{"end":[356,19],"start":[356,16]}},"type":"Var","value":{"identifier":"key","sourcePos":[355,1]}}],["joinData",{"annotation":{"meta":null,"sourceSpan":{"end":[356,36],"start":[356,31]}},"type":"Var","value":{"identifier":"data'","sourcePos":[355,1]}}],["template",{"annotation":{"meta":null,"sourceSpan":{"end":[356,63],"start":[356,48]}},"type":"Var","value":{"identifier":"templateBuilder","sourcePos":[355,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"joinData"},{"annotation":{"meta":null,"sourceSpan":{"end":[278,75],"start":[278,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[278,75],"start":[278,1]}},"argument":"elemType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[278,75],"start":[278,1]}},"argument":"attrs","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[280,7],"start":[280,3]}},"type":"Var","value":{"identifier":"Node","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[280,71],"start":[280,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[280,71],"start":[280,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[280,23],"start":[280,16]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}],["elemType",{"annotation":{"meta":null,"sourceSpan":{"end":[280,33],"start":[280,25]}},"type":"Var","value":{"identifier":"elemType","sourcePos":[279,1]}}],["attrs",{"annotation":{"meta":null,"sourceSpan":{"end":[280,40],"start":[280,35]}},"type":"Var","value":{"identifier":"attrs","sourcePos":[279,1]}}],["behaviors",{"annotation":{"meta":null,"sourceSpan":{"end":[280,55],"start":[280,53]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["children",{"annotation":{"meta":null,"sourceSpan":{"end":[280,69],"start":[280,67]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"elem"},{"annotation":{"meta":null,"sourceSpan":{"end":[514,16],"start":[510,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[514,16],"start":[510,1]}},"argument":"cases","body":{"annotation":{"meta":null,"sourceSpan":{"end":[514,16],"start":[510,1]}},"argument":"fallbackSpec","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[516,20],"start":[516,3]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[516,88],"start":[516,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[516,88],"start":[516,21]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cases",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[516,86],"start":[516,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[516,35],"start":[516,30]}},"type":"Var","value":{"identifier":"cases","sourcePos":[515,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[516,86],"start":[516,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[516,86],"start":[516,39]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[516,85],"start":[516,40]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["predicate",{"annotation":{"meta":null,"sourceSpan":{"end":[516,63],"start":[516,53]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[516,63],"start":[516,59]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"Abs"}],["spec",{"annotation":{"meta":null,"sourceSpan":{"end":[516,83],"start":[516,71]}},"type":"Var","value":{"identifier":"fallbackSpec","sourcePos":[515,1]}}]]}}]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"conditionalRenderOr"},{"annotation":{"meta":null,"sourceSpan":{"end":[497,16],"start":[494,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[497,16],"start":[494,1]}},"argument":"cases","body":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[498,44],"start":[498,27]}},"type":"Var","value":{"identifier":"ConditionalRender","moduleName":["PSD3","AST"]}},"annotation":{"meta":null,"sourceSpan":{"end":[498,54],"start":[498,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[498,54],"start":[498,45]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cases",{"annotation":{"meta":null,"sourceSpan":{"end":[498,52],"start":[498,47]}},"type":"Var","value":{"identifier":"cases","sourcePos":[498,1]}}]]}},"type":"App"},"type":"Abs"},"identifier":"conditionalRender"},{"annotation":{"meta":null,"sourceSpan":{"end":[571,71],"start":[571,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[571,71],"start":[571,1]}},"argument":"left","body":{"annotation":{"meta":null,"sourceSpan":{"end":[571,71],"start":[571,1]}},"argument":"right","body":{"annotation":{"meta":null,"sourceSpan":{"end":[572,34],"start":[572,21]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[572,26],"start":[572,22]}},"type":"Var","value":{"identifier":"left","sourcePos":[572,1]}},{"annotation":{"meta":null,"sourceSpan":{"end":[572,33],"start":[572,28]}},"type":"Var","value":{"identifier":"right","sourcePos":[572,1]}}]}},"type":"Abs"},"type":"Abs"},"identifier":"beside"}],"exports":["Node","Join","NestedJoin","UpdateJoin","UpdateNestedJoin","ConditionalRender","LocalCoordSpace","named","elem","withChild","withChildren","withBehaviors","joinData","nestedJoin","updateJoin","updateNestedJoin","conditionalRender","conditionalRenderOr","localCoordSpace","localCoordSpaceFixed","beside","siblings","treeDSLTree"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["Control","Category"]},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["PSD3","AST"]},{"annotation":{"meta":null,"sourceSpan":{"end":[91,43],"start":[91,1]}},"moduleName":["PSD3","Internal","Attribute"]},{"annotation":{"meta":null,"sourceSpan":{"end":[92,47],"start":[92,1]}},"moduleName":["PSD3","Internal","Behavior","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,51],"start":[94,1]}},"moduleName":["PSD3","Internal","Selection","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[95,57],"start":[95,1]}},"moduleName":["PSD3","Internal","Transition","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["PSD3","TreeDSL"]},{"annotation":{"meta":null,"sourceSpan":{"end":[88,15],"start":[88,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[668,8],"start":[52,1]}},"moduleName":["Unsafe","Coerce"]}],"moduleName":["PSD3","AST"],"modulePath":"../purescript-psd3-selection/src/PSD3/AST.purs","reExports":{"PSD3.Internal.Selection.Types":["Circle","Defs","Div","Group","Line","LinearGradient","Path","PatternFill","Polygon","Rect","SVG","Span","Stop","Table","Tbody","Td","Text","Th","Thead","Tr"],"PSD3.TreeDSL":[]},"sourceSpan":{"end":[668,8],"start":[52,1]}}