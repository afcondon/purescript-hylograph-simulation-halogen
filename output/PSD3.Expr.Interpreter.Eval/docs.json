{"comments":"Eval Interpreter\n\nEvaluates expressions to concrete values.\nThis is what runs at D3 render time - datum -> value.\n","declarations":[{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":"a","tag":"TypeVar"}],"declType":"dataConstructor"},"sourceSpan":{"end":[37,24],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[37,16]},"title":"Eval"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"NumExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[48,38],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[42,1]},"title":"numExprEval"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"StringExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[52,43],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[50,1]},"title":"stringExprEval"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"BoolExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[59,74],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[54,1]},"title":"boolExprEval"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"CompareExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[66,39],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[61,1]},"title":"compareExprEval"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"StringCompareExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[70,43],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[68,1]},"title":"stringCompareExprEval"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"TrigExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[80,20],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[72,1]},"title":"trigExprEval"},{"comments":"Unit expressions evaluate to the underlying number\n(SVG uses unitless numbers, CSS would preserve units)\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Units"],"UnitExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[91,37],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[84,1]},"title":"unitExprEval"},{"comments":"Unit arithmetic - just operates on underlying numbers\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Units"],"UnitArith"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[97,62],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[94,1]},"title":"unitArithEval"},{"comments":"Path expressions - compute actual SVG path strings\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Path"],"PathExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[121,40],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[104,1]},"title":"pathExprEval"},{"comments":"DataDSL instance for simple Eval (no datum access)\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Unified","DataDSL"],"DataDSL"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[270,74],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[230,1]},"title":"dataDSLEval"},{"comments":"TrigDSL instance for simple Eval\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Unified","DataDSL"],"TrigDSL"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[281,20],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[273,1]},"title":"trigDSLEval"}],"comments":"Simple evaluator for expressions without datum access\n","info":{"dataDeclType":"newtype","declType":"data","roles":["Representational"],"typeArguments":[["a",null]]},"kind":null,"sourceSpan":{"end":[37,24],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[37,1]},"title":"Eval"},{"children":[],"comments":null,"info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"Eval"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[39,33],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[39,1]},"title":"runEval"},{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"declType":"dataConstructor"},"sourceSpan":{"end":[128,50],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[128,23]},"title":"EvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"NumExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[139,54],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[133,1]},"title":"numExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"StringExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[143,62],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[141,1]},"title":"stringExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"BoolExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[151,54],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[145,1]},"title":"boolExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"CompareExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[158,58],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[153,1]},"title":"compareExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"StringCompareExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[162,62],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[160,1]},"title":"stringCompareExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Expr"],"TrigExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[172,31],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[164,1]},"title":"trigExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Units"],"UnitExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[181,46],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[174,1]},"title":"unitExprEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Units"],"UnitArith"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[189,44],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[183,1]},"title":"unitArithEvalD"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Path"],"PathExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[208,54],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[191,1]},"title":"pathExprEvalD"},{"comments":"Datum field access - looks up field from datum at runtime\nThe `datumRow` is a Row kind, and we work with `Record datumRow`\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Datum"],"DatumExpr"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datumRow","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":"datumRow","tag":"TypeVar"}],"tag":"TypeApp"}},"sourceSpan":{"end":[220,28],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[212,1]},"title":"datumExprEvalD"},{"comments":"DataDSL instance for EvalD (with datum and index access)\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Unified","DataDSL"],"DataDSL"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[325,52],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[284,1]},"title":"dataDSLEvalD"},{"comments":"TrigDSL instance for EvalD (with datum and index access)\n","info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Unified","DataDSL"],"TrigDSL"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[336,29],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[328,1]},"title":"trigDSLEvalD"}],"comments":"Evaluator with datum access - a function from datum (and index) to value\n","info":{"dataDeclType":"newtype","declType":"data","roles":["Representational","Representational"],"typeArguments":[["datum",null],["a",null]]},"kind":null,"sourceSpan":{"end":[128,50],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[128,1]},"title":"EvalD"},{"children":[],"comments":null,"info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"datum","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Expr","Interpreter","Eval"],"EvalD"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[130,63],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[130,1]},"title":"runEvalD"},{"children":[],"comments":"Unsafe field access (we've verified types at compile time)\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"r","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":"r","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[223,69],"name":"../purescript-psd3-selection/src/PSD3/Expr/Interpreter/Eval.purs","start":[223,1]},"title":"unsafeGetField"}],"name":"PSD3.Expr.Interpreter.Eval","reExports":[]}