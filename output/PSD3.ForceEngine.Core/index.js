// Generated by purs version 0.15.15
import * as $foreign from "./foreign.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Control_Category from "../Control.Category/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Effect from "../Effect/index.js";
var bind = /* #__PURE__ */ Control_Bind.bind(Effect.bindEffect);
var when = /* #__PURE__ */ Control_Applicative.when(Effect.applicativeEffect);
var identity = /* #__PURE__ */ Control_Category.identity(Control_Category.categoryFn);
var for_ = /* #__PURE__ */ Data_Foldable.for_(Effect.applicativeEffect)(Data_Foldable.foldableArray);
var stopAnimation = function (cancel) {
    return cancel;
};
var startAnimation = function (onFrame) {
    return function __do() {
        var cancelRef = $foreign.newCancelRef();
        var loop = function (timestamp) {
            return function __do() {
                var $$continue = onFrame(timestamp)();
                return when($$continue)(function __do() {
                    var cancel = $foreign.requestAnimationFrame_(loop)();
                    return $foreign.setCancelRef(cancelRef)(cancel)();
                })();
            };
        };
        var cancel = $foreign.requestAnimationFrame_(loop)();
        $foreign.setCancelRef(cancelRef)(cancel)();
        return bind($foreign.getCancelRef(cancelRef))(identity);
    };
};
var querySelectorElements = $foreign.querySelectorElements_;
var logNodes = $foreign.logNodes_;
var integratePositions = $foreign.integratePositions_;
var initializeNodes = $foreign.initializeNodes_;
var initializeLinkForce = $foreign.initializeLinkForce_;
var initializeForce = $foreign.initializeForce_;
var decayAlpha = $foreign.decayAlpha_;
var createRadialFiltered = $foreign.createRadialFiltered_;
var createRadial = $foreign.createRadial_;
var createManyBodyFiltered = $foreign.createManyBodyFiltered_;
var createManyBody = $foreign.createManyBody_;
var createLinkDynamic = $foreign.createLinkDynamic_;
var createLink = $foreign.createLink_;
var createForceYGrid = $foreign.createForceYGrid_;
var createForceYDynamic = $foreign.createForceYDynamic_;
var createForceY = $foreign.createForceY_;
var createForceXGrid = $foreign.createForceXGrid_;
var createForceXDynamic = $foreign.createForceXDynamic_;
var createForceX = $foreign.createForceX_;
var createCollideGrid = $foreign.createCollideGrid_;
var createCollideDynamic = $foreign.createCollideDynamic_;
var createCollide = $foreign.createCollide_;
var createCenter = $foreign.createCenter_;
var attachPinningDrag = $foreign.attachPinningDrag_;
var attachGroupDragWithReheat = $foreign.attachGroupDragWithReheat_;
var attachDragWithReheat = $foreign.attachDragWithReheat_;
var applyForce = $foreign.applyForce_;
var applyForces = function (forces) {
    return function (alpha) {
        return for_(forces)(function (f) {
            return applyForce(f)(alpha);
        });
    };
};
var simulationTick = function (params) {
    return function __do() {
        applyForces(params.forces)(params.alpha)();
        integratePositions(params.nodes)(params.velocityDecay)();
        return decayAlpha(params.alpha)(params.alphaMin)(params.alphaDecay)(params.alphaTarget);
    };
};
export {
    createManyBody,
    createCollide,
    createLink,
    createCenter,
    createForceX,
    createForceY,
    createRadial,
    createManyBodyFiltered,
    createRadialFiltered,
    createCollideDynamic,
    createForceXDynamic,
    createForceYDynamic,
    createLinkDynamic,
    createForceXGrid,
    createForceYGrid,
    createCollideGrid,
    initializeNodes,
    initializeForce,
    initializeLinkForce,
    applyForce,
    applyForces,
    integratePositions,
    decayAlpha,
    simulationTick,
    startAnimation,
    stopAnimation,
    attachDragWithReheat,
    attachGroupDragWithReheat,
    attachPinningDrag,
    querySelectorElements,
    logNodes
};
//# sourceMappingURL=index.js.map
