// Generated by purs version 0.15.15
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_FoldableWithIndex from "../Data.FoldableWithIndex/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Map_Internal from "../Data.Map.Internal/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Nullable from "../Data.Nullable/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Effect from "../Effect/index.js";
import * as Effect_Class from "../Effect.Class/index.js";
import * as PSD3_Internal_Attribute from "../PSD3.Internal.Attribute/index.js";
import * as PSD3_Internal_Selection_Operations from "../PSD3.Internal.Selection.Operations/index.js";
import * as PSD3_Internal_Selection_Query from "../PSD3.Internal.Selection.Query/index.js";
import * as PSD3_Internal_Selection_Types from "../PSD3.Internal.Selection.Types/index.js";
import * as PSD3_Internal_Transition_FFI from "../PSD3.Internal.Transition.FFI/index.js";
var select = /* #__PURE__ */ PSD3_Internal_Selection_Operations.select(Effect_Class.monadEffectEffect);
var selectElement = /* #__PURE__ */ PSD3_Internal_Selection_Operations.selectElement(Effect_Class.monadEffectEffect);
var selectAll = /* #__PURE__ */ PSD3_Internal_Selection_Operations.selectAll(Effect_Class.monadEffectEffect);
var selectAllWithData = /* #__PURE__ */ PSD3_Internal_Selection_Operations.selectAllWithData(Effect_Class.monadEffectEffect);
var renderData = /* #__PURE__ */ PSD3_Internal_Selection_Operations.renderData(Effect_Class.monadEffectEffect);
var appendData = /* #__PURE__ */ PSD3_Internal_Selection_Operations.appendData(Effect_Class.monadEffectEffect);
var joinData = /* #__PURE__ */ PSD3_Internal_Selection_Operations.joinData(Effect_Class.monadEffectEffect);
var joinDataWithKey = /* #__PURE__ */ PSD3_Internal_Selection_Operations.joinDataWithKey(Effect_Class.monadEffectEffect);
var append = /* #__PURE__ */ PSD3_Internal_Selection_Operations.append(Effect_Class.monadEffectEffect);
var setAttrs = /* #__PURE__ */ PSD3_Internal_Selection_Operations.setAttrs(Effect_Class.monadEffectEffect);
var setAttrsExit = /* #__PURE__ */ PSD3_Internal_Selection_Operations.setAttrsExit(Effect_Class.monadEffectEffect);
var remove = /* #__PURE__ */ PSD3_Internal_Selection_Operations.remove(Effect_Class.monadEffectEffect);
var clear = /* #__PURE__ */ PSD3_Internal_Selection_Operations.clear(Effect_Class.monadEffectEffect);
var merge = /* #__PURE__ */ PSD3_Internal_Selection_Operations.merge(Effect_Class.monadEffectEffect);
var appendChild = /* #__PURE__ */ PSD3_Internal_Selection_Operations.appendChild(Effect_Class.monadEffectEffect);
var appendChildInheriting = /* #__PURE__ */ PSD3_Internal_Selection_Operations.appendChildInheriting(Effect_Class.monadEffectEffect);
var map = /* #__PURE__ */ Data_Functor.map(Data_Map_Internal.functorMap);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);
var show1 = /* #__PURE__ */ Data_Show.show(Data_Show.showBoolean);
var traverseWithIndex_ = /* #__PURE__ */ Data_FoldableWithIndex.traverseWithIndex_(Effect.applicativeEffect)(Data_FoldableWithIndex.foldableWithIndexArray);
var unsafeIndex = /* #__PURE__ */ Data_Array.unsafeIndex();
var traverse_ = /* #__PURE__ */ Data_Foldable.traverse_(Effect.applicativeEffect)(Data_Foldable.foldableArray);
var D3v2Selection_ = function (x) {
    return x;
};
var D3v2M = function (x) {
    return x;
};
var monadEffectD3v2M = Effect_Class.monadEffectEffect;
var monadD3v2M = Effect.monadEffect;
var selectionMD3v2Selection_D = {
    select: function (selector) {
        return function __do() {
            var sel = select(selector)();
            return sel;
        };
    },
    selectElement: function (element) {
        return function __do() {
            var sel = selectElement(element)();
            return sel;
        };
    },
    selectAll: function (selector) {
        return function (v) {
            return function __do() {
                var result = selectAll(selector)(v)();
                return result;
            };
        };
    },
    openSelection: function (v) {
        return function (selector) {
            return function __do() {
                var result = selectAll(selector)(v)();
                return result;
            };
        };
    },
    selectAllWithData: function (selector) {
        return function (v) {
            return function __do() {
                var result = selectAllWithData(selector)(v)();
                return result;
            };
        };
    },
    renderData: function (dictFoldable) {
        var renderData1 = renderData(dictFoldable);
        return function (dictOrd) {
            var renderData2 = renderData1(dictOrd);
            return function (elemType) {
                return function (foldableData) {
                    return function (selector) {
                        return function (v) {
                            return function (enterAttrs) {
                                return function (updateAttrs) {
                                    return function (exitAttrs) {
                                        return function __do() {
                                            var result = renderData2(elemType)(foldableData)(selector)(v)(enterAttrs)(updateAttrs)(exitAttrs)();
                                            return result;
                                        };
                                    };
                                };
                            };
                        };
                    };
                };
            };
        };
    },
    appendData: function (dictFoldable) {
        var appendData1 = appendData(dictFoldable);
        return function (elemType) {
            return function (foldableData) {
                return function (attrs) {
                    return function (v) {
                        return function __do() {
                            var result = appendData1(elemType)(foldableData)(attrs)(v)();
                            return result;
                        };
                    };
                };
            };
        };
    },
    joinData: function (dictFoldable) {
        var joinData1 = joinData(dictFoldable);
        return function (dictOrd) {
            var joinData2 = joinData1(dictOrd);
            return function (foldableData) {
                return function (selector) {
                    return function (v) {
                        return function __do() {
                            var v1 = joinData2(foldableData)(selector)(v)();
                            return new PSD3_Internal_Selection_Types.JoinResult({
                                enter: v1.value0.enter,
                                update: v1.value0.update,
                                exit: v1.value0.exit
                            });
                        };
                    };
                };
            };
        };
    },
    joinDataWithKey: function (dictFoldable) {
        var joinDataWithKey1 = joinDataWithKey(dictFoldable);
        return function (dictOrd) {
            var joinDataWithKey2 = joinDataWithKey1(dictOrd.Eq0());
            return function (foldableData) {
                return function (keyFn) {
                    return function (selector) {
                        return function (v) {
                            return function __do() {
                                var v1 = joinDataWithKey2(foldableData)(keyFn)(selector)(v)();
                                return new PSD3_Internal_Selection_Types.JoinResult({
                                    enter: v1.value0.enter,
                                    update: v1.value0.update,
                                    exit: v1.value0.exit
                                });
                            };
                        };
                    };
                };
            };
        };
    },
    updateJoin: function (dictFoldable) {
        var joinDataWithKey1 = joinDataWithKey(dictFoldable);
        return function (dictOrd) {
            var joinDataWithKey2 = joinDataWithKey1(dictOrd.Eq0());
            return function (v) {
                return function (_elemType) {
                    return function (foldableData) {
                        return function (keyFn) {
                            return function (selector) {
                                return function __do() {
                                    var v1 = joinDataWithKey2(foldableData)(keyFn)(selector)(v)();
                                    return new PSD3_Internal_Selection_Types.JoinResult({
                                        enter: v1.value0.enter,
                                        update: v1.value0.update,
                                        exit: v1.value0.exit
                                    });
                                };
                            };
                        };
                    };
                };
            };
        };
    },
    append: function (elemType) {
        return function (attrs) {
            return function (v) {
                return function __do() {
                    var result = append(elemType)(attrs)(v)();
                    return result;
                };
            };
        };
    },
    setAttrs: function (attrs) {
        return function (v) {
            return function __do() {
                var result = setAttrs(attrs)(v)();
                return result;
            };
        };
    },
    setAttrsExit: function (attrs) {
        return function (v) {
            return function __do() {
                var result = setAttrsExit(attrs)(v)();
                return result;
            };
        };
    },
    remove: function (v) {
        return remove(v);
    },
    clear: function (selector) {
        return clear(selector);
    },
    merge: function (v) {
        return function (v1) {
            return function __do() {
                var result = merge(v)(v1)();
                return result;
            };
        };
    },
    appendChild: function (elemType) {
        return function (attrs) {
            return function (v) {
                return function __do() {
                    var result = appendChild(elemType)(attrs)(v)();
                    return result;
                };
            };
        };
    },
    appendChildInheriting: function (elemType) {
        return function (attrs) {
            return function (v) {
                return function __do() {
                    var result = appendChildInheriting(elemType)(attrs)(v)();
                    return result;
                };
            };
        };
    },
    on: function (behavior) {
        return function (v) {
            return function __do() {
                var result = PSD3_Internal_Selection_Operations.on(behavior)(v)();
                return result;
            };
        };
    },
    renderTree: function (dictOrd) {
        var renderTree = PSD3_Internal_Selection_Operations.renderTree(dictOrd);
        return function (v) {
            return function (tree) {
                return function __do() {
                    var selectionsMap = renderTree(v)(tree)();
                    return map(D3v2Selection_)(selectionsMap);
                };
            };
        };
    },
    Monad0: function () {
        return monadD3v2M;
    }
};
var functorD3v2M = Effect.functorEffect;
var bindD3v2M = Effect.bindEffect;
var applyD3v2M = Effect.applyEffect;
var applicativeD3v2M = Effect.applicativeEffect;
var runD3v2M = function (v) {
    return v;
};
var reselectD3v2 = function (name) {
    return function (selectionsMap) {
        var unwrappedMap = map(function (v) {
            return v;
        })(selectionsMap);
        return function __do() {
            var result = PSD3_Internal_Selection_Operations.reselect(name)(unwrappedMap)();
            return result;
        };
    };
};
var queryAllD3v2 = function (selector) {
    return function (selectionsMap) {
        var unwrappedMap = map(function (v) {
            return v;
        })(selectionsMap);
        return function __do() {
            var result = PSD3_Internal_Selection_Query.queryAll(selector)(unwrappedMap)();
            return result;
        };
    };
};
var getElementsD3v2 = function (v) {
    return PSD3_Internal_Selection_Query.toArray(v);
};
var attributeValueToString = function (v) {
    if (v instanceof PSD3_Internal_Attribute.StringValue) {
        return v.value0;
    };
    if (v instanceof PSD3_Internal_Attribute.NumberValue) {
        return show(v.value0);
    };
    if (v instanceof PSD3_Internal_Attribute.BooleanValue) {
        return show1(v.value0);
    };
    throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 295, column 1 - line 295, column 51): " + [ v.constructor.name ]);
};
var transitionMD3v2Selection_ = {
    withTransition: function (config) {
        return function (v) {
            return function (attrs) {
                var v1 = (function () {
                    if (v instanceof PSD3_Internal_Selection_Types.BoundSelection) {
                        return v.value0;
                    };
                    throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 158, column 65 - line 159, column 44): " + [ v.constructor.name ]);
                })();
                var paired = Data_Array.zipWith(function (d) {
                    return function (e) {
                        return {
                            datum: d,
                            element: e
                        };
                    };
                })(v1.data)(v1.elements);
                return traverseWithIndex_(function (arrayIndex) {
                    return function (v2) {
                        var logicalIndex = (function () {
                            if (v1.indices instanceof Data_Maybe.Just) {
                                return unsafeIndex(v1.indices.value0)(arrayIndex);
                            };
                            if (v1.indices instanceof Data_Maybe.Nothing) {
                                return arrayIndex;
                            };
                            throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 168, column 26 - line 170, column 34): " + [ v1.indices.constructor.name ]);
                        })();
                        return function __do() {
                            var transition = PSD3_Internal_Transition_FFI.createTransition_(config.duration)(PSD3_Internal_Transition_FFI.maybeMillisecondsToNullable(config.delay))(PSD3_Internal_Transition_FFI.maybeEasingToNullable(config.easing))(v2.element)();
                            return traverse_(function (attr) {
                                if (attr instanceof PSD3_Internal_Attribute.StaticAttr) {
                                    return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value1))(transition);
                                };
                                if (attr instanceof PSD3_Internal_Attribute.DataAttr) {
                                    return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)))(transition);
                                };
                                if (attr instanceof PSD3_Internal_Attribute.IndexedAttr) {
                                    return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)(logicalIndex)))(transition);
                                };
                                throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 180, column 34 - line 188, column 112): " + [ attr.constructor.name ]);
                            })(attrs)();
                        };
                    };
                })(paired);
            };
        };
    },
    withTransitionExit: function (config) {
        return function (v) {
            return function (attrs) {
                var v1 = (function () {
                    if (v instanceof PSD3_Internal_Selection_Types.ExitingSelection) {
                        return v.value0;
                    };
                    throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 192, column 56 - line 193, column 46): " + [ v.constructor.name ]);
                })();
                var paired = Data_Array.zipWith(function (d) {
                    return function (e) {
                        return {
                            datum: d,
                            element: e
                        };
                    };
                })(v1.data)(v1.elements);
                return traverseWithIndex_(function (index) {
                    return function (v2) {
                        return function __do() {
                            var transition = PSD3_Internal_Transition_FFI.createTransition_(config.duration)(PSD3_Internal_Transition_FFI.maybeMillisecondsToNullable(config.delay))(PSD3_Internal_Transition_FFI.maybeEasingToNullable(config.easing))(v2.element)();
                            traverse_(function (attr) {
                                if (attr instanceof PSD3_Internal_Attribute.StaticAttr) {
                                    return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value1))(transition);
                                };
                                if (attr instanceof PSD3_Internal_Attribute.DataAttr) {
                                    return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)))(transition);
                                };
                                if (attr instanceof PSD3_Internal_Attribute.IndexedAttr) {
                                    return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)(index)))(transition);
                                };
                                throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 209, column 34 - line 217, column 105): " + [ attr.constructor.name ]);
                            })(attrs)();
                            return PSD3_Internal_Transition_FFI.transitionRemove_(transition)();
                        };
                    };
                })(paired);
            };
        };
    },
    withTransitionStaggered: function (config) {
        return function (delayFn) {
            return function (v) {
                return function (attrs) {
                    var v1 = (function () {
                        if (v instanceof PSD3_Internal_Selection_Types.BoundSelection) {
                            return v.value0;
                        };
                        throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 224, column 65 - line 225, column 44): " + [ v.constructor.name ]);
                    })();
                    var paired = Data_Array.zipWith(function (d) {
                        return function (e) {
                            return {
                                datum: d,
                                element: e
                            };
                        };
                    })(v1.data)(v1.elements);
                    return traverseWithIndex_(function (arrayIndex) {
                        return function (v2) {
                            var logicalIndex = (function () {
                                if (v1.indices instanceof Data_Maybe.Just) {
                                    return unsafeIndex(v1.indices.value0)(arrayIndex);
                                };
                                if (v1.indices instanceof Data_Maybe.Nothing) {
                                    return arrayIndex;
                                };
                                throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 234, column 26 - line 236, column 34): " + [ v1.indices.constructor.name ]);
                            })();
                            var v3 = delayFn(v2.datum)(logicalIndex);
                            return function __do() {
                                var transition = PSD3_Internal_Transition_FFI.createTransition_(config.duration)(Data_Nullable.toNullable(new Data_Maybe.Just(v3)))(PSD3_Internal_Transition_FFI.maybeEasingToNullable(config.easing))(v2.element)();
                                return traverse_(function (attr) {
                                    if (attr instanceof PSD3_Internal_Attribute.StaticAttr) {
                                        return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value1))(transition);
                                    };
                                    if (attr instanceof PSD3_Internal_Attribute.DataAttr) {
                                        return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)))(transition);
                                    };
                                    if (attr instanceof PSD3_Internal_Attribute.IndexedAttr) {
                                        return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)(logicalIndex)))(transition);
                                    };
                                    throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 249, column 34 - line 257, column 112): " + [ attr.constructor.name ]);
                                })(attrs)();
                            };
                        };
                    })(paired);
                };
            };
        };
    },
    withTransitionExitStaggered: function (config) {
        return function (delayFn) {
            return function (v) {
                return function (attrs) {
                    var v1 = (function () {
                        if (v instanceof PSD3_Internal_Selection_Types.ExitingSelection) {
                            return v.value0;
                        };
                        throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 261, column 56 - line 262, column 46): " + [ v.constructor.name ]);
                    })();
                    var paired = Data_Array.zipWith(function (d) {
                        return function (e) {
                            return {
                                datum: d,
                                element: e
                            };
                        };
                    })(v1.data)(v1.elements);
                    return traverseWithIndex_(function (index) {
                        return function (v2) {
                            var v3 = delayFn(v2.datum)(index);
                            return function __do() {
                                var transition = PSD3_Internal_Transition_FFI.createTransition_(config.duration)(Data_Nullable.toNullable(new Data_Maybe.Just(v3)))(PSD3_Internal_Transition_FFI.maybeEasingToNullable(config.easing))(v2.element)();
                                traverse_(function (attr) {
                                    if (attr instanceof PSD3_Internal_Attribute.StaticAttr) {
                                        return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value1))(transition);
                                    };
                                    if (attr instanceof PSD3_Internal_Attribute.DataAttr) {
                                        return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)))(transition);
                                    };
                                    if (attr instanceof PSD3_Internal_Attribute.IndexedAttr) {
                                        return PSD3_Internal_Transition_FFI.transitionSetAttribute_(attr.value0)(attributeValueToString(attr.value2(v2.datum)(index)))(transition);
                                    };
                                    throw new Error("Failed pattern match at PSD3.Interpreter.D3 (line 281, column 34 - line 289, column 105): " + [ attr.constructor.name ]);
                                })(attrs)();
                                return PSD3_Internal_Transition_FFI.transitionRemove_(transition)();
                            };
                        };
                    })(paired);
                };
            };
        };
    },
    Monad0: function () {
        return monadD3v2M;
    }
};
export {
    runD3v2M,
    reselectD3v2,
    queryAllD3v2,
    getElementsD3v2,
    functorD3v2M,
    applyD3v2M,
    applicativeD3v2M,
    bindD3v2M,
    monadD3v2M,
    monadEffectD3v2M,
    selectionMD3v2Selection_D,
    transitionMD3v2Selection_
};
//# sourceMappingURL=index.js.map
