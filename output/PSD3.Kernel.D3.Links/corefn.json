{"builtWith":"0.15.15","comments":[{"LineComment":" | Link Operations for Force Simulations"},{"LineComment":" |"},{"LineComment":" | Functions for working with links in force-directed graphs:"},{"LineComment":" | - Swizzling: converting index-based links to node-reference links"},{"LineComment":" | - Filtering: selecting links for node subsets"},{"LineComment":" |"},{"LineComment":" | These operations are essential for:"},{"LineComment":" | - Rendering (need node references to read x,y positions)"},{"LineComment":" | - GUP patterns (filtering to visible nodes)"},{"LineComment":" | - Dynamic graph updates"},{"LineComment":" |"},{"LineComment":" | PERFORMANCE: Hot-path functions use FFI-backed O(1) Set/Map lookups"},{"LineComment":" | instead of O(n) array scans to handle 1000+ node graphs at 60fps."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,77],"start":[117,75]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[117,84],"start":[117,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,82],"start":[117,78]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[117,84],"start":[117,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[180,37],"start":[180,34]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[180,46],"start":[180,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,62],"start":[181,60]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[181,96],"start":[181,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,48],"start":[149,5]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[149,48],"start":[149,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,9],"start":[151,5]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[151,46],"start":[151,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[114,50],"start":[114,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,50],"start":[114,1]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,50],"start":[114,1]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[117,85],"start":[115,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,50],"start":[114,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,42],"start":[115,31]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,46],"start":[115,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,46],"start":[115,43]}},"type":"Var","value":{"identifier":"arr","sourcePos":[115,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,48],"start":[115,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,48],"start":[115,47]}},"type":"Var","value":{"identifier":"i","sourcePos":[115,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,85],"start":[115,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[116,9],"start":[116,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,9],"start":[116,8]}},"binderType":"VarBinder","identifier":"x"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,14],"start":[116,13]}},"type":"Var","value":{"identifier":"x","sourcePos":[116,8]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[117,10],"start":[117,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,29],"start":[117,14]}},"type":"Var","value":{"identifier":"unsafeCrashWith","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,85],"start":[117,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,84],"start":[117,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,74],"start":[117,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"swizzleLinks: Array index out of bounds: "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,84],"start":[117,31]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,84],"start":[117,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,84],"start":[117,83]}},"type":"Var","value":{"identifier":"i","sourcePos":[115,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,50],"start":[114,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"unsafeArrayIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[99,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[99,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[99,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[99,1]}},"argument":"transform","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[106,35],"start":[106,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[108,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[108,3]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[108,3]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[109,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[110,49],"start":[110,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[110,31],"start":[110,15]}},"type":"Var","value":{"identifier":"unsafeArrayIndex","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,37],"start":[110,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,37],"start":[110,32]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[105,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,49],"start":[110,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,49],"start":[110,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,42],"start":[110,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[108,3]}},"fieldName":"target","type":"Accessor"},"type":"App"},"identifier":"tgt"},{"annotation":{"meta":null,"sourceSpan":{"end":[109,49],"start":[109,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[109,31],"start":[109,15]}},"type":"Var","value":{"identifier":"unsafeArrayIndex","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,37],"start":[109,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,37],"start":[109,32]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[105,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,49],"start":[109,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,49],"start":[109,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,42],"start":[109,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[108,3]}},"fieldName":"source","type":"Accessor"},"type":"App"},"identifier":"src"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[111,17],"start":[111,8]}},"type":"Var","value":{"identifier":"transform","sourcePos":[105,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[111,21],"start":[111,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,21],"start":[111,18]}},"type":"Var","value":{"identifier":"src","sourcePos":[109,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,25],"start":[111,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,25],"start":[111,22]}},"type":"Var","value":{"identifier":"tgt","sourcePos":[110,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,27],"start":[111,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,27],"start":[111,26]}},"type":"Var","value":{"identifier":"i","sourcePos":[108,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[111,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[111,28]}},"type":"Var","value":{"identifier":"link","sourcePos":[108,3]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"swizzle"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[106,21],"start":[106,3]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[106,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[106,22]}},"type":"Var","value":{"identifier":"swizzle","sourcePos":[108,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,35],"start":[106,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,35],"start":[106,30]}},"type":"Var","value":{"identifier":"links","sourcePos":[105,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"swizzleLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[66,53],"start":[66,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[66,53],"start":[66,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,53],"start":[66,1]}},"argument":"m","body":{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[68,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[68,29],"start":[68,16]}},"type":"Var","value":{"identifier":"intMapLookup_","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,33],"start":[68,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,33],"start":[68,30]}},"type":"Var","value":{"identifier":"key","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,34]}},"type":"Var","value":{"identifier":"m","sourcePos":[67,1]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[69,35],"start":[69,28]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[69,45],"start":[69,41]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,46]}},"type":"Var","value":{"identifier":"result","sourcePos":[68,7]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[69,15],"start":[69,9]}},"type":"Var","value":{"identifier":"isNull","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,22],"start":[69,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,22],"start":[69,16]}},"type":"Var","value":{"identifier":"result","sourcePos":[68,7]}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"intMapLookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[177,55],"start":[172,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,55],"start":[172,1]}},"argument":"getIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[177,55],"start":[172,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[177,55],"start":[172,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[180,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[180,53],"start":[180,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[180,32],"start":[180,21]}},"type":"Var","value":{"identifier":"buildIntSet","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,53],"start":[180,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,46],"start":[180,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,46],"start":[180,38]}},"type":"Var","value":{"identifier":"getIndex","sourcePos":[178,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,47]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[178,1]}},"type":"App"},"type":"App"},"identifier":"nodeIndices"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,18],"start":[181,6]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,97],"start":[181,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,96],"start":[181,20]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,96],"start":[181,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,38],"start":[181,26]}},"type":"Var","value":{"identifier":"intSetMember","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,47],"start":[181,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,47],"start":[181,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,40],"start":[181,39]}},"type":"Var","value":{"identifier":"l","sourcePos":[181,21]}},"fieldName":"source","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,59],"start":[181,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,59],"start":[181,48]}},"type":"Var","value":{"identifier":"nodeIndices","sourcePos":[180,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,96],"start":[181,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,75],"start":[181,63]}},"type":"Var","value":{"identifier":"intSetMember","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,84],"start":[181,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,84],"start":[181,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,77],"start":[181,76]}},"type":"Var","value":{"identifier":"l","sourcePos":[181,21]}},"fieldName":"target","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,96],"start":[181,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,96],"start":[181,85]}},"type":"Var","value":{"identifier":"nodeIndices","sourcePos":[180,7]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[181,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[181,98]}},"type":"Var","value":{"identifier":"links","sourcePos":[178,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"filterLinksToSubset"},{"annotation":{"meta":null,"sourceSpan":{"end":[59,71],"start":[59,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,71],"start":[59,1]}},"argument":"getIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[59,71],"start":[59,1]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[60,42],"start":[60,30]}},"type":"Var","value":{"identifier":"buildIntMap_","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,92],"start":[60,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,85],"start":[60,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,84],"start":[60,49]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[60,84],"start":[60,55]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["key",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[60,70],"start":[60,62]}},"type":"Var","value":{"identifier":"getIndex","sourcePos":[60,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,72],"start":[60,62]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,72],"start":[60,71]}},"type":"Var","value":{"identifier":"n","sourcePos":[60,50]}},"type":"App"}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[60,82],"start":[60,81]}},"type":"Var","value":{"identifier":"n","sourcePos":[60,50]}}]]}},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,91],"start":[60,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,91],"start":[60,86]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[60,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"buildIntMap"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[135,1]}},"argument":"getIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[135,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[135,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[135,1]}},"argument":"transform","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[146,36],"start":[144,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[151,46],"start":[148,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,46],"start":[148,3]}},"argument":"nodeMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[151,46],"start":[148,3]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,48],"start":[149,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[149,28],"start":[149,16]}},"type":"Var","value":{"identifier":"intMapLookup","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,40],"start":[149,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,40],"start":[149,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,33],"start":[149,29]}},"type":"Var","value":{"identifier":"link","sourcePos":[148,3]}},"fieldName":"source","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,48],"start":[149,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,48],"start":[149,41]}},"type":"Var","value":{"identifier":"nodeMap","sourcePos":[148,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,48],"start":[149,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,48],"start":[149,5]}},"argument":"srcNode","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,48],"start":[150,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[150,28],"start":[150,16]}},"type":"Var","value":{"identifier":"intMapLookup","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[150,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[150,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,33],"start":[150,29]}},"type":"Var","value":{"identifier":"link","sourcePos":[148,3]}},"fieldName":"target","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,48],"start":[150,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,48],"start":[150,41]}},"type":"Var","value":{"identifier":"nodeMap","sourcePos":[148,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,48],"start":[150,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,48],"start":[150,5]}},"argument":"tgtNode","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,46],"start":[151,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,46],"start":[151,10]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["src",{"annotation":{"meta":null,"sourceSpan":{"end":[151,24],"start":[151,17]}},"type":"Var","value":{"identifier":"srcNode","sourcePos":[149,5]}}],["tgt",{"annotation":{"meta":null,"sourceSpan":{"end":[151,38],"start":[151,31]}},"type":"Var","value":{"identifier":"tgtNode","sourcePos":[150,5]}}],["link",{"annotation":{"meta":null,"sourceSpan":{"end":[151,44],"start":[151,40]}},"type":"Var","value":{"identifier":"link","sourcePos":[148,3]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"swizzle"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,3]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,3]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,12],"start":[153,11]}},"binderType":"VarBinder","identifier":"i1"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,31],"start":[153,13]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["src",{"annotation":{"meta":null,"sourceSpan":{"end":[153,18],"start":[153,15]}},"binderType":"VarBinder","identifier":"src"}],["tgt",{"annotation":{"meta":null,"sourceSpan":{"end":[153,23],"start":[153,20]}},"binderType":"VarBinder","identifier":"tgt"}],["link",{"annotation":{"meta":null,"sourceSpan":{"end":[153,29],"start":[153,25]}},"binderType":"VarBinder","identifier":"link"}]]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[153,43],"start":[153,34]}},"type":"Var","value":{"identifier":"transform","sourcePos":[142,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,47],"start":[153,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,47],"start":[153,44]}},"type":"Var","value":{"identifier":"src","sourcePos":[153,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,51],"start":[153,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,51],"start":[153,48]}},"type":"Var","value":{"identifier":"tgt","sourcePos":[153,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,53],"start":[153,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,53],"start":[153,52]}},"type":"Var","value":{"identifier":"i1","sourcePos":[153,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,54]}},"type":"Var","value":{"identifier":"link","sourcePos":[153,25]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,3]}},"type":"Var","value":{"identifier":"i","sourcePos":[153,11]}},{"annotation":{"meta":null,"sourceSpan":{"end":[153,58],"start":[153,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"reindex"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,36],"start":[144,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[144,28],"start":[144,17]}},"type":"Var","value":{"identifier":"buildIntMap","moduleName":["PSD3","Kernel","D3","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,37],"start":[144,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,37],"start":[144,29]}},"type":"Var","value":{"identifier":"getIndex","sourcePos":[142,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,38]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[142,1]}},"type":"App"},"identifier":"nodeMap"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,28],"start":[146,10]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,36],"start":[146,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,36],"start":[146,29]}},"type":"Var","value":{"identifier":"reindex","sourcePos":[153,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,36],"start":[145,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,20],"start":[145,6]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,38],"start":[145,6]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[145,29],"start":[145,22]}},"type":"Var","value":{"identifier":"swizzle","sourcePos":[148,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,37],"start":[145,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,37],"start":[145,30]}},"type":"Var","value":{"identifier":"nodeMap","sourcePos":[144,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,44],"start":[145,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,44],"start":[145,39]}},"type":"Var","value":{"identifier":"links","sourcePos":[142,1]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"swizzleLinksByIndex"}],"exports":["swizzleLinks","swizzleLinksByIndex","filterLinksToSubset","buildIntSet","intSetMember","buildIntMap","intMapLookup","buildStringSet","stringSetMember"],"foreign":["buildIntSet","intSetMember","buildIntMap_","intMapLookup_","isNull","buildStringSet","stringSetMember"],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["PSD3","Kernel","D3","Links"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Partial","Unsafe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[33,15],"start":[33,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[181,103],"start":[14,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","Kernel","D3","Links"],"modulePath":"../purescript-psd3-d3-kernel/src/PSD3/Kernel/D3/Links.purs","reExports":{},"sourceSpan":{"end":[181,103],"start":[14,1]}}