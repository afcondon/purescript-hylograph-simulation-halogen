{"builtWith":"0.15.15","comments":[{"LineComment":" | Link Operations for Force Simulations"},{"LineComment":" |"},{"LineComment":" | Functions for working with links in force-directed graphs:"},{"LineComment":" | - Swizzling: converting index-based links to node-reference links"},{"LineComment":" | - Filtering: selecting links for node subsets"},{"LineComment":" |"},{"LineComment":" | These operations are essential for:"},{"LineComment":" | - Rendering (need node references to read x,y positions)"},{"LineComment":" | - GUP patterns (filtering to visible nodes)"},{"LineComment":" | - Dynamic graph updates"},{"LineComment":" |"},{"LineComment":" | PERFORMANCE: Hot-path functions use FFI-backed O(1) Set/Map lookups"},{"LineComment":" | instead of O(n) array scans to handle 1000+ node graphs at 60fps."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,77],"start":[126,75]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,84],"start":[126,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,82],"start":[126,78]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,84],"start":[126,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,37],"start":[189,34]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[189,46],"start":[189,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,62],"start":[190,60]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[190,96],"start":[190,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[158,48],"start":[158,5]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[158,48],"start":[158,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,9],"start":[160,5]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[160,46],"start":[160,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[123,50],"start":[123,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,50],"start":[123,1]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[123,50],"start":[123,1]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,85],"start":[124,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[123,50],"start":[123,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,42],"start":[124,31]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,43]}},"type":"Var","value":{"identifier":"arr","sourcePos":[124,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,48],"start":[124,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,48],"start":[124,47]}},"type":"Var","value":{"identifier":"i","sourcePos":[124,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,85],"start":[124,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[125,9],"start":[125,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,9],"start":[125,8]}},"binderType":"VarBinder","identifier":"x"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,14],"start":[125,13]}},"type":"Var","value":{"identifier":"x","sourcePos":[125,8]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[126,10],"start":[126,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,29],"start":[126,14]}},"type":"Var","value":{"identifier":"unsafeCrashWith","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,85],"start":[126,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,84],"start":[126,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,74],"start":[126,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"swizzleLinks: Array index out of bounds: "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,84],"start":[126,31]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,84],"start":[126,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,84],"start":[126,83]}},"type":"Var","value":{"identifier":"i","sourcePos":[124,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[123,50],"start":[123,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"unsafeArrayIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[108,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[108,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[108,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[108,1]}},"argument":"transform","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[115,35],"start":[115,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[117,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[117,3]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[117,3]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[118,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[119,49],"start":[119,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,15]}},"type":"Var","value":{"identifier":"unsafeArrayIndex","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,37],"start":[119,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,37],"start":[119,32]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[114,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,49],"start":[119,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,49],"start":[119,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,42],"start":[119,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[117,3]}},"fieldName":"target","type":"Accessor"},"type":"App"},"identifier":"tgt"},{"annotation":{"meta":null,"sourceSpan":{"end":[118,49],"start":[118,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[118,31],"start":[118,15]}},"type":"Var","value":{"identifier":"unsafeArrayIndex","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,37],"start":[118,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,37],"start":[118,32]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[114,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,49],"start":[118,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,49],"start":[118,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,42],"start":[118,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[117,3]}},"fieldName":"source","type":"Accessor"},"type":"App"},"identifier":"src"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[120,17],"start":[120,8]}},"type":"Var","value":{"identifier":"transform","sourcePos":[114,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,21],"start":[120,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,21],"start":[120,18]}},"type":"Var","value":{"identifier":"src","sourcePos":[118,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,25],"start":[120,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,25],"start":[120,22]}},"type":"Var","value":{"identifier":"tgt","sourcePos":[119,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,27],"start":[120,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,27],"start":[120,26]}},"type":"Var","value":{"identifier":"i","sourcePos":[117,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[120,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[120,28]}},"type":"Var","value":{"identifier":"link","sourcePos":[117,3]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"swizzle"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,21],"start":[115,3]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,29],"start":[115,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,29],"start":[115,22]}},"type":"Var","value":{"identifier":"swizzle","sourcePos":[117,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,35],"start":[115,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,35],"start":[115,30]}},"type":"Var","value":{"identifier":"links","sourcePos":[114,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"swizzleLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[66,53],"start":[66,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[66,53],"start":[66,1]}},"argument":"key","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,53],"start":[66,1]}},"argument":"m","body":{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[68,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[68,29],"start":[68,16]}},"type":"Var","value":{"identifier":"intMapLookup_","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,33],"start":[68,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,33],"start":[68,30]}},"type":"Var","value":{"identifier":"key","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,34]}},"type":"Var","value":{"identifier":"m","sourcePos":[67,1]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[69,35],"start":[69,28]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[69,45],"start":[69,41]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,52],"start":[69,46]}},"type":"Var","value":{"identifier":"result","sourcePos":[68,7]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[69,15],"start":[69,9]}},"type":"Var","value":{"identifier":"isNull","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,22],"start":[69,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,22],"start":[69,16]}},"type":"Var","value":{"identifier":"result","sourcePos":[68,7]}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"intMapLookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[186,55],"start":[181,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,55],"start":[181,1]}},"argument":"getIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[186,55],"start":[181,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[186,55],"start":[181,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[189,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[189,53],"start":[189,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,32],"start":[189,21]}},"type":"Var","value":{"identifier":"buildIntSet","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,53],"start":[189,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,46],"start":[189,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,46],"start":[189,38]}},"type":"Var","value":{"identifier":"getIndex","sourcePos":[187,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,52],"start":[189,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,52],"start":[189,47]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[187,1]}},"type":"App"},"type":"App"},"identifier":"nodeIndices"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,18],"start":[190,6]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,97],"start":[190,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,96],"start":[190,20]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,96],"start":[190,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,38],"start":[190,26]}},"type":"Var","value":{"identifier":"intSetMember","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,47],"start":[190,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,47],"start":[190,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,40],"start":[190,39]}},"type":"Var","value":{"identifier":"l","sourcePos":[190,21]}},"fieldName":"source","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,59],"start":[190,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,59],"start":[190,48]}},"type":"Var","value":{"identifier":"nodeIndices","sourcePos":[189,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,96],"start":[190,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,75],"start":[190,63]}},"type":"Var","value":{"identifier":"intSetMember","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,84],"start":[190,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,84],"start":[190,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,77],"start":[190,76]}},"type":"Var","value":{"identifier":"l","sourcePos":[190,21]}},"fieldName":"target","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,96],"start":[190,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,96],"start":[190,85]}},"type":"Var","value":{"identifier":"nodeIndices","sourcePos":[189,7]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[190,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[190,98]}},"type":"Var","value":{"identifier":"links","sourcePos":[187,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"filterLinksToSubset"},{"annotation":{"meta":null,"sourceSpan":{"end":[59,71],"start":[59,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,71],"start":[59,1]}},"argument":"getIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[59,71],"start":[59,1]}},"argument":"nodes","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[60,42],"start":[60,30]}},"type":"Var","value":{"identifier":"buildIntMap_","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,92],"start":[60,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,85],"start":[60,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,84],"start":[60,49]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[60,84],"start":[60,55]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["key",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[60,70],"start":[60,62]}},"type":"Var","value":{"identifier":"getIndex","sourcePos":[60,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,72],"start":[60,62]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,72],"start":[60,71]}},"type":"Var","value":{"identifier":"n","sourcePos":[60,50]}},"type":"App"}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[60,82],"start":[60,81]}},"type":"Var","value":{"identifier":"n","sourcePos":[60,50]}}]]}},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,91],"start":[60,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,91],"start":[60,86]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[60,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"buildIntMap"},{"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[144,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[144,1]}},"argument":"getIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[144,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[144,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[144,1]}},"argument":"transform","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[155,36],"start":[153,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,46],"start":[157,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,46],"start":[157,3]}},"argument":"nodeMap","body":{"annotation":{"meta":null,"sourceSpan":{"end":[160,46],"start":[157,3]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[158,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[158,28],"start":[158,16]}},"type":"Var","value":{"identifier":"intMapLookup","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[158,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,40],"start":[158,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,33],"start":[158,29]}},"type":"Var","value":{"identifier":"link","sourcePos":[157,3]}},"fieldName":"source","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[158,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[158,41]}},"type":"Var","value":{"identifier":"nodeMap","sourcePos":[157,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[158,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[158,5]}},"argument":"srcNode","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[159,28],"start":[159,16]}},"type":"Var","value":{"identifier":"intMapLookup","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,40],"start":[159,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,40],"start":[159,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,33],"start":[159,29]}},"type":"Var","value":{"identifier":"link","sourcePos":[157,3]}},"fieldName":"target","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,41]}},"type":"Var","value":{"identifier":"nodeMap","sourcePos":[157,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,48],"start":[159,5]}},"argument":"tgtNode","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,46],"start":[160,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,46],"start":[160,10]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["src",{"annotation":{"meta":null,"sourceSpan":{"end":[160,24],"start":[160,17]}},"type":"Var","value":{"identifier":"srcNode","sourcePos":[158,5]}}],["tgt",{"annotation":{"meta":null,"sourceSpan":{"end":[160,38],"start":[160,31]}},"type":"Var","value":{"identifier":"tgtNode","sourcePos":[159,5]}}],["link",{"annotation":{"meta":null,"sourceSpan":{"end":[160,44],"start":[160,40]}},"type":"Var","value":{"identifier":"link","sourcePos":[157,3]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"swizzle"},{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,3]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,3]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,12],"start":[162,11]}},"binderType":"VarBinder","identifier":"i1"},{"annotation":{"meta":null,"sourceSpan":{"end":[162,31],"start":[162,13]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["src",{"annotation":{"meta":null,"sourceSpan":{"end":[162,18],"start":[162,15]}},"binderType":"VarBinder","identifier":"src"}],["tgt",{"annotation":{"meta":null,"sourceSpan":{"end":[162,23],"start":[162,20]}},"binderType":"VarBinder","identifier":"tgt"}],["link",{"annotation":{"meta":null,"sourceSpan":{"end":[162,29],"start":[162,25]}},"binderType":"VarBinder","identifier":"link"}]]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[162,43],"start":[162,34]}},"type":"Var","value":{"identifier":"transform","sourcePos":[151,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,47],"start":[162,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,47],"start":[162,44]}},"type":"Var","value":{"identifier":"src","sourcePos":[162,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,51],"start":[162,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,51],"start":[162,48]}},"type":"Var","value":{"identifier":"tgt","sourcePos":[162,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[162,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[162,52]}},"type":"Var","value":{"identifier":"i1","sourcePos":[162,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,54]}},"type":"Var","value":{"identifier":"link","sourcePos":[162,25]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,3]}},"type":"Var","value":{"identifier":"i","sourcePos":[162,11]}},{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"reindex"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,36],"start":[153,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,43],"start":[153,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[153,28],"start":[153,17]}},"type":"Var","value":{"identifier":"buildIntMap","moduleName":["PSD3","ForceEngine","Links"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,37],"start":[153,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,37],"start":[153,29]}},"type":"Var","value":{"identifier":"getIndex","sourcePos":[151,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,43],"start":[153,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,43],"start":[153,38]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[151,1]}},"type":"App"},"identifier":"nodeMap"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,28],"start":[155,10]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,36],"start":[155,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,36],"start":[155,29]}},"type":"Var","value":{"identifier":"reindex","sourcePos":[162,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,36],"start":[154,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,20],"start":[154,6]}},"type":"Var","value":{"identifier":"mapMaybe","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,38],"start":[154,6]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[154,29],"start":[154,22]}},"type":"Var","value":{"identifier":"swizzle","sourcePos":[157,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,37],"start":[154,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,37],"start":[154,30]}},"type":"Var","value":{"identifier":"nodeMap","sourcePos":[153,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,44],"start":[154,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,44],"start":[154,39]}},"type":"Var","value":{"identifier":"links","sourcePos":[151,1]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"swizzleLinksByIndex"}],"exports":["swizzleLinks","swizzleLinksByIndex","filterLinksToSubset","buildIntSet","intSetMember","buildIntMap","intMapLookup","buildStringSet","stringSetMember"],"foreign":["buildIntSet","intSetMember","buildIntMap_","intMapLookup_","isNull","buildStringSet","stringSetMember"],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["PSD3","ForceEngine","Links"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Partial","Unsafe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[33,15],"start":[33,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[190,103],"start":[14,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","ForceEngine","Links"],"modulePath":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Links.purs","reExports":{},"sourceSpan":{"end":[190,103],"start":[14,1]}}