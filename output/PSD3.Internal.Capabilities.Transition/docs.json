{"comments":null,"declarations":[{"children":[{"comments":"Apply a transition to a bound selection\n\nThis animates the selection from its current state to the state\ndefined by the provided attributes, over the specified duration.\n\nType Safety:\n- Only works with SBoundOwns selections (selections with data)\n- Attributes must match the selection's datum type\n- Transition config specifies timing (duration, delay, easing)\n\nExample:\n```purescript\nwithTransition (transition (Milliseconds 1500.0)) circles\n  [ fill \"red\"\n  , cx 100.0\n  , radius 25.0\n  ]\n```\n\nWith easing and delay:\n```purescript\nlet config = transitionWith\n      { duration: Milliseconds 2000.0\n      , delay: Just (Milliseconds 500.0)\n      , easing: Just ElasticOut\n      }\nwithTransition config circles [radius 30.0]\n```\n","info":{"declType":"typeClassMember","type":{"annotation":[],"contents":{"identifier":"datum","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Transition","Types"],"TransitionConfig"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":"sel","tag":"TypeVar"},{"annotation":[],"contents":[["PSD3","Internal","Selection","Types"],"SBoundOwns"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Web","DOM","Internal","Types"],"Element"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"Attribute"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":"m","tag":"TypeVar"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"sourceSpan":{"end":[84,14],"name":"../purescript-psd3-selection/src/PSD3/Internal/Capabilities/Transition.purs","start":[79,3]},"title":"withTransition"},{"comments":"Apply a transition to an exiting selection\n\nSimilar to withTransition but works with selections in the exit phase.\nUseful for animating elements before they are removed (e.g., fade out, slide out).\n","info":{"declType":"typeClassMember","type":{"annotation":[],"contents":{"identifier":"datum","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Transition","Types"],"TransitionConfig"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":"sel","tag":"TypeVar"},{"annotation":[],"contents":[["PSD3","Internal","Selection","Types"],"SExiting"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Web","DOM","Internal","Types"],"Element"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"Attribute"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":"m","tag":"TypeVar"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"sourceSpan":{"end":[95,14],"name":"../purescript-psd3-selection/src/PSD3/Internal/Capabilities/Transition.purs","start":[90,3]},"title":"withTransitionExit"},{"comments":"Apply a transition with per-element staggered delays\n\nLike withTransition but allows the delay to be computed dynamically\nbased on each element's datum and index. This is essential for creating\nstaggered animations where elements animate in sequence.\n\nThe delay function receives (datum, index) and returns the delay in milliseconds.\nThe config.delay field is ignored in favor of the function.\n\nExample:\n```purescript\n-- Each element delays 100ms more than the previous\nwithTransitionStaggered config (\\_ i -> Milliseconds (toNumber i * 100.0)) circles\n  [ cy 50.0\n  , fill \"red\"\n  ]\n\n-- Delay based on data value\nwithTransitionStaggered config (\\d _ -> Milliseconds d.priority) items\n  [ opacity 1.0 ]\n```\n","info":{"declType":"typeClassMember","type":{"annotation":[],"contents":{"identifier":"datum","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Transition","Types"],"TransitionConfig"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Data","Time","Duration"],"Milliseconds"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":"sel","tag":"TypeVar"},{"annotation":[],"contents":[["PSD3","Internal","Selection","Types"],"SBoundOwns"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Web","DOM","Internal","Types"],"Element"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"Attribute"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":"m","tag":"TypeVar"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"sourceSpan":{"end":[124,14],"name":"../purescript-psd3-selection/src/PSD3/Internal/Capabilities/Transition.purs","start":[118,3]},"title":"withTransitionStaggered"},{"comments":"Apply a staggered transition to an exiting selection\n\nLike withTransitionExit but with per-element delays for choreographed exit animations.\n","info":{"declType":"typeClassMember","type":{"annotation":[],"contents":{"identifier":"datum","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["PSD3","Internal","Transition","Types"],"TransitionConfig"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Data","Time","Duration"],"Milliseconds"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":"sel","tag":"TypeVar"},{"annotation":[],"contents":[["PSD3","Internal","Selection","Types"],"SExiting"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Web","DOM","Internal","Types"],"Element"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["PSD3","Internal","Attribute"],"Attribute"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":"m","tag":"TypeVar"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"sourceSpan":{"end":[135,14],"name":"../purescript-psd3-selection/src/PSD3/Internal/Capabilities/Transition.purs","start":[129,3]},"title":"withTransitionExitStaggered"}],"comments":"Type class for transition operations\n\nThis capability is separate from SelectionM to allow interpreters\nto choose whether to support animated transitions.\n\nDifferent interpreters can provide different implementations:\n- D3v2: Uses D3's transition engine for smooth animations\n- String: Could output CSS transitions or ignore transitions\n- Meta: Could record transition metadata\n- Music: Could create audio transitions\n\nThe phantom type parameter (SBound) ensures that only bound selections\n(selections with data) can be transitioned, providing compile-time safety.\n\nExample user code:\n```purescript\nanimateCircles :: forall m sel. SelectionM sel m => TransitionM sel m => m Unit\nanimateCircles = do\n  svg <- select \"svg\"\n  circles <- renderData Circle [1, 2, 3] \"circle\" svg\n    (Just \\_ -> [fill \"green\", radius 10.0])\n    Nothing\n    Nothing\n\n  -- Animate to new state\n  withTransition (transition (Milliseconds 1000.0)) circles\n    [ fill \"orange\"\n    , radius 20.0\n    ]\n```\n","info":{"arguments":[["sel",null],["m",null]],"declType":"typeClass","fundeps":[[["m"],["sel"]]],"superclasses":[{"constraintAnn":[],"constraintArgs":[{"annotation":[],"contents":"m","tag":"TypeVar"}],"constraintClass":[["Control","Monad"],"Monad"],"constraintData":null,"constraintKindArgs":[]}]},"kind":{"keyword":"class","kind":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Type"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Type"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Type"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Type"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Type"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Type"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Constraint"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[135,14],"name":"../purescript-psd3-selection/src/PSD3/Internal/Capabilities/Transition.purs","start":[49,1]},"title":"TransitionM"},{"children":[],"comments":"Helper to create a simple index-based stagger delay\n\nCreates a delay function that multiplies the index by a fixed amount.\nUseful for simple sequential animations.\n\nExample:\n```purescript\n-- Each element delays 50ms more than the previous\nwithTransitionStaggered config (staggerByIndex 50.0) circles [cy 100.0]\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"datum","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"datum","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Data","Time","Duration"],"Milliseconds"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[147,71],"name":"../purescript-psd3-selection/src/PSD3/Internal/Capabilities/Transition.purs","start":[147,1]},"title":"staggerByIndex"}],"name":"PSD3.Internal.Capabilities.Transition","reExports":[]}