{"builtWith":"0.15.15","comments":[{"LineComment":" | DataViz.Layout.Sankey.Compute"},{"LineComment":" |"},{"LineComment":" | Pure PureScript implementation of Sankey diagram layout computation."},{"LineComment":" | Uses State monad to thread graph model through all layout functions."},{"LineComment":" | Starts with Array SankeyLinkInput and generates nodes dynamically."},{"LineComment":" |"},{"LineComment":" | Reference: https://github.com/d3/d3-sankey (ISC License)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,18],"start":[128,10]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[128,22],"start":[128,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"lookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,35],"start":[130,25]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[130,39],"start":[130,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"insert"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,36],"start":[125,28]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[125,40],"start":[125,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"insert1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindStateT","moduleName":["Control","Monad","State","Trans"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[135,15],"start":[135,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"bindStateT"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,15],"start":[135,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[135,15],"start":[135,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadStateStateT","moduleName":["Control","Monad","State","Trans"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[135,15],"start":[135,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"monadStateStateT"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,15],"start":[135,12]}},"type":"Var","value":{"identifier":"get","moduleName":["Control","Monad","State","Class"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[135,15],"start":[135,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadStateStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"get"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[140,17],"start":[140,9]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[140,24],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lookup1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,41],"start":[149,40]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[149,43],"start":[149,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,10],"start":[156,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Control","Monad","State","Class"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[166,6],"start":[156,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadStateStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"modify_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[159,30],"start":[159,22]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[159,37],"start":[159,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"insert2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[161,37],"start":[161,35]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[161,46],"start":[161,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[480,40],"start":[480,39]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[480,43],"start":[480,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[481,65],"start":[481,64]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[481,76],"start":[481,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[493,46],"start":[493,45]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[493,83],"start":[493,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[493,27],"start":[493,26]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[493,43],"start":[493,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[462,26],"start":[462,25]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[462,30],"start":[462,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[464,19],"start":[464,16]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[464,33],"start":[464,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[468,37],"start":[468,34]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[468,37],"start":[468,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[431,39],"start":[431,36]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[431,43],"start":[431,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[434,41],"start":[434,39]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[434,50],"start":[434,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[890,43],"start":[890,41]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[890,54],"start":[890,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"eq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[692,57],"start":[692,55]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[692,81],"start":[692,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupOrdering","moduleName":["Data","Ordering"]}},"type":"App"},"identifier":"append1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[692,42],"start":[692,35]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[692,48],"start":[692,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"compare"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[692,65],"start":[692,58]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[692,73],"start":[692,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordLinkID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"compare1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[863,18],"start":[863,16]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[863,20],"start":[863,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[827,18],"start":[827,17]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[827,20],"start":[827,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[850,26],"start":[850,25]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[850,28],"start":[850,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[794,24],"start":[794,23]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[794,26],"start":[794,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[632,39],"start":[632,36]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[632,43],"start":[632,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[514,21],"start":[514,19]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[514,23],"start":[514,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[265,15],"start":[265,14]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[265,25],"start":[265,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,30],"start":[271,20]}},"type":"Var","value":{"identifier":"member","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[271,41],"start":[271,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"member"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[279,64],"start":[279,55]}},"type":"Var","value":{"identifier":"union","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[279,68],"start":[279,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"union"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[258,40],"start":[258,24]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[258,40],"start":[258,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[258,40],"start":[258,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[988,48],"start":[988,46]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[988,59],"start":[988,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqLinkID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"eq2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[917,48],"start":[917,7]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[917,48],"start":[917,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[917,48],"start":[917,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"discard1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[918,11],"start":[918,7]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[918,22],"start":[918,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[918,22],"start":[918,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[924,26],"start":[924,24]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[924,85],"start":[924,81]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[924,93],"start":[924,81]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showNumber","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[925,23],"start":[925,19]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[925,28],"start":[925,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1066,61],"start":[1066,58]}},"type":"Var","value":{"identifier":"mod","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[1066,76],"start":[1066,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"mod"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1087,60],"start":[1087,56]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[1087,64],"start":[1087,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[420,13],"start":[420,10]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[420,44],"start":[420,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[366,33],"start":[366,31]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[366,43],"start":[366,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq3"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,44],"start":[103,37]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[103,51],"start":[103,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"compare2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeStateT","moduleName":["Control","Monad","State","Trans"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[117,14],"start":[117,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"applicativeStateT"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,9],"start":[117,5]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[117,14],"start":[117,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"pure1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[68,35],"start":[68,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"discard2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[68,9],"start":[68,5]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[68,20],"start":[68,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[68,20],"start":[68,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_1"},{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,1]}},"argument":"sid","body":{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,1]}},"argument":"tid","body":{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,1]}},"argument":"deps","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[125,55],"start":[125,28]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[127,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[128,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,22],"start":[128,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,22],"start":[128,19]}},"type":"Var","value":{"identifier":"sid","sourcePos":[125,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,27],"start":[128,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,27],"start":[128,23]}},"type":"Var","value":{"identifier":"deps","sourcePos":[125,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[128,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[129,14],"start":[129,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,31],"start":[129,18]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,32]}},"type":"Var","value":{"identifier":"tid","sourcePos":[125,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[130,20],"start":[130,8]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,20],"start":[130,13]}},"binderType":"VarBinder","identifier":"targets"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,36]}},"type":"Var","value":{"identifier":"tid","sourcePos":[125,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[130,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[130,40]}},"type":"Var","value":{"identifier":"targets","sourcePos":[130,13]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"identifier":"targetSet"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,37]}},"type":"Var","value":{"identifier":"sid","sourcePos":[125,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,50],"start":[125,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,50],"start":[125,41]}},"type":"Var","value":{"identifier":"targetSet","sourcePos":[127,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,55],"start":[125,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,55],"start":[125,51]}},"type":"Var","value":{"identifier":"deps","sourcePos":[125,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"unionInsert"},{"annotation":{"meta":null,"sourceSpan":{"end":[133,60],"start":[133,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,60],"start":[133,1]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,15],"start":[135,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,15],"start":[135,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,15],"start":[135,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[154,177],"start":[137,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[140,43],"start":[140,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,24],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,24],"start":[140,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,22],"start":[140,18]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,43],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,43],"start":[140,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,30],"start":[140,25]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeNameToID","type":"Accessor"},"type":"App"},"identifier":"t"},{"annotation":{"meta":null,"sourceSpan":{"end":[139,43],"start":[139,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,24],"start":[139,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,24],"start":[139,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,22],"start":[139,18]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"s","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,43],"start":[139,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,43],"start":[139,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,30],"start":[139,25]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeNameToID","type":"Accessor"},"type":"App"},"identifier":"s"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,177],"start":[143,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,60],"start":[133,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,177],"start":[144,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[145,18],"start":[145,10]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,18],"start":[145,15]}},"binderType":"VarBinder","identifier":"sid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[145,30],"start":[145,22]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,30],"start":[145,27]}},"binderType":"VarBinder","identifier":"tid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,65],"start":[146,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,29],"start":[146,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"}],["sid",{"annotation":{"meta":null,"sourceSpan":{"end":[146,44],"start":[146,41]}},"type":"Var","value":{"identifier":"sid","sourcePos":[145,15]}}],["tid",{"annotation":{"meta":null,"sourceSpan":{"end":[146,49],"start":[146,46]}},"type":"Var","value":{"identifier":"tid","sourcePos":[145,27]}}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[146,63],"start":[146,61]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[148,18],"start":[148,10]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,18],"start":[148,15]}},"binderType":"VarBinder","identifier":"sid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[148,28],"start":[148,21]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,117],"start":[149,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,43],"start":[149,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,39],"start":[149,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,43],"start":[149,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,43],"start":[149,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],["sid",{"annotation":{"meta":null,"sourceSpan":{"end":[149,48],"start":[149,45]}},"type":"Var","value":{"identifier":"sid","sourcePos":[148,15]}}],["tid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[149,61],"start":[149,55]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,77],"start":[149,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,77],"start":[149,62]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,67],"start":[149,62]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[149,115],"start":[149,89]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[149,97],"start":[149,91]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,113],"start":[149,91]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,113],"start":[149,98]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,103],"start":[149,98]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[150,16],"start":[150,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[150,27],"start":[150,19]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,27],"start":[150,24]}},"binderType":"VarBinder","identifier":"tid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,122],"start":[151,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,43],"start":[151,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,39],"start":[151,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,29],"start":[151,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,43],"start":[151,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,43],"start":[151,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],["sid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[151,56],"start":[151,50]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,72],"start":[151,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,72],"start":[151,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,62],"start":[151,57]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}],["tid",{"annotation":{"meta":null,"sourceSpan":{"end":[151,82],"start":[151,79]}},"type":"Var","value":{"identifier":"tid","sourcePos":[150,24]}}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[151,120],"start":[151,94]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[151,102],"start":[151,96]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,118],"start":[151,96]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,118],"start":[151,103]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,108],"start":[151,103]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[153,16],"start":[153,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[153,25],"start":[153,18]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,177],"start":[154,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,43],"start":[154,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,39],"start":[154,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,29],"start":[154,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,43],"start":[154,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,43],"start":[154,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"}],["sid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[154,56],"start":[154,50]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,72],"start":[154,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,72],"start":[154,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,62],"start":[154,57]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}],["tid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[154,85],"start":[154,79]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,107],"start":[154,79]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,106],"start":[154,87]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,102],"start":[154,87]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,92],"start":[154,87]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,106],"start":[154,87]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,106],"start":[154,105]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[154,175],"start":[154,119]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[154,127],"start":[154,121]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,143],"start":[154,121]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,143],"start":[154,128]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,133],"start":[154,128]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[154,151],"start":[154,145]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,173],"start":[154,145]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,172],"start":[154,153]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,168],"start":[154,153]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,158],"start":[154,153]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,172],"start":[154,153]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,172],"start":[154,171]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"}]}}]]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[144,13],"start":[144,12]}},"type":"Var","value":{"identifier":"s","sourcePos":[139,5]}},{"annotation":{"meta":null,"sourceSpan":{"end":[144,16],"start":[144,15]}},"type":"Var","value":{"identifier":"t","sourcePos":[140,5]}}],"type":"Case"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,177],"start":[143,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,38],"start":[143,5]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["sid",{"annotation":{"meta":null,"sourceSpan":{"end":[143,10],"start":[143,7]}},"binderType":"VarBinder","identifier":"sid"}],["tid",{"annotation":{"meta":null,"sourceSpan":{"end":[143,15],"start":[143,12]}},"binderType":"VarBinder","identifier":"tid"}],["nodeCount",{"annotation":{"meta":null,"sourceSpan":{"end":[143,26],"start":[143,17]}},"binderType":"VarBinder","identifier":"nodeCount"}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[143,36],"start":[143,28]}},"binderType":"VarBinder","identifier":"newNodes"}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,6],"start":[156,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,6],"start":[156,11]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[166,6],"start":[156,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["linkCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,38],"start":[157,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,34],"start":[157,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,24],"start":[157,19]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"linkCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,38],"start":[157,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,38],"start":[157,37]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],["nodeCount",{"annotation":{"meta":null,"sourceSpan":{"end":[158,28],"start":[158,19]}},"type":"Var","value":{"identifier":"nodeCount","sourcePos":[143,17]}}],["nodeNameToID",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,37],"start":[159,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,37],"start":[159,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,35],"start":[159,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"s","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,41],"start":[159,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,41],"start":[159,38]}},"type":"Var","value":{"identifier":"sid","sourcePos":[143,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,82],"start":[159,22]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,59],"start":[159,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,59],"start":[159,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,57],"start":[159,53]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,63],"start":[159,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,63],"start":[159,60]}},"type":"Var","value":{"identifier":"tid","sourcePos":[143,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,82],"start":[159,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,82],"start":[159,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,69],"start":[159,64]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeNameToID","type":"Accessor"},"type":"App"},"type":"App"}],["nodeIDToName",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,34],"start":[160,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,34],"start":[160,31]}},"type":"Var","value":{"identifier":"sid","sourcePos":[143,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,41],"start":[160,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,41],"start":[160,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,39],"start":[160,35]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"s","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,82],"start":[160,22]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,56],"start":[160,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,56],"start":[160,53]}},"type":"Var","value":{"identifier":"tid","sourcePos":[143,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,61],"start":[160,57]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,82],"start":[160,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,82],"start":[160,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,69],"start":[160,64]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeIDToName","type":"Accessor"},"type":"App"},"type":"App"}],["nodeOrder",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,46],"start":[161,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,34],"start":[161,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,24],"start":[161,19]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"nodeOrder","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,46],"start":[161,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,46],"start":[161,38]}},"type":"Var","value":{"identifier":"newNodes","sourcePos":[143,28]}},"type":"App"}],["deps",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,14]}},"type":"Var","value":{"identifier":"unionInsert","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,29],"start":[162,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,29],"start":[162,26]}},"type":"Var","value":{"identifier":"sid","sourcePos":[143,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,33],"start":[162,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,33],"start":[162,30]}},"type":"Var","value":{"identifier":"tid","sourcePos":[143,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,44],"start":[162,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,44],"start":[162,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,39],"start":[162,34]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"deps","type":"Accessor"},"type":"App"}],["sped",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[163,25],"start":[163,14]}},"type":"Var","value":{"identifier":"unionInsert","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,29],"start":[163,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,29],"start":[163,26]}},"type":"Var","value":{"identifier":"tid","sourcePos":[143,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,33],"start":[163,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,33],"start":[163,30]}},"type":"Var","value":{"identifier":"sid","sourcePos":[143,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,44],"start":[163,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,44],"start":[163,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,39],"start":[163,34]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"sped","type":"Accessor"},"type":"App"}],["sankeyLinks",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,13],"start":[165,9]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,31],"start":[165,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,31],"start":[165,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,19],"start":[165,14]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,126],"start":[165,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,54],"start":[165,34]}},"type":"Var","value":{"identifier":"initialiseSankeyLink","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,126],"start":[165,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,126],"start":[165,55]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["source",{"annotation":{"meta":null,"sourceSpan":{"end":[165,68],"start":[165,65]}},"type":"Var","value":{"identifier":"sid","sourcePos":[143,7]}}],["target",{"annotation":{"meta":null,"sourceSpan":{"end":[165,81],"start":[165,78]}},"type":"Var","value":{"identifier":"tid","sourcePos":[143,12]}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[165,96],"start":[165,90]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,94],"start":[165,90]}},"type":"Var","value":{"identifier":"link","sourcePos":[134,1]}},"fieldName":"v","type":"Accessor"}],["id",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[165,108],"start":[165,102]}},"type":"Var","value":{"identifier":"LinkID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,124],"start":[165,102]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,124],"start":[165,109]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,114],"start":[165,109]}},"type":"Var","value":{"identifier":"model","sourcePos":[135,3]}},"fieldName":"linkCount","type":"Accessor"},"type":"App"}]]}},"type":"App"},"type":"App"}]]},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,60],"start":[133,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"processCSVLink"},{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"argument":"_links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"argument":"_config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"argument":"y1","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[449,15],"start":[429,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[472,86],"start":[472,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[472,86],"start":[472,3]}},"argument":"ky","body":{"annotation":{"meta":null,"sourceSpan":{"end":[472,86],"start":[472,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[472,86],"start":[472,3]}},"argument":"yStart","body":{"annotation":{"meta":null,"sourceSpan":{"end":[472,86],"start":[472,3]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,15],"start":[474,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[488,19],"start":[476,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[476,22],"start":[476,17]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[486,10],"start":[476,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,16],"start":[477,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[485,16],"start":[477,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[485,16],"start":[478,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[480,43],"start":[480,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[480,43],"start":[480,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[480,38],"start":[480,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[480,32],"start":[480,28]}},"type":"Var","value":{"identifier":"node","sourcePos":[477,16]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[480,43],"start":[480,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[480,43],"start":[480,41]}},"type":"Var","value":{"identifier":"ky","sourcePos":[473,3]}},"type":"App"},"identifier":"nodeHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[479,31],"start":[479,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[479,31],"start":[479,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[479,29],"start":[479,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[477,12]}},"fieldName":"y","type":"Accessor"},"identifier":"currentY"},{"annotation":{"meta":null,"sourceSpan":{"end":[481,78],"start":[481,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[481,78],"start":[481,28]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[504,15],"start":[428,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[481,32],"start":[481,28]}},"type":"Var","value":{"identifier":"node","sourcePos":[477,16]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[481,78],"start":[481,28]}},"copy":["value","color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[428,1]}},"type":"ObjectUpdate","updates":[["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[481,48],"start":[481,40]}},"type":"Var","value":{"identifier":"currentY","sourcePos":[479,15]}}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[481,76],"start":[481,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[481,63],"start":[481,55]}},"type":"Var","value":{"identifier":"currentY","sourcePos":[479,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[481,76],"start":[481,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[481,76],"start":[481,66]}},"type":"Var","value":{"identifier":"nodeHeight","sourcePos":[480,15]}},"type":"App"}]]},"type":"Let"},"identifier":"positioned"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[485,16],"start":[483,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[483,34],"start":[483,24]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[483,44],"start":[483,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[483,44],"start":[483,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[483,38],"start":[483,35]}},"type":"Var","value":{"identifier":"acc","sourcePos":[477,12]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[483,55],"start":[483,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[483,55],"start":[483,45]}},"type":"Var","value":{"identifier":"positioned","sourcePos":[481,15]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[484,51],"start":[484,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[484,51],"start":[484,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[484,28],"start":[484,20]}},"type":"Var","value":{"identifier":"currentY","sourcePos":[479,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[484,51],"start":[484,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[484,41],"start":[484,31]}},"type":"Var","value":{"identifier":"nodeHeight","sourcePos":[480,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[484,51],"start":[484,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[484,51],"start":[484,44]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[473,3]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[487,33],"start":[476,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[487,33],"start":[487,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[487,20],"start":[487,18]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[487,31],"start":[487,25]}},"type":"Var","value":{"identifier":"yStart","sourcePos":[473,3]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[488,19],"start":[476,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[488,19],"start":[488,9]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[473,3]}},"type":"App"},"identifier":"stacked"},{"annotation":{"meta":null,"sourceSpan":{"end":[492,24],"start":[492,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[492,24],"start":[492,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[492,22],"start":[492,15]}},"type":"Var","value":{"identifier":"stacked","sourcePos":[476,7]}},"fieldName":"y","type":"Accessor"},"identifier":"lastY"},{"annotation":{"meta":null,"sourceSpan":{"end":[493,83],"start":[493,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,83],"start":[493,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,43],"start":[493,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,43],"start":[493,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[493,25],"start":[493,23]}},"type":"Var","value":{"identifier":"y1","sourcePos":[428,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[493,43],"start":[493,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[493,33],"start":[493,28]}},"type":"Var","value":{"identifier":"lastY","sourcePos":[492,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[493,43],"start":[493,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[493,43],"start":[493,36]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[473,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[493,83],"start":[493,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,82],"start":[493,48]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[493,56],"start":[493,48]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,76],"start":[493,48]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[493,64],"start":[493,58]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[493,75],"start":[493,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[493,75],"start":[493,65]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[473,3]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[493,82],"start":[493,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[493,82],"start":[493,79]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"identifier":"extraSpacing"},{"annotation":{"meta":null,"sourceSpan":{"end":[502,22],"start":[495,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[495,30],"start":[495,18]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[501,10],"start":[495,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[500,66],"start":[496,11]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[500,66],"start":[496,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[500,66],"start":[497,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[498,56],"start":[498,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[498,56],"start":[498,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[498,35],"start":[498,23]}},"type":"Var","value":{"identifier":"extraSpacing","sourcePos":[493,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[498,56],"start":[498,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[498,47],"start":[498,39]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[498,55],"start":[498,39]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[498,54],"start":[498,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[498,50],"start":[498,49]}},"type":"Var","value":{"identifier":"i","sourcePos":[496,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[498,54],"start":[498,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[498,54],"start":[498,53]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"shift"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[500,66],"start":[500,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[504,15],"start":[428,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[500,19],"start":[500,15]}},"type":"Var","value":{"identifier":"node","sourcePos":[496,14]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[500,66],"start":[500,15]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[428,1]}},"type":"ObjectUpdate","updates":[["y0",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[500,42],"start":[500,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[500,34],"start":[500,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[500,31],"start":[500,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[496,14]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[500,42],"start":[500,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[500,42],"start":[500,37]}},"type":"Var","value":{"identifier":"shift","sourcePos":[498,15]}},"type":"App"}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[500,64],"start":[500,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[500,56],"start":[500,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[500,53],"start":[500,49]}},"type":"Var","value":{"identifier":"node","sourcePos":[496,14]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[500,64],"start":[500,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[500,64],"start":[500,59]}},"type":"Var","value":{"identifier":"shift","sourcePos":[498,15]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[502,22],"start":[495,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[502,22],"start":[502,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[502,16],"start":[502,9]}},"type":"Var","value":{"identifier":"stacked","sourcePos":[476,7]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"identifier":"adjusted"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[504,15],"start":[504,7]}},"type":"Var","value":{"identifier":"adjusted","sourcePos":[495,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"positionLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[452,72],"start":[452,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[452,72],"start":[452,3]}},"argument":"layers","body":{"annotation":{"meta":null,"sourceSpan":{"end":[452,72],"start":[452,3]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[452,72],"start":[452,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[469,23],"start":[454,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[455,50],"start":[455,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[455,50],"start":[455,7]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[462,73],"start":[457,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[458,76],"start":[458,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[458,29],"start":[458,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[458,61],"start":[458,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,60],"start":[458,31]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[458,60],"start":[458,31]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[458,60],"start":[458,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,47],"start":[458,44]}},"type":"Var","value":{"identifier":"sum","sourcePos":[458,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[458,60],"start":[458,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,60],"start":[458,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[458,54],"start":[458,50]}},"type":"Var","value":{"identifier":"node","sourcePos":[458,36]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[458,65],"start":[458,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,65],"start":[458,62]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[458,76],"start":[458,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,76],"start":[458,66]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[456,7]}},"type":"App"},"identifier":"totalValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[459,50],"start":[459,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[459,30],"start":[459,22]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[459,50],"start":[459,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[459,38],"start":[459,32]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[459,49],"start":[459,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[459,49],"start":[459,39]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[456,7]}},"type":"App"},"type":"App"},"identifier":"numNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[460,64],"start":[460,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[460,64],"start":[460,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[460,35],"start":[460,29]}},"type":"Var","value":{"identifier":"height","sourcePos":[453,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[460,64],"start":[460,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[460,64],"start":[460,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[460,53],"start":[460,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[460,47],"start":[460,39]}},"type":"Var","value":{"identifier":"numNodes","sourcePos":[459,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[460,53],"start":[460,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[460,53],"start":[460,50]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[460,64],"start":[460,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[460,64],"start":[460,57]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[453,3]}},"type":"App"},"type":"App"},"identifier":"availableHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[462,73],"start":[462,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[462,73],"start":[462,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[462,64],"start":[462,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[462,51],"start":[462,36]}},"type":"Var","value":{"identifier":"availableHeight","sourcePos":[460,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[462,64],"start":[462,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[462,64],"start":[462,54]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[458,11]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[462,73],"start":[462,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[462,73],"start":[462,70]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[462,30],"start":[462,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[462,24],"start":[462,14]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[458,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[462,30],"start":[462,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[462,30],"start":[462,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"scaleForLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[464,40],"start":[464,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[464,33],"start":[464,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[464,33],"start":[464,20]}},"type":"Var","value":{"identifier":"scaleForLayer","sourcePos":[455,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[464,40],"start":[464,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[464,40],"start":[464,34]}},"type":"Var","value":{"identifier":"layers","sourcePos":[453,3]}},"type":"App"},"identifier":"scales"},{"annotation":{"meta":null,"sourceSpan":{"end":[465,53],"start":[465,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[465,30],"start":[465,24]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[465,46],"start":[465,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[465,45],"start":[465,32]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[465,45],"start":[465,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[465,39],"start":[465,38]}},"type":"Var","value":{"identifier":"s","sourcePos":[465,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[465,45],"start":[465,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[465,45],"start":[465,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[465,53],"start":[465,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[465,53],"start":[465,47]}},"type":"Var","value":{"identifier":"scales","sourcePos":[464,7]}},"type":"App"},"identifier":"nonEmptyScales"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[469,23],"start":[467,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[467,22],"start":[467,12]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[467,37],"start":[467,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[467,37],"start":[467,23]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[465,7]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[469,23],"start":[467,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[468,24],"start":[468,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[468,24],"start":[468,14]}},"binderType":"VarBinder","identifier":"firstScale"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[468,33],"start":[468,28]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[468,37],"start":[468,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[468,48],"start":[468,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[468,48],"start":[468,38]}},"type":"Var","value":{"identifier":"firstScale","sourcePos":[468,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[468,63],"start":[468,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[468,63],"start":[468,49]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[465,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[469,16],"start":[469,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[469,23],"start":[469,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[427,129],"start":[427,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateKy"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[449,15],"start":[429,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[439,26],"start":[439,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[439,26],"start":[439,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[439,21],"start":[439,19]}},"type":"Var","value":{"identifier":"y1","sourcePos":[428,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[439,26],"start":[439,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[439,26],"start":[439,24]}},"type":"Var","value":{"identifier":"y0","sourcePos":[428,1]}},"type":"App"},"identifier":"totalHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[431,63],"start":[431,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[431,21],"start":[431,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,55],"start":[431,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,54],"start":[431,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[431,54],"start":[431,23]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,43],"start":[431,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,43],"start":[431,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[431,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,54],"start":[431,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,54],"start":[431,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[431,48],"start":[431,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[431,28]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,57],"start":[431,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,57],"start":[431,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,63],"start":[431,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,63],"start":[431,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[428,1]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[436,31],"start":[432,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[435,8],"start":[432,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[433,9]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[434,17],"start":[434,11]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[434,51],"start":[434,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,50],"start":[434,19]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[434,50],"start":[434,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,38],"start":[434,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[434,32],"start":[434,28]}},"type":"Var","value":{"identifier":"node","sourcePos":[434,20]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[434,50],"start":[434,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,50],"start":[434,42]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[433,10]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,52]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[428,1]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[436,31],"start":[432,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[436,19],"start":[436,8]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[436,21],"start":[436,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[436,21],"start":[436,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[436,30],"start":[436,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[436,30],"start":[436,22]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[431,5]}},"type":"App"},"type":"App"},"identifier":"layers"},{"annotation":{"meta":null,"sourceSpan":{"end":[440,48],"start":[440,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[440,21],"start":[440,10]}},"type":"Var","value":{"identifier":"calculateKy","sourcePos":[452,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[440,28],"start":[440,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[440,28],"start":[440,22]}},"type":"Var","value":{"identifier":"layers","sourcePos":[432,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[440,40],"start":[440,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[440,40],"start":[440,29]}},"type":"Var","value":{"identifier":"totalHeight","sourcePos":[439,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[440,48],"start":[440,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[440,48],"start":[440,41]}},"type":"Var","value":{"identifier":"padding","sourcePos":[428,1]}},"type":"App"},"identifier":"ky"},{"annotation":{"meta":null,"sourceSpan":{"end":[444,64],"start":[444,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[444,57],"start":[444,24]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[444,42],"start":[444,29]}},"type":"Var","value":{"identifier":"positionLayer","sourcePos":[472,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[444,45],"start":[444,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[444,45],"start":[444,43]}},"type":"Var","value":{"identifier":"ky","sourcePos":[440,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[444,53],"start":[444,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[444,53],"start":[444,46]}},"type":"Var","value":{"identifier":"padding","sourcePos":[428,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[444,56],"start":[444,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[444,56],"start":[444,54]}},"type":"Var","value":{"identifier":"y0","sourcePos":[428,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[444,64],"start":[444,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[444,64],"start":[444,58]}},"type":"Var","value":{"identifier":"layers","sourcePos":[432,5]}},"type":"App"},"identifier":"positionedLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[447,47],"start":[447,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[447,30],"start":[447,18]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[447,47],"start":[447,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[447,47],"start":[447,31]}},"type":"Var","value":{"identifier":"positionedLayers","sourcePos":[444,5]}},"type":"App"},"identifier":"positioned"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[449,15],"start":[449,5]}},"type":"Var","value":{"identifier":"positioned","sourcePos":[447,5]}},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"initializeNodeBreadths"},{"annotation":{"meta":null,"sourceSpan":{"end":[170,53],"start":[170,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,15],"start":[172,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,15],"start":[172,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,15],"start":[172,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[176,79],"start":[173,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[176,79],"start":[176,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,28],"start":[176,19]}},"type":"Var","value":{"identifier":"catMaybes","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,79],"start":[176,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,79],"start":[176,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,52],"start":[176,32]}},"type":"Var","value":{"identifier":"initialiseSankeyNode","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,58],"start":[176,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,58],"start":[176,53]}},"type":"Var","value":{"identifier":"model","sourcePos":[172,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,79],"start":[176,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,79],"start":[176,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[176,69],"start":[176,64]}},"type":"Var","value":{"identifier":"model","sourcePos":[172,3]}},"fieldName":"nodeOrder","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"sankeyNodes"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,42],"start":[177,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,42],"start":[177,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[177,42],"start":[177,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[177,40],"start":[177,29]}},"type":"Var","value":{"identifier":"sankeyNodes","sourcePos":[176,5]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"identifier":"initialiseSankeyNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[32,18],"start":[32,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[33,17],"start":[33,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-6}},"identifier":"epsilon"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"argument":"y1","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[533,41],"start":[510,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[886,105],"start":[886,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[886,105],"start":[886,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[886,105],"start":[886,3]}},"argument":"updated","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[893,8],"start":[888,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[892,28],"start":[889,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[892,28],"start":[890,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[890,20],"start":[890,16]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[890,55],"start":[890,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[890,54],"start":[890,22]}},"argument":"u","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[890,54],"start":[890,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[890,40],"start":[890,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[890,40],"start":[890,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[890,29],"start":[890,28]}},"type":"Var","value":{"identifier":"u","sourcePos":[890,23]}},"fieldName":"node","type":"Accessor"},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[890,54],"start":[890,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[890,54],"start":[890,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[890,48],"start":[890,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[889,10]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[890,63],"start":[890,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[890,63],"start":[890,56]}},"type":"Var","value":{"identifier":"updated","sourcePos":[887,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[892,28],"start":[890,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[891,19],"start":[891,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[891,19],"start":[891,18]}},"binderType":"VarBinder","identifier":"u"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[891,29],"start":[891,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[891,24],"start":[891,23]}},"type":"Var","value":{"identifier":"u","sourcePos":[891,18]}},"fieldName":"node","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[892,20],"start":[892,13]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[892,28],"start":[892,24]}},"type":"Var","value":{"identifier":"node","sourcePos":[889,10]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[888,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[894,7]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[887,3]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"updateNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"argument":"source","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"argument":"target","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"argument":"_sortedSourceLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[685,120],"start":[685,3]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[731,15],"start":[687,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[695,64],"start":[689,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[689,36],"start":[689,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[694,10],"start":[689,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[693,46],"start":[690,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[693,46],"start":[690,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[693,46],"start":[691,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[691,70],"start":[691,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[691,103],"start":[691,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,102],"start":[691,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[691,102],"start":[691,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,85],"start":[691,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[691,79],"start":[691,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[691,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,102],"start":[691,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,102],"start":[691,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[691,90],"start":[691,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[690,14]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,112],"start":[691,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,112],"start":[691,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[686,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[691,22],"start":[691,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[691,55],"start":[691,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,54],"start":[691,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[691,54],"start":[691,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,37],"start":[691,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[691,31],"start":[691,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[691,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,54],"start":[691,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,54],"start":[691,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[691,42],"start":[691,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[690,12]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,64],"start":[691,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,64],"start":[691,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[686,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[693,46],"start":[691,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[692,22],"start":[692,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[692,22],"start":[692,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[692,31],"start":[692,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[692,31],"start":[692,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[692,81],"start":[692,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[692,48],"start":[692,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[692,48],"start":[692,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[692,45],"start":[692,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[692,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[692,54],"start":[692,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[692,54],"start":[692,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[692,51],"start":[692,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[692,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[692,81],"start":[692,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[692,73],"start":[692,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[692,73],"start":[692,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[692,67],"start":[692,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[690,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[692,81],"start":[692,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[692,81],"start":[692,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[692,75],"start":[692,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[690,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[693,16],"start":[693,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[693,19],"start":[693,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[693,38],"start":[693,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[693,38],"start":[693,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[693,32],"start":[693,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[690,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[693,46],"start":[693,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[693,46],"start":[693,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[693,40],"start":[693,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[690,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[695,64],"start":[689,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[695,16],"start":[695,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[695,54],"start":[695,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[695,53],"start":[695,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[695,53],"start":[695,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[695,37],"start":[695,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[695,25],"start":[695,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[695,19]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[695,53],"start":[695,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[695,53],"start":[695,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[695,47],"start":[695,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[686,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[695,63],"start":[695,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[695,63],"start":[695,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[686,3]}},"type":"App"},"type":"App"},"identifier":"targetIncoming"},{"annotation":{"meta":null,"sourceSpan":{"end":[704,64],"start":[698,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[698,36],"start":[698,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[703,10],"start":[698,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[702,46],"start":[699,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[702,46],"start":[699,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[702,46],"start":[700,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[700,70],"start":[700,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,103],"start":[700,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,102],"start":[700,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,102],"start":[700,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,85],"start":[700,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[700,79],"start":[700,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[700,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,102],"start":[700,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,102],"start":[700,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[700,90],"start":[700,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[699,14]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,112],"start":[700,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,112],"start":[700,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[686,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[700,22],"start":[700,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,55],"start":[700,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,54],"start":[700,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,54],"start":[700,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,37],"start":[700,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[700,31],"start":[700,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[700,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,54],"start":[700,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,54],"start":[700,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[700,42],"start":[700,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[699,12]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,64],"start":[700,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,64],"start":[700,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[686,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[702,46],"start":[700,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[701,22],"start":[701,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[701,22],"start":[701,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[701,31],"start":[701,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[701,31],"start":[701,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,81],"start":[701,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,48],"start":[701,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,48],"start":[701,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[701,45],"start":[701,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[701,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[701,54],"start":[701,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,54],"start":[701,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[701,51],"start":[701,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[701,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[701,81],"start":[701,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[701,73],"start":[701,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,73],"start":[701,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[701,67],"start":[701,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[699,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[701,81],"start":[701,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[701,81],"start":[701,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[701,75],"start":[701,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[699,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[702,16],"start":[702,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[702,19],"start":[702,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[702,38],"start":[702,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[702,38],"start":[702,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[702,32],"start":[702,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[699,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[702,46],"start":[702,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[702,46],"start":[702,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[702,40],"start":[702,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[699,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[704,64],"start":[698,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[704,16],"start":[704,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[704,54],"start":[704,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[704,53],"start":[704,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[704,53],"start":[704,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[704,37],"start":[704,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[704,25],"start":[704,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[704,19]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[704,53],"start":[704,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[704,53],"start":[704,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[704,47],"start":[704,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[686,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[704,63],"start":[704,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[704,63],"start":[704,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[686,3]}},"type":"App"},"type":"App"},"identifier":"sourceOutgoing"},{"annotation":{"meta":null,"sourceSpan":{"end":[706,62],"start":[706,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[706,32],"start":[706,24]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[706,62],"start":[706,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[706,46],"start":[706,34]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[706,61],"start":[706,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[706,61],"start":[706,47]}},"type":"Var","value":{"identifier":"targetIncoming","sourcePos":[689,7]}},"type":"App"},"type":"App"},"identifier":"numTargetLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[709,25],"start":[709,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[709,22],"start":[709,16]}},"type":"Var","value":{"identifier":"target","sourcePos":[686,3]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[709,49],"start":[709,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[709,43],"start":[709,29]}},"type":"Var","value":{"identifier":"numTargetLinks","sourcePos":[706,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[709,49],"start":[709,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[709,49],"start":[709,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[709,55],"start":[709,53]}},"type":"Var","value":{"identifier":"py","sourcePos":[686,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[709,61],"start":[709,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"startY"},{"annotation":{"meta":null,"sourceSpan":{"end":[719,23],"start":[712,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[712,24],"start":[712,19]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[717,10],"start":[712,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[713,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[713,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[714,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[714,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[714,34],"start":[714,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[713,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[714,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[715,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[715,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[715,79],"start":[715,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[715,62],"start":[715,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[713,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[715,79],"start":[715,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[715,77],"start":[715,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[715,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[716,62],"start":[716,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[716,46],"start":[716,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[716,46],"start":[716,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[716,28],"start":[716,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[716,26],"start":[716,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[713,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[716,46],"start":[716,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[716,41],"start":[716,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[716,35],"start":[716,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[713,16]}},"fieldName":"width","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[716,46],"start":[716,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[716,46],"start":[716,44]}},"type":"Var","value":{"identifier":"py","sourcePos":[686,3]}},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[716,60],"start":[716,55]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[715,53],"start":[715,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[715,37],"start":[715,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[715,25],"start":[715,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[713,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[715,53],"start":[715,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[715,53],"start":[715,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[715,47],"start":[715,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[686,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[714,25],"start":[714,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[714,19],"start":[714,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[713,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[718,36],"start":[712,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[718,36],"start":[718,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[718,20],"start":[718,14]}},"type":"Var","value":{"identifier":"startY","sourcePos":[709,7]}}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[718,34],"start":[718,29]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[719,23],"start":[712,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[719,23],"start":[719,9]}},"type":"Var","value":{"identifier":"targetIncoming","sourcePos":[689,7]}},"type":"App"},"identifier":"yAtTarget"},{"annotation":{"meta":null,"sourceSpan":{"end":[729,23],"start":[722,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[722,21],"start":[722,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[727,10],"start":[722,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[723,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[723,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[724,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[724,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[724,34],"start":[724,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[723,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[724,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[725,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[725,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[725,79],"start":[725,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[725,62],"start":[725,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[723,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[725,79],"start":[725,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[725,77],"start":[725,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[725,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[726,57],"start":[726,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[726,41],"start":[726,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[726,28],"start":[726,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[726,26],"start":[726,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[723,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[726,41],"start":[726,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[726,41],"start":[726,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[726,35],"start":[726,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[723,16]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[726,55],"start":[726,50]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[725,53],"start":[725,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[725,37],"start":[725,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[725,25],"start":[725,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[723,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[725,53],"start":[725,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[725,53],"start":[725,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[725,47],"start":[725,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[686,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[724,25],"start":[724,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[724,19],"start":[724,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[723,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[728,41],"start":[722,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[728,41],"start":[728,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[728,25],"start":[728,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[728,23],"start":[728,14]}},"type":"Var","value":{"identifier":"yAtTarget","sourcePos":[712,7]}},"fieldName":"y","type":"Accessor"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[728,39],"start":[728,34]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[729,23],"start":[722,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[729,23],"start":[729,9]}},"type":"Var","value":{"identifier":"sourceOutgoing","sourcePos":[698,7]}},"type":"App"},"identifier":"yFinal"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[731,15],"start":[731,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[731,13],"start":[731,7]}},"type":"Var","value":{"identifier":"yFinal","sourcePos":[722,7]}},"fieldName":"y","type":"Accessor"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"targetTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"argument":"source","body":{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"argument":"target","body":{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"argument":"_sortedTargetLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[736,120],"start":[736,3]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[782,15],"start":[738,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[755,64],"start":[749,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[749,36],"start":[749,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[754,10],"start":[749,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[753,46],"start":[750,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[753,46],"start":[750,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[753,46],"start":[751,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[751,70],"start":[751,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[751,103],"start":[751,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,102],"start":[751,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[751,102],"start":[751,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,85],"start":[751,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[751,79],"start":[751,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[751,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[751,102],"start":[751,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,102],"start":[751,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[751,90],"start":[751,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[750,14]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[751,112],"start":[751,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,112],"start":[751,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[737,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[751,22],"start":[751,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[751,55],"start":[751,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,54],"start":[751,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[751,54],"start":[751,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,37],"start":[751,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[751,31],"start":[751,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[751,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[751,54],"start":[751,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,54],"start":[751,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[751,42],"start":[751,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[750,12]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[751,64],"start":[751,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[751,64],"start":[751,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[737,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[753,46],"start":[751,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[752,22],"start":[752,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[752,22],"start":[752,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[752,31],"start":[752,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[752,31],"start":[752,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[752,81],"start":[752,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[752,48],"start":[752,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[752,48],"start":[752,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[752,45],"start":[752,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[752,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[752,54],"start":[752,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[752,54],"start":[752,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[752,51],"start":[752,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[752,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[752,81],"start":[752,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[752,73],"start":[752,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[752,73],"start":[752,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[752,67],"start":[752,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[750,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[752,81],"start":[752,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[752,81],"start":[752,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[752,75],"start":[752,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[750,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[753,16],"start":[753,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[753,19],"start":[753,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[753,38],"start":[753,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[753,38],"start":[753,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[753,32],"start":[753,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[750,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[753,46],"start":[753,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[753,46],"start":[753,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[753,40],"start":[753,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[750,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[755,64],"start":[749,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[755,16],"start":[755,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[755,54],"start":[755,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[755,53],"start":[755,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[755,53],"start":[755,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[755,37],"start":[755,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[755,25],"start":[755,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[755,19]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[755,53],"start":[755,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[755,53],"start":[755,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[755,47],"start":[755,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[737,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[755,63],"start":[755,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[755,63],"start":[755,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[737,3]}},"type":"App"},"type":"App"},"identifier":"targetIncoming"},{"annotation":{"meta":null,"sourceSpan":{"end":[746,64],"start":[740,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[740,36],"start":[740,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[745,10],"start":[740,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[744,46],"start":[741,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[744,46],"start":[741,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[744,46],"start":[742,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[742,70],"start":[742,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[742,103],"start":[742,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,102],"start":[742,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[742,102],"start":[742,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,85],"start":[742,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[742,79],"start":[742,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[742,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[742,102],"start":[742,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,102],"start":[742,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[742,90],"start":[742,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[741,14]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[742,112],"start":[742,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,112],"start":[742,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[737,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[742,22],"start":[742,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[742,55],"start":[742,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,54],"start":[742,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[742,54],"start":[742,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,37],"start":[742,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[742,31],"start":[742,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[742,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[742,54],"start":[742,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,54],"start":[742,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[742,42],"start":[742,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[741,12]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[742,64],"start":[742,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,64],"start":[742,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[737,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[744,46],"start":[742,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[743,22],"start":[743,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[743,22],"start":[743,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[743,31],"start":[743,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[743,31],"start":[743,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[743,81],"start":[743,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[743,48],"start":[743,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[743,48],"start":[743,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[743,45],"start":[743,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[743,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[743,54],"start":[743,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[743,54],"start":[743,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[743,51],"start":[743,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[743,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[743,81],"start":[743,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[743,73],"start":[743,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[743,73],"start":[743,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[743,67],"start":[743,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[741,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[743,81],"start":[743,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[743,81],"start":[743,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[743,75],"start":[743,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[741,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[744,16],"start":[744,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[744,19],"start":[744,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[744,38],"start":[744,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[744,38],"start":[744,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[744,32],"start":[744,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[741,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[744,46],"start":[744,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[744,46],"start":[744,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[744,40],"start":[744,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[741,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[746,64],"start":[740,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[746,16],"start":[746,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[746,54],"start":[746,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[746,53],"start":[746,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[746,53],"start":[746,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[746,37],"start":[746,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[746,25],"start":[746,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[746,19]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[746,53],"start":[746,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[746,53],"start":[746,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[746,47],"start":[746,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[737,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[746,63],"start":[746,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[746,63],"start":[746,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[737,3]}},"type":"App"},"type":"App"},"identifier":"sourceOutgoing"},{"annotation":{"meta":null,"sourceSpan":{"end":[757,62],"start":[757,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[757,32],"start":[757,24]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[757,62],"start":[757,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[757,46],"start":[757,34]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[757,61],"start":[757,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[757,61],"start":[757,47]}},"type":"Var","value":{"identifier":"sourceOutgoing","sourcePos":[740,7]}},"type":"App"},"type":"App"},"identifier":"numSourceLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[760,25],"start":[760,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[760,22],"start":[760,16]}},"type":"Var","value":{"identifier":"source","sourcePos":[737,3]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[760,49],"start":[760,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[760,43],"start":[760,29]}},"type":"Var","value":{"identifier":"numSourceLinks","sourcePos":[757,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[760,49],"start":[760,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[760,49],"start":[760,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[760,55],"start":[760,53]}},"type":"Var","value":{"identifier":"py","sourcePos":[737,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[760,61],"start":[760,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"startY"},{"annotation":{"meta":null,"sourceSpan":{"end":[770,23],"start":[763,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[763,24],"start":[763,19]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[768,10],"start":[763,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[764,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[764,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[765,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[765,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[765,34],"start":[765,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[764,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[765,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[766,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[766,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,79],"start":[766,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,62],"start":[766,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[764,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,79],"start":[766,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[766,77],"start":[766,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[766,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[767,62],"start":[767,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[767,46],"start":[767,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[767,46],"start":[767,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[767,28],"start":[767,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[767,26],"start":[767,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[764,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[767,46],"start":[767,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[767,41],"start":[767,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[767,35],"start":[767,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[764,16]}},"fieldName":"width","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[767,46],"start":[767,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[767,46],"start":[767,44]}},"type":"Var","value":{"identifier":"py","sourcePos":[737,3]}},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[767,60],"start":[767,55]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[766,53],"start":[766,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[766,37],"start":[766,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,25],"start":[766,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[764,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[766,53],"start":[766,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[766,53],"start":[766,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,47],"start":[766,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[737,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[765,25],"start":[765,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[765,19],"start":[765,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[764,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[769,36],"start":[763,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[769,36],"start":[769,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[769,20],"start":[769,14]}},"type":"Var","value":{"identifier":"startY","sourcePos":[760,7]}}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[769,34],"start":[769,29]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[770,23],"start":[763,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[770,23],"start":[770,9]}},"type":"Var","value":{"identifier":"sourceOutgoing","sourcePos":[740,7]}},"type":"App"},"identifier":"yAtSource"},{"annotation":{"meta":null,"sourceSpan":{"end":[780,23],"start":[773,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[773,21],"start":[773,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[778,10],"start":[773,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[774,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[774,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[775,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[775,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[775,34],"start":[775,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[774,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[775,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[776,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[776,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[776,79],"start":[776,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[776,62],"start":[776,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[774,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[776,79],"start":[776,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[776,77],"start":[776,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[776,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[777,57],"start":[777,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[777,41],"start":[777,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[777,28],"start":[777,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[777,26],"start":[777,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[774,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[777,41],"start":[777,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[777,41],"start":[777,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[777,35],"start":[777,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[774,16]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[777,55],"start":[777,50]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[776,53],"start":[776,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[776,37],"start":[776,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[776,25],"start":[776,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[774,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[776,53],"start":[776,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[776,53],"start":[776,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[776,47],"start":[776,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[737,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[775,25],"start":[775,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[775,19],"start":[775,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[774,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[779,41],"start":[773,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[779,41],"start":[779,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[779,25],"start":[779,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[779,23],"start":[779,14]}},"type":"Var","value":{"identifier":"yAtSource","sourcePos":[763,7]}},"fieldName":"y","type":"Accessor"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[779,39],"start":[779,34]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[780,23],"start":[773,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[780,23],"start":[780,9]}},"type":"Var","value":{"identifier":"targetIncoming","sourcePos":[749,7]}},"type":"App"},"identifier":"yFinal"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[782,15],"start":[782,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[782,13],"start":[782,7]}},"type":"Var","value":{"identifier":"yFinal","sourcePos":[773,7]}},"fieldName":"y","type":"Accessor"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"sourceTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[856,170],"start":[856,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[856,170],"start":[856,3]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[856,170],"start":[856,3]}},"argument":"startIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[856,170],"start":[856,3]}},"argument":"targetY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[856,170],"start":[856,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[856,170],"start":[856,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[883,32],"start":[858,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[859,29],"start":[859,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[859,23],"start":[859,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[859,29],"start":[859,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[859,29],"start":[859,24]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[857,3]}},"type":"App"},"identifier":"n"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[861,128],"start":[861,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[861,128],"start":[861,7]}},"argument":"idx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[861,128],"start":[861,7]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[861,128],"start":[861,7]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[863,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[863,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[863,38],"start":[863,26]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[862,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[863,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[864,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[864,34],"start":[864,32]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[864,38],"start":[864,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[864,31],"start":[864,19]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[862,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[864,38],"start":[864,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[864,38],"start":[864,35]}},"type":"Var","value":{"identifier":"idx","sourcePos":[862,7]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[864,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[865,18],"start":[865,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[865,34],"start":[865,22]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[862,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[866,20],"start":[866,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[866,20],"start":[866,16]}},"binderType":"VarBinder","identifier":"item"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[867,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[869,45],"start":[869,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[869,45],"start":[869,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[869,37],"start":[869,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[869,22],"start":[869,21]}},"type":"Var","value":{"identifier":"y","sourcePos":[862,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[869,37],"start":[869,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[869,37],"start":[869,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[869,37],"start":[869,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[869,29],"start":[869,25]}},"type":"Var","value":{"identifier":"item","sourcePos":[866,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[869,45],"start":[869,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[869,45],"start":[869,41]}},"type":"Var","value":{"identifier":"beta","sourcePos":[857,3]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[876,34],"start":[870,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[876,34],"start":[871,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[876,34],"start":[871,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[875,118],"start":[872,19]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[873,91],"start":[873,21]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,91],"start":[873,31]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,40],"start":[873,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,35],"start":[873,31]}},"type":"Var","value":{"identifier":"item","sourcePos":[866,16]}},"fieldName":"node","type":"Accessor"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,91],"start":[873,31]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["y0",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[873,65],"start":[873,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[873,60],"start":[873,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,60],"start":[873,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,52],"start":[873,48]}},"type":"Var","value":{"identifier":"item","sourcePos":[866,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[873,65],"start":[873,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[873,65],"start":[873,63]}},"type":"Var","value":{"identifier":"dy","sourcePos":[869,15]}},"type":"App"}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[873,89],"start":[873,72]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[873,84],"start":[873,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,84],"start":[873,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[873,76],"start":[873,72]}},"type":"Var","value":{"identifier":"item","sourcePos":[866,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[873,89],"start":[873,72]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[873,89],"start":[873,87]}},"type":"Var","value":{"identifier":"dy","sourcePos":[869,15]}},"type":"App"}]]},"type":"Let"},"identifier":"newNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[875,30],"start":[875,21]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[875,43],"start":[875,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[875,43],"start":[875,31]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[862,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[875,118],"start":[875,21]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[875,59],"start":[875,45]}},"type":"Var","value":{"identifier":"updateAt","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[875,63],"start":[875,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[875,63],"start":[875,60]}},"type":"Var","value":{"identifier":"idx","sourcePos":[862,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[875,104],"start":[875,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[875,104],"start":[875,64]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["node",{"annotation":{"meta":null,"sourceSpan":{"end":[875,79],"start":[875,72]}},"type":"Var","value":{"identifier":"newNode","sourcePos":[873,21]}}],["targetY",{"annotation":{"meta":null,"sourceSpan":{"end":[875,102],"start":[875,90]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[875,94],"start":[875,90]}},"type":"Var","value":{"identifier":"item","sourcePos":[866,16]}},"fieldName":"targetY","type":"Accessor"}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[875,117],"start":[875,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[875,117],"start":[875,105]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[862,7]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[876,34],"start":[871,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[876,34],"start":[876,22]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[862,7]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[871,32],"start":[871,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[871,22],"start":[871,20]}},"type":"Var","value":{"identifier":"dy","sourcePos":[869,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[871,32],"start":[871,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[871,32],"start":[871,25]}},"type":"Var","value":{"identifier":"epsilon","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"}],"type":"Case"},"identifier":"updated"},{"annotation":{"meta":null,"sourceSpan":{"end":[879,29],"start":[877,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[879,29],"start":[877,22]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[877,37],"start":[877,35]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[877,41],"start":[877,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[877,34],"start":[877,27]}},"type":"Var","value":{"identifier":"updated","sourcePos":[870,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[877,41],"start":[877,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[877,41],"start":[877,38]}},"type":"Var","value":{"identifier":"idx","sourcePos":[862,7]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[879,29],"start":[877,22]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[878,24],"start":[878,17]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[878,24],"start":[878,22]}},"binderType":"VarBinder","identifier":"n'"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[878,48],"start":[878,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[878,38],"start":[878,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[878,38],"start":[878,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[878,30],"start":[878,28]}},"type":"Var","value":{"identifier":"n'","sourcePos":[878,22]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[878,48],"start":[878,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[878,48],"start":[878,41]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[857,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[879,24],"start":[879,17]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[879,29],"start":[879,28]}},"type":"Var","value":{"identifier":"y","sourcePos":[862,7]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"identifier":"newY"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[881,17],"start":[881,15]}},"type":"Var","value":{"identifier":"go","sourcePos":[861,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[881,27],"start":[881,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[881,26],"start":[881,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[881,22],"start":[881,19]}},"type":"Var","value":{"identifier":"idx","sourcePos":[862,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[881,26],"start":[881,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[881,26],"start":[881,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[881,32],"start":[881,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[881,32],"start":[881,28]}},"type":"Var","value":{"identifier":"newY","sourcePos":[877,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[881,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[881,40],"start":[881,33]}},"type":"Var","value":{"identifier":"updated","sourcePos":[870,15]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[863,20],"start":[863,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[863,15],"start":[863,12]}},"type":"Var","value":{"identifier":"idx","sourcePos":[862,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[863,20],"start":[863,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[863,20],"start":[863,19]}},"type":"Var","value":{"identifier":"n","sourcePos":[859,7]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[883,9],"start":[883,7]}},"type":"Var","value":{"identifier":"go","sourcePos":[861,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[883,18],"start":[883,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[883,18],"start":[883,10]}},"type":"Var","value":{"identifier":"startIdx","sourcePos":[857,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[883,26],"start":[883,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[883,26],"start":[883,19]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[857,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[883,32],"start":[883,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[883,32],"start":[883,27]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[857,3]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"resolveCollisionsTopToBottom"},{"annotation":{"meta":null,"sourceSpan":{"end":[825,170],"start":[825,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[825,170],"start":[825,3]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[825,170],"start":[825,3]}},"argument":"startIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[825,170],"start":[825,3]}},"argument":"targetY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[825,170],"start":[825,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[825,170],"start":[825,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[852,34],"start":[827,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[852,34],"start":[827,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[827,31],"start":[827,26]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[826,3]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[852,34],"start":[827,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[852,34],"start":[829,7]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[830,130],"start":[830,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[830,130],"start":[830,9]}},"argument":"idx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[830,130],"start":[830,9]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[830,130],"start":[830,9]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[832,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[832,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[832,39],"start":[832,27]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[831,9]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[832,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[833,16]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[833,36],"start":[833,34]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[833,40],"start":[833,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[833,33],"start":[833,21]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[831,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[833,40],"start":[833,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[833,40],"start":[833,37]}},"type":"Var","value":{"identifier":"idx","sourcePos":[831,9]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[833,16]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[834,20],"start":[834,13]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[834,36],"start":[834,24]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[831,9]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[835,22],"start":[835,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[835,22],"start":[835,18]}},"binderType":"VarBinder","identifier":"item"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[836,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[838,47],"start":[838,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[838,47],"start":[838,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[838,39],"start":[838,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[838,35],"start":[838,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[838,35],"start":[838,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[838,27],"start":[838,23]}},"type":"Var","value":{"identifier":"item","sourcePos":[835,18]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[838,39],"start":[838,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[838,39],"start":[838,38]}},"type":"Var","value":{"identifier":"y","sourcePos":[831,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[838,47],"start":[838,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[838,47],"start":[838,43]}},"type":"Var","value":{"identifier":"beta","sourcePos":[826,3]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[845,36],"start":[839,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[845,36],"start":[840,19]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[845,36],"start":[840,19]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[844,120],"start":[841,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[842,93],"start":[842,23]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,93],"start":[842,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,42],"start":[842,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,37],"start":[842,33]}},"type":"Var","value":{"identifier":"item","sourcePos":[835,18]}},"fieldName":"node","type":"Accessor"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,93],"start":[842,33]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["y0",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[842,67],"start":[842,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[842,62],"start":[842,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,62],"start":[842,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,54],"start":[842,50]}},"type":"Var","value":{"identifier":"item","sourcePos":[835,18]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[842,67],"start":[842,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[842,67],"start":[842,65]}},"type":"Var","value":{"identifier":"dy","sourcePos":[838,17]}},"type":"App"}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[842,91],"start":[842,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[842,86],"start":[842,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,86],"start":[842,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[842,78],"start":[842,74]}},"type":"Var","value":{"identifier":"item","sourcePos":[835,18]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[842,91],"start":[842,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[842,91],"start":[842,89]}},"type":"Var","value":{"identifier":"dy","sourcePos":[838,17]}},"type":"App"}]]},"type":"Let"},"identifier":"newNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[844,32],"start":[844,23]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[844,45],"start":[844,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[844,45],"start":[844,33]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[831,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[844,120],"start":[844,23]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[844,61],"start":[844,47]}},"type":"Var","value":{"identifier":"updateAt","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[844,65],"start":[844,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[844,65],"start":[844,62]}},"type":"Var","value":{"identifier":"idx","sourcePos":[831,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[844,106],"start":[844,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[844,106],"start":[844,66]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["node",{"annotation":{"meta":null,"sourceSpan":{"end":[844,81],"start":[844,74]}},"type":"Var","value":{"identifier":"newNode","sourcePos":[842,23]}}],["targetY",{"annotation":{"meta":null,"sourceSpan":{"end":[844,104],"start":[844,92]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[844,96],"start":[844,92]}},"type":"Var","value":{"identifier":"item","sourcePos":[835,18]}},"fieldName":"targetY","type":"Accessor"}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[844,119],"start":[844,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[844,119],"start":[844,107]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[831,9]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[845,36],"start":[840,19]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[845,36],"start":[845,24]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[831,9]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[840,34],"start":[840,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[840,24],"start":[840,22]}},"type":"Var","value":{"identifier":"dy","sourcePos":[838,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[840,34],"start":[840,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[840,34],"start":[840,27]}},"type":"Var","value":{"identifier":"epsilon","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"}],"type":"Case"},"identifier":"updated"},{"annotation":{"meta":null,"sourceSpan":{"end":[848,31],"start":[846,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[848,31],"start":[846,24]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[846,39],"start":[846,37]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[846,43],"start":[846,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[846,36],"start":[846,29]}},"type":"Var","value":{"identifier":"updated","sourcePos":[839,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[846,43],"start":[846,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[846,43],"start":[846,40]}},"type":"Var","value":{"identifier":"idx","sourcePos":[831,9]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[848,31],"start":[846,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[847,25],"start":[847,19]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,25],"start":[847,24]}},"binderType":"VarBinder","identifier":"n"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[847,48],"start":[847,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[847,38],"start":[847,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[847,38],"start":[847,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[847,30],"start":[847,29]}},"type":"Var","value":{"identifier":"n","sourcePos":[847,24]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[847,48],"start":[847,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[847,48],"start":[847,41]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[826,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[848,26],"start":[848,19]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[848,31],"start":[848,30]}},"type":"Var","value":{"identifier":"y","sourcePos":[831,9]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"identifier":"newY"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[850,19],"start":[850,17]}},"type":"Var","value":{"identifier":"go","sourcePos":[830,9]}},"annotation":{"meta":null,"sourceSpan":{"end":[850,29],"start":[850,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[850,28],"start":[850,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[850,24],"start":[850,21]}},"type":"Var","value":{"identifier":"idx","sourcePos":[831,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[850,28],"start":[850,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[850,28],"start":[850,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[850,34],"start":[850,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[850,34],"start":[850,30]}},"type":"Var","value":{"identifier":"newY","sourcePos":[846,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[850,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[850,42],"start":[850,35]}},"type":"Var","value":{"identifier":"updated","sourcePos":[839,17]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[832,21],"start":[832,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[832,17],"start":[832,14]}},"type":"Var","value":{"identifier":"idx","sourcePos":[831,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[832,21],"start":[832,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[832,21],"start":[832,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[852,11],"start":[852,9]}},"type":"Var","value":{"identifier":"go","sourcePos":[830,9]}},"annotation":{"meta":null,"sourceSpan":{"end":[852,20],"start":[852,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[852,20],"start":[852,12]}},"type":"Var","value":{"identifier":"startIdx","sourcePos":[826,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[852,28],"start":[852,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[852,28],"start":[852,21]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[826,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[852,34],"start":[852,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[852,34],"start":[852,29]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[826,3]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[827,20],"start":[827,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[827,16],"start":[827,8]}},"type":"Var","value":{"identifier":"startIdx","sourcePos":[826,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[827,20],"start":[827,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[827,20],"start":[827,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"resolveCollisionsBottomToTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[788,162],"start":[788,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[788,162],"start":[788,3]}},"argument":"sorted","body":{"annotation":{"meta":null,"sourceSpan":{"end":[788,162],"start":[788,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[788,162],"start":[788,3]}},"argument":"yMin","body":{"annotation":{"meta":null,"sourceSpan":{"end":[788,162],"start":[788,3]}},"argument":"yMax","body":{"annotation":{"meta":null,"sourceSpan":{"end":[788,162],"start":[788,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[821,19],"start":[790,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[821,19],"start":[790,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[790,37],"start":[790,31]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[789,3]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[821,19],"start":[790,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[821,19],"start":[792,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[793,32],"start":[793,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[793,25],"start":[793,13]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[793,32],"start":[793,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[793,32],"start":[793,26]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[789,3]}},"type":"App"},"identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[794,26],"start":[794,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[794,26],"start":[794,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[794,22],"start":[794,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[793,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[794,26],"start":[794,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[794,26],"start":[794,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"identifier":"middleIdx"},{"annotation":{"meta":null,"sourceSpan":{"end":[797,41],"start":[797,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[797,31],"start":[797,29]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[797,41],"start":[797,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[797,28],"start":[797,22]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[797,41],"start":[797,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[797,41],"start":[797,32]}},"type":"Var","value":{"identifier":"middleIdx","sourcePos":[794,9]}},"type":"App"},"identifier":"middleNode"},{"annotation":{"meta":null,"sourceSpan":{"end":[811,26],"start":[809,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[811,26],"start":[809,22]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[810,17],"start":[810,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[810,17],"start":[810,16]}},"binderType":"VarBinder","identifier":"m"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[810,40],"start":[810,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[810,30],"start":[810,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[810,30],"start":[810,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[810,22],"start":[810,21]}},"type":"Var","value":{"identifier":"m","sourcePos":[810,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[810,40],"start":[810,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[810,40],"start":[810,33]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[789,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[811,18],"start":[811,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[811,26],"start":[811,22]}},"type":"Var","value":{"identifier":"yMin","sourcePos":[789,3]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[809,37],"start":[809,27]}},"type":"Var","value":{"identifier":"middleNode","sourcePos":[797,9]}}],"type":"Case"},"identifier":"startYDown"},{"annotation":{"meta":null,"sourceSpan":{"end":[803,26],"start":[801,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[803,26],"start":[801,20]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[802,17],"start":[802,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[802,17],"start":[802,16]}},"binderType":"VarBinder","identifier":"m"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[802,40],"start":[802,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[802,30],"start":[802,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[802,30],"start":[802,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[802,22],"start":[802,21]}},"type":"Var","value":{"identifier":"m","sourcePos":[802,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[802,40],"start":[802,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[802,40],"start":[802,33]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[789,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[803,18],"start":[803,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[803,26],"start":[803,22]}},"type":"Var","value":{"identifier":"yMax","sourcePos":[789,3]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[801,35],"start":[801,25]}},"type":"Var","value":{"identifier":"middleNode","sourcePos":[797,9]}}],"type":"Case"},"identifier":"startYUp"},{"annotation":{"meta":null,"sourceSpan":{"end":[805,93],"start":[805,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[805,48],"start":[805,20]}},"type":"Var","value":{"identifier":"resolveCollisionsBottomToTop","sourcePos":[825,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[805,55],"start":[805,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[805,55],"start":[805,49]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[805,71],"start":[805,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[805,70],"start":[805,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[805,66],"start":[805,57]}},"type":"Var","value":{"identifier":"middleIdx","sourcePos":[794,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[805,70],"start":[805,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[805,70],"start":[805,69]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[805,80],"start":[805,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[805,80],"start":[805,72]}},"type":"Var","value":{"identifier":"startYUp","sourcePos":[801,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[805,88],"start":[805,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[805,88],"start":[805,81]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[805,93],"start":[805,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[805,93],"start":[805,89]}},"type":"Var","value":{"identifier":"beta","sourcePos":[789,3]}},"type":"App"},"identifier":"pushedUp"},{"annotation":{"meta":null,"sourceSpan":{"end":[813,104],"start":[813,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[813,55],"start":[813,27]}},"type":"Var","value":{"identifier":"resolveCollisionsTopToBottom","sourcePos":[856,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[813,64],"start":[813,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[813,64],"start":[813,56]}},"type":"Var","value":{"identifier":"pushedUp","sourcePos":[805,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[813,80],"start":[813,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[813,79],"start":[813,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[813,75],"start":[813,66]}},"type":"Var","value":{"identifier":"middleIdx","sourcePos":[794,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[813,79],"start":[813,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[813,79],"start":[813,78]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[813,91],"start":[813,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[813,91],"start":[813,81]}},"type":"Var","value":{"identifier":"startYDown","sourcePos":[809,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[813,99],"start":[813,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[813,99],"start":[813,92]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[813,104],"start":[813,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[813,104],"start":[813,100]}},"type":"Var","value":{"identifier":"beta","sourcePos":[789,3]}},"type":"App"},"identifier":"pushedUpAndDown"},{"annotation":{"meta":null,"sourceSpan":{"end":[816,95],"start":[816,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[816,53],"start":[816,25]}},"type":"Var","value":{"identifier":"resolveCollisionsBottomToTop","sourcePos":[825,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[816,69],"start":[816,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,69],"start":[816,54]}},"type":"Var","value":{"identifier":"pushedUpAndDown","sourcePos":[813,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[816,77],"start":[816,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[816,76],"start":[816,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,72],"start":[816,71]}},"type":"Var","value":{"identifier":"n","sourcePos":[793,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[816,76],"start":[816,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,76],"start":[816,75]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[816,82],"start":[816,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,82],"start":[816,78]}},"type":"Var","value":{"identifier":"yMax","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[816,90],"start":[816,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,90],"start":[816,83]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[816,95],"start":[816,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,95],"start":[816,91]}},"type":"Var","value":{"identifier":"beta","sourcePos":[789,3]}},"type":"App"},"identifier":"clampedBottom"},{"annotation":{"meta":null,"sourceSpan":{"end":[819,84],"start":[819,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[819,50],"start":[819,22]}},"type":"Var","value":{"identifier":"resolveCollisionsTopToBottom","sourcePos":[856,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[819,64],"start":[819,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[819,64],"start":[819,51]}},"type":"Var","value":{"identifier":"clampedBottom","sourcePos":[816,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[819,66],"start":[819,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[819,66],"start":[819,65]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[819,71],"start":[819,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[819,71],"start":[819,67]}},"type":"Var","value":{"identifier":"yMin","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[819,79],"start":[819,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[819,79],"start":[819,72]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[789,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[819,84],"start":[819,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[819,84],"start":[819,80]}},"type":"Var","value":{"identifier":"beta","sourcePos":[789,3]}},"type":"App"},"identifier":"clampedTop"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[821,19],"start":[821,9]}},"type":"Var","value":{"identifier":"clampedTop","sourcePos":[819,9]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[790,18],"start":[790,8]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[790,25],"start":[790,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[790,25],"start":[790,19]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[789,3]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"resolveCollisions"},{"annotation":{"meta":null,"sourceSpan":{"end":[610,105],"start":[610,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[610,105],"start":[610,3]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[610,105],"start":[610,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[610,105],"start":[610,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[610,105],"start":[610,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[643,19],"start":[612,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[614,74],"start":[614,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[614,29],"start":[614,23]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[614,65],"start":[614,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,64],"start":[614,31]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[614,64],"start":[614,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,50],"start":[614,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[614,38],"start":[614,37]}},"type":"Var","value":{"identifier":"l","sourcePos":[614,32]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,64],"start":[614,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,64],"start":[614,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[614,58],"start":[614,54]}},"type":"Var","value":{"identifier":"node","sourcePos":[611,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,74],"start":[614,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,74],"start":[614,66]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[611,3]}},"type":"App"},"identifier":"outgoingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[621,22],"start":[615,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[615,33],"start":[615,21]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[620,10],"start":[615,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,46],"start":[616,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[619,46],"start":[616,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[619,46],"start":[617,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[617,70],"start":[617,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[617,103],"start":[617,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,102],"start":[617,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[617,102],"start":[617,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,85],"start":[617,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[617,79],"start":[617,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[617,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[617,102],"start":[617,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,102],"start":[617,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[617,90],"start":[617,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[616,14]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[617,112],"start":[617,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,112],"start":[617,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[611,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[617,22],"start":[617,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[617,55],"start":[617,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,54],"start":[617,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[617,54],"start":[617,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,37],"start":[617,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[617,31],"start":[617,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[617,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[617,54],"start":[617,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,54],"start":[617,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[617,42],"start":[617,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[616,12]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[617,64],"start":[617,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[617,64],"start":[617,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[611,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[619,46],"start":[617,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[618,22],"start":[618,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[618,22],"start":[618,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[618,31],"start":[618,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[618,31],"start":[618,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,81],"start":[618,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,48],"start":[618,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,48],"start":[618,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,45],"start":[618,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[618,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,54],"start":[618,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,54],"start":[618,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,51],"start":[618,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[618,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,81],"start":[618,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,73],"start":[618,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,73],"start":[618,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,67],"start":[618,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[616,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,81],"start":[618,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,81],"start":[618,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,75],"start":[618,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[616,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[619,16],"start":[619,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[619,19],"start":[619,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[619,38],"start":[619,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,38],"start":[619,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[619,32],"start":[619,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[616,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[619,46],"start":[619,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,46],"start":[619,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[619,40],"start":[619,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[616,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[621,22],"start":[615,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[621,22],"start":[621,9]}},"type":"Var","value":{"identifier":"outgoingLinks","sourcePos":[614,7]}},"type":"App"},"identifier":"sortedLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[640,20],"start":[625,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[625,21],"start":[625,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[638,10],"start":[625,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,29],"start":[626,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[637,29],"start":[626,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[637,29],"start":[627,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[627,22],"start":[627,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[627,58],"start":[627,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[627,57],"start":[627,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[627,57],"start":[627,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[627,37],"start":[627,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[627,31],"start":[627,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[627,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[627,57],"start":[627,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[627,57],"start":[627,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[627,45],"start":[627,41]}},"type":"Var","value":{"identifier":"link","sourcePos":[626,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[627,67],"start":[627,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[627,67],"start":[627,59]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[611,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,29],"start":[627,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[628,30],"start":[628,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[628,30],"start":[628,20]}},"binderType":"VarBinder","identifier":"targetNode"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,82],"start":[629,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[631,71],"start":[631,19]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[631,39],"start":[631,31]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[631,71],"start":[631,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[631,70],"start":[631,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[631,57],"start":[631,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[631,51],"start":[631,41]}},"type":"Var","value":{"identifier":"targetNode","sourcePos":[628,20]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[631,70],"start":[631,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[631,70],"start":[631,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[631,64],"start":[631,60]}},"type":"Var","value":{"identifier":"node","sourcePos":[611,3]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"layerDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[632,53],"start":[632,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[632,53],"start":[632,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[632,33],"start":[632,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[632,27],"start":[632,23]}},"type":"Var","value":{"identifier":"link","sourcePos":[626,16]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[632,53],"start":[632,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[632,43],"start":[632,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[632,43],"start":[632,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[632,53],"start":[632,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[632,53],"start":[632,44]}},"type":"Var","value":{"identifier":"layerDist","sourcePos":[631,19]}},"type":"App"},"type":"App"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[634,91],"start":[634,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[634,37],"start":[634,28]}},"type":"Var","value":{"identifier":"targetTop","sourcePos":[685,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[634,42],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,42],"start":[634,38]}},"type":"Var","value":{"identifier":"node","sourcePos":[611,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,53],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,53],"start":[634,43]}},"type":"Var","value":{"identifier":"targetNode","sourcePos":[628,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,65],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,65],"start":[634,54]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[615,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,74],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,74],"start":[634,66]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[611,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,83],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,83],"start":[634,75]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[611,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[634,91],"start":[634,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[634,91],"start":[634,84]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[611,3]}},"type":"App"},"identifier":"idealY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,82],"start":[636,19]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,46],"start":[636,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,33],"start":[636,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,29],"start":[636,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[626,12]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,46],"start":[636,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,46],"start":[636,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,42],"start":[636,36]}},"type":"Var","value":{"identifier":"idealY","sourcePos":[634,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,46],"start":[636,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,46],"start":[636,45]}},"type":"Var","value":{"identifier":"v1","sourcePos":[632,19]}},"type":"App"},"type":"App"}],["totalWeight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,80],"start":[636,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,76],"start":[636,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,64],"start":[636,61]}},"type":"Var","value":{"identifier":"acc","sourcePos":[626,12]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,80],"start":[636,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,80],"start":[636,79]}},"type":"Var","value":{"identifier":"v1","sourcePos":[632,19]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[637,22],"start":[637,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,29],"start":[637,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[626,12]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[639,39],"start":[625,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[639,39],"start":[639,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"annotation":{"meta":null,"sourceSpan":{"end":[639,19],"start":[639,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["totalWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[639,37],"start":[639,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[640,20],"start":[625,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[640,20],"start":[640,9]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[615,7]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[643,19],"start":[642,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[643,19],"start":[642,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[642,71],"start":[642,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[642,50],"start":[642,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[642,46],"start":[642,40]}},"type":"Var","value":{"identifier":"result","sourcePos":[625,7]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[642,71],"start":[642,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[642,71],"start":[642,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[642,59],"start":[642,53]}},"type":"Var","value":{"identifier":"result","sourcePos":[625,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[643,19],"start":[642,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[643,19],"start":[643,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[643,16],"start":[643,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[611,3]}},"fieldName":"y0","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[642,34],"start":[642,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[642,28],"start":[642,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[642,16],"start":[642,10]}},"type":"Var","value":{"identifier":"result","sourcePos":[625,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[642,34],"start":[642,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[642,34],"start":[642,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateWeightedFromTargets"},{"annotation":{"meta":null,"sourceSpan":{"end":[648,105],"start":[648,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[648,105],"start":[648,3]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[648,105],"start":[648,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[648,105],"start":[648,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[648,105],"start":[648,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[680,19],"start":[650,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[652,74],"start":[652,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[652,29],"start":[652,23]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[652,65],"start":[652,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[652,64],"start":[652,31]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[652,64],"start":[652,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[652,50],"start":[652,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[652,38],"start":[652,37]}},"type":"Var","value":{"identifier":"l","sourcePos":[652,32]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[652,64],"start":[652,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[652,64],"start":[652,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[652,58],"start":[652,54]}},"type":"Var","value":{"identifier":"node","sourcePos":[649,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[652,74],"start":[652,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[652,74],"start":[652,66]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[649,3]}},"type":"App"},"identifier":"incomingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[659,22],"start":[653,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[653,33],"start":[653,21]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[658,10],"start":[653,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[657,46],"start":[654,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[657,46],"start":[654,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[657,46],"start":[655,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[655,70],"start":[655,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[655,103],"start":[655,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,102],"start":[655,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[655,102],"start":[655,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,85],"start":[655,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[655,79],"start":[655,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[655,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[655,102],"start":[655,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,102],"start":[655,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[655,90],"start":[655,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[654,14]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[655,112],"start":[655,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,112],"start":[655,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[649,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[655,22],"start":[655,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[655,55],"start":[655,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,54],"start":[655,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[655,54],"start":[655,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,37],"start":[655,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[655,31],"start":[655,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[655,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[655,54],"start":[655,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,54],"start":[655,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[655,42],"start":[655,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[654,12]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[655,64],"start":[655,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[655,64],"start":[655,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[649,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[657,46],"start":[655,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[656,22],"start":[656,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[656,22],"start":[656,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[656,31],"start":[656,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[656,31],"start":[656,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[656,81],"start":[656,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[656,48],"start":[656,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[656,48],"start":[656,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[656,45],"start":[656,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[656,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[656,54],"start":[656,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[656,54],"start":[656,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[656,51],"start":[656,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[656,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[656,81],"start":[656,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[656,73],"start":[656,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[656,73],"start":[656,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[656,67],"start":[656,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[654,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[656,81],"start":[656,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[656,81],"start":[656,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[656,75],"start":[656,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[654,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[657,16],"start":[657,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[657,19],"start":[657,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[657,38],"start":[657,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[657,38],"start":[657,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[657,32],"start":[657,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[654,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[657,46],"start":[657,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[657,46],"start":[657,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[657,40],"start":[657,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[654,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[659,22],"start":[653,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[659,22],"start":[659,9]}},"type":"Var","value":{"identifier":"incomingLinks","sourcePos":[652,7]}},"type":"App"},"identifier":"sortedLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[677,20],"start":[663,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[663,21],"start":[663,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[675,10],"start":[663,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[674,29],"start":[664,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[674,29],"start":[664,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[674,29],"start":[665,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[665,22],"start":[665,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[665,58],"start":[665,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[665,57],"start":[665,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[665,57],"start":[665,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[665,37],"start":[665,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[665,31],"start":[665,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[665,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[665,57],"start":[665,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[665,57],"start":[665,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[665,45],"start":[665,41]}},"type":"Var","value":{"identifier":"link","sourcePos":[664,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[665,67],"start":[665,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[665,67],"start":[665,59]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[649,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[674,29],"start":[665,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[666,30],"start":[666,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[666,30],"start":[666,20]}},"binderType":"VarBinder","identifier":"sourceNode"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[673,82],"start":[667,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[668,71],"start":[668,19]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[668,39],"start":[668,31]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[668,71],"start":[668,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[668,70],"start":[668,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[668,51],"start":[668,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[668,45],"start":[668,41]}},"type":"Var","value":{"identifier":"node","sourcePos":[649,3]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[668,70],"start":[668,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[668,70],"start":[668,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[668,64],"start":[668,54]}},"type":"Var","value":{"identifier":"sourceNode","sourcePos":[666,20]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"layerDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[669,53],"start":[669,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[669,53],"start":[669,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[669,33],"start":[669,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[669,27],"start":[669,23]}},"type":"Var","value":{"identifier":"link","sourcePos":[664,16]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[669,53],"start":[669,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[669,43],"start":[669,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[669,43],"start":[669,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[669,53],"start":[669,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[669,53],"start":[669,44]}},"type":"Var","value":{"identifier":"layerDist","sourcePos":[668,19]}},"type":"App"},"type":"App"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[671,91],"start":[671,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[671,37],"start":[671,28]}},"type":"Var","value":{"identifier":"sourceTop","sourcePos":[736,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,48],"start":[671,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,48],"start":[671,38]}},"type":"Var","value":{"identifier":"sourceNode","sourcePos":[666,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,53],"start":[671,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,53],"start":[671,49]}},"type":"Var","value":{"identifier":"node","sourcePos":[649,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,65],"start":[671,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,65],"start":[671,54]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[653,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,74],"start":[671,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,74],"start":[671,66]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[649,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,83],"start":[671,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,83],"start":[671,75]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[649,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,91],"start":[671,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,91],"start":[671,84]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[649,3]}},"type":"App"},"identifier":"idealY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[673,82],"start":[673,19]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[673,46],"start":[673,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[673,33],"start":[673,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[673,29],"start":[673,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[664,12]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[673,46],"start":[673,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[673,46],"start":[673,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[673,42],"start":[673,36]}},"type":"Var","value":{"identifier":"idealY","sourcePos":[671,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[673,46],"start":[673,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[673,46],"start":[673,45]}},"type":"Var","value":{"identifier":"v1","sourcePos":[669,19]}},"type":"App"},"type":"App"}],["totalWeight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[673,80],"start":[673,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[673,76],"start":[673,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[673,64],"start":[673,61]}},"type":"Var","value":{"identifier":"acc","sourcePos":[664,12]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[673,80],"start":[673,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[673,80],"start":[673,79]}},"type":"Var","value":{"identifier":"v1","sourcePos":[669,19]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[674,22],"start":[674,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[674,29],"start":[674,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[664,12]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[676,39],"start":[663,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[676,39],"start":[676,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"annotation":{"meta":null,"sourceSpan":{"end":[676,19],"start":[676,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["totalWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[676,37],"start":[676,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[677,20],"start":[663,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[677,20],"start":[677,9]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[653,7]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[680,19],"start":[679,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[680,19],"start":[679,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[679,71],"start":[679,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[679,50],"start":[679,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[679,46],"start":[679,40]}},"type":"Var","value":{"identifier":"result","sourcePos":[663,7]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[679,71],"start":[679,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[679,71],"start":[679,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[679,59],"start":[679,53]}},"type":"Var","value":{"identifier":"result","sourcePos":[663,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[680,19],"start":[679,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[680,19],"start":[680,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[680,16],"start":[680,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[649,3]}},"fieldName":"y0","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[679,34],"start":[679,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[679,28],"start":[679,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[679,16],"start":[679,10]}},"type":"Var","value":{"identifier":"result","sourcePos":[663,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[679,34],"start":[679,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[679,34],"start":[679,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateWeightedFromSources"},{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"layerIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"ascending","body":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"alpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[559,121],"start":[559,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[605,43],"start":[561,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[563,67],"start":[563,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[563,26],"start":[563,20]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[563,54],"start":[563,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,53],"start":[563,28]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[563,53],"start":[563,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,41],"start":[563,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[563,35],"start":[563,34]}},"type":"Var","value":{"identifier":"n","sourcePos":[563,29]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[563,53],"start":[563,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,53],"start":[563,45]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[560,3]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[563,67],"start":[563,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,67],"start":[563,55]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[560,3]}},"type":"App"},"identifier":"layerNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[564,77],"start":[564,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[564,38],"start":[564,26]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[564,66],"start":[564,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,65],"start":[564,40]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[564,65],"start":[564,40]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[564,60],"start":[564,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,60],"start":[564,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[564,57],"start":[564,56]}},"type":"Var","value":{"identifier":"a","sourcePos":[564,41]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[564,65],"start":[564,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,65],"start":[564,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[564,62],"start":[564,61]}},"type":"Var","value":{"identifier":"b","sourcePos":[564,43]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[564,77],"start":[564,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,77],"start":[564,67]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[563,7]}},"type":"App"},"identifier":"sortedLayerNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[565,54],"start":[565,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[565,37],"start":[565,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[565,37],"start":[565,30]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[565,37],"start":[565,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"index","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[565,54],"start":[565,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[565,54],"start":[565,38]}},"type":"Var","value":{"identifier":"sortedLayerNodes","sourcePos":[564,7]}},"type":"App"},"identifier":"layerNodeIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[590,25],"start":[568,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[568,30],"start":[568,25]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[588,10],"start":[568,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[569,11]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[569,11]}},"argument":"nodeIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[570,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[570,22],"start":[570,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[570,49],"start":[570,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,48],"start":[570,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[570,48],"start":[570,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,37],"start":[570,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[570,31],"start":[570,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[570,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[570,48],"start":[570,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,48],"start":[570,41]}},"type":"Var","value":{"identifier":"nodeIdx","sourcePos":[569,18]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[570,55],"start":[570,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[570,55],"start":[570,50]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[569,12]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[570,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[571,22],"start":[571,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[571,31],"start":[571,26]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[569,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[572,24],"start":[572,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[572,24],"start":[572,20]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[573,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[579,82],"start":[577,19]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[579,82],"start":[578,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[579,82],"start":[578,21]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[578,67],"start":[578,39]}},"type":"Var","value":{"identifier":"calculateWeightedFromSources","sourcePos":[648,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[578,72],"start":[578,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[578,72],"start":[578,68]}},"type":"Var","value":{"identifier":"node","sourcePos":[572,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[578,78],"start":[578,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[578,78],"start":[578,73]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[569,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[578,87],"start":[578,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[578,87],"start":[578,79]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[560,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[578,95],"start":[578,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[578,95],"start":[578,88]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[560,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[579,82],"start":[578,21]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[579,54],"start":[579,26]}},"type":"Var","value":{"identifier":"calculateWeightedFromTargets","sourcePos":[610,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[579,59],"start":[579,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,59],"start":[579,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[572,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,65],"start":[579,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,65],"start":[579,60]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[569,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,74],"start":[579,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,74],"start":[579,66]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[560,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,82],"start":[579,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,82],"start":[579,75]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[560,3]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[578,33],"start":[578,24]}},"type":"Var","value":{"identifier":"ascending","sourcePos":[560,3]}}],"type":"Case"},"identifier":"weightedY"},{"annotation":{"meta":null,"sourceSpan":{"end":[581,53],"start":[581,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[581,53],"start":[581,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[581,44],"start":[581,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,34],"start":[581,25]}},"type":"Var","value":{"identifier":"weightedY","sourcePos":[577,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[581,44],"start":[581,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,44],"start":[581,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[581,41],"start":[581,37]}},"type":"Var","value":{"identifier":"node","sourcePos":[572,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[581,53],"start":[581,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,53],"start":[581,48]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[560,3]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[582,39],"start":[582,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[582,39],"start":[582,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[582,34],"start":[582,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[582,31],"start":[582,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[572,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[582,39],"start":[582,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[582,39],"start":[582,37]}},"type":"Var","value":{"identifier":"dy","sourcePos":[581,19]}},"type":"App"},"identifier":"newY0"},{"annotation":{"meta":null,"sourceSpan":{"end":[583,39],"start":[583,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[583,39],"start":[583,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[583,34],"start":[583,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[583,31],"start":[583,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[572,20]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[583,39],"start":[583,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[583,39],"start":[583,37]}},"type":"Var","value":{"identifier":"dy","sourcePos":[581,19]}},"type":"App"},"identifier":"newY1"},{"annotation":{"meta":null,"sourceSpan":{"end":[584,64],"start":[584,19]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[584,64],"start":[584,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[894,15],"start":[509,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[584,37],"start":[584,33]}},"type":"Var","value":{"identifier":"node","sourcePos":[572,20]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[584,64],"start":[584,33]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[509,1]}},"type":"ObjectUpdate","updates":[["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[584,50],"start":[584,45]}},"type":"Var","value":{"identifier":"newY0","sourcePos":[582,19]}}],["y1",{"annotation":{"meta":null,"sourceSpan":{"end":[584,62],"start":[584,57]}},"type":"Var","value":{"identifier":"newY1","sourcePos":[583,19]}}]]},"type":"Let"},"identifier":"updatedNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[587,76],"start":[587,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,75],"start":[587,24]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[587,75],"start":[587,30]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[587,75],"start":[587,30]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,68],"start":[587,57]}},"type":"Var","value":{"identifier":"updatedNode","sourcePos":[584,19]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[587,75],"start":[587,30]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,75],"start":[587,74]}},"type":"Var","value":{"identifier":"n","sourcePos":[587,25]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[587,51],"start":[587,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,40],"start":[587,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,34],"start":[587,33]}},"type":"Var","value":{"identifier":"n","sourcePos":[587,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[587,51],"start":[587,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,51],"start":[587,44]}},"type":"Var","value":{"identifier":"nodeIdx","sourcePos":[569,18]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[587,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,82],"start":[587,77]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[569,12]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,117],"start":[508,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[589,21],"start":[568,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[589,21],"start":[589,9]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[560,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[590,25],"start":[568,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[590,25],"start":[590,9]}},"type":"Var","value":{"identifier":"layerNodeIndices","sourcePos":[565,7]}},"type":"App"},"identifier":"nodesAfterRelax"},{"annotation":{"meta":null,"sourceSpan":{"end":[593,77],"start":[593,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[593,33],"start":[593,27]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[593,61],"start":[593,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[593,60],"start":[593,35]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[593,60],"start":[593,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[593,48],"start":[593,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[593,42],"start":[593,41]}},"type":"Var","value":{"identifier":"n","sourcePos":[593,36]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[593,60],"start":[593,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[593,60],"start":[593,52]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[560,3]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[593,77],"start":[593,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[593,77],"start":[593,62]}},"type":"Var","value":{"identifier":"nodesAfterRelax","sourcePos":[568,7]}},"type":"App"},"identifier":"layerNodesUpdated"},{"annotation":{"meta":null,"sourceSpan":{"end":[596,74],"start":[596,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[596,28],"start":[596,16]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[596,56],"start":[596,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[596,55],"start":[596,30]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[596,55],"start":[596,30]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[596,50],"start":[596,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[596,50],"start":[596,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[596,47],"start":[596,46]}},"type":"Var","value":{"identifier":"a","sourcePos":[596,31]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[596,55],"start":[596,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[596,55],"start":[596,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[596,52],"start":[596,51]}},"type":"Var","value":{"identifier":"b","sourcePos":[596,33]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[596,74],"start":[596,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[596,74],"start":[596,57]}},"type":"Var","value":{"identifier":"layerNodesUpdated","sourcePos":[593,7]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[599,74],"start":[599,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[599,67],"start":[599,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[599,66],"start":[599,31]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[599,66],"start":[599,40]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["node",{"annotation":{"meta":null,"sourceSpan":{"end":[599,46],"start":[599,42]}},"type":"Var","value":{"identifier":"node","sourcePos":[599,32]}}],["targetY",{"annotation":{"meta":null,"sourceSpan":{"end":[599,64],"start":[599,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[599,61],"start":[599,57]}},"type":"Var","value":{"identifier":"node","sourcePos":[599,32]}},"fieldName":"y0","type":"Accessor"}]]}},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[599,74],"start":[599,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[599,74],"start":[599,68]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[596,7]}},"type":"App"},"identifier":"sortedWithTarget"},{"annotation":{"meta":null,"sourceSpan":{"end":[602,71],"start":[602,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[602,35],"start":[602,18]}},"type":"Var","value":{"identifier":"resolveCollisions","sourcePos":[788,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[602,52],"start":[602,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,52],"start":[602,36]}},"type":"Var","value":{"identifier":"sortedWithTarget","sourcePos":[599,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[602,60],"start":[602,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,60],"start":[602,53]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[560,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[602,63],"start":[602,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,63],"start":[602,61]}},"type":"Var","value":{"identifier":"y0","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[602,66],"start":[602,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,66],"start":[602,64]}},"type":"Var","value":{"identifier":"y1","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[602,71],"start":[602,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,71],"start":[602,67]}},"type":"Var","value":{"identifier":"beta","sourcePos":[560,3]}},"type":"App"},"identifier":"resolved"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[605,18],"start":[605,7]}},"type":"Var","value":{"identifier":"updateNodes","sourcePos":[886,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[605,34],"start":[605,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[605,34],"start":[605,19]}},"type":"Var","value":{"identifier":"nodesAfterRelax","sourcePos":[568,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[605,43],"start":[605,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[605,43],"start":[605,35]}},"type":"Var","value":{"identifier":"resolved","sourcePos":[602,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"relaxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"argument":"ascending","body":{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"argument":"alpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[537,116],"start":[537,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[554,14],"start":[539,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[540,72],"start":[540,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[540,23],"start":[540,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[540,57],"start":[540,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[540,56],"start":[540,25]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[540,56],"start":[540,25]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[540,45],"start":[540,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[540,45],"start":[540,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[540,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[540,56],"start":[540,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[540,56],"start":[540,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[540,50],"start":[540,46]}},"type":"Var","value":{"identifier":"node","sourcePos":[540,30]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[540,59],"start":[540,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[540,59],"start":[540,58]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[540,72],"start":[540,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[540,72],"start":[540,60]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[538,3]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[544,58],"start":[542,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[544,58],"start":[543,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[544,58],"start":[543,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[543,38],"start":[543,27]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[543,40],"start":[543,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[543,40],"start":[543,39]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[543,49],"start":[543,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[543,49],"start":[543,41]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[540,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[544,58],"start":[543,9]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[544,27],"start":[544,14]}},"type":"Var","value":{"identifier":"reverse","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[544,58],"start":[544,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[544,40],"start":[544,29]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[544,42],"start":[544,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[544,42],"start":[544,41]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[544,57],"start":[544,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[544,56],"start":[544,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[544,52],"start":[544,44]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[540,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[544,56],"start":[544,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[544,56],"start":[544,55]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[543,21],"start":[543,12]}},"type":"Var","value":{"identifier":"ascending","sourcePos":[538,3]}}],"type":"Case"},"identifier":"layerIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[552,21],"start":[547,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[547,22],"start":[547,17]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[550,10],"start":[547,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,76],"start":[548,11]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[549,76],"start":[548,11]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[549,23],"start":[549,13]}},"type":"Var","value":{"identifier":"relaxLayer","sourcePos":[559,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[549,29],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,29],"start":[549,24]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[548,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,38],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,38],"start":[549,30]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[538,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,47],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,47],"start":[549,39]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[548,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,55],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,55],"start":[549,48]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[538,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,65],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,65],"start":[549,56]}},"type":"Var","value":{"identifier":"ascending","sourcePos":[538,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,71],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,71],"start":[549,66]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[538,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[549,76],"start":[549,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[549,76],"start":[549,72]}},"type":"Var","value":{"identifier":"beta","sourcePos":[538,3]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[551,21],"start":[547,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[551,21],"start":[551,9]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[538,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[552,21],"start":[547,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[552,21],"start":[552,9]}},"type":"Var","value":{"identifier":"layerIndices","sourcePos":[542,7]}},"type":"App"},"identifier":"relaxed"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[554,14],"start":[554,7]}},"type":"Var","value":{"identifier":"relaxed","sourcePos":[547,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"relaxByLayer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[533,41],"start":[510,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[511,35],"start":[511,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[511,35],"start":[511,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[511,24],"start":[511,18]}},"type":"Var","value":{"identifier":"config","sourcePos":[509,1]}},"fieldName":"iterations","type":"Accessor"},"identifier":"iterations"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[533,41],"start":[514,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[533,41],"start":[514,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[514,34],"start":[514,29]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[509,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[533,41],"start":[514,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[518,12],"start":[518,7]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[531,10],"start":[518,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[530,18],"start":[519,11]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[530,18],"start":[519,11]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[530,18],"start":[520,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[522,44],"start":[522,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[522,26],"start":[522,23]}},"type":"Var","value":{"identifier":"pow","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[522,31],"start":[522,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[522,31],"start":[522,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.99}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[522,44],"start":[522,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[522,41],"start":[522,33]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[522,43],"start":[522,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[522,43],"start":[522,42]}},"type":"Var","value":{"identifier":"i","sourcePos":[519,25]}},"type":"App"},"type":"App"},"identifier":"alpha"},{"annotation":{"meta":null,"sourceSpan":{"end":[524,80],"start":[524,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,39],"start":[524,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,38],"start":[524,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,30],"start":[524,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,38],"start":[524,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,38],"start":[524,33]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[522,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,80],"start":[524,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,79],"start":[524,41]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[524,49],"start":[524,41]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,57],"start":[524,41]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,56],"start":[524,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,52],"start":[524,51]}},"type":"Var","value":{"identifier":"i","sourcePos":[519,25]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,56],"start":[524,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,56],"start":[524,55]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,79],"start":[524,41]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[524,68],"start":[524,60]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,79],"start":[524,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,79],"start":[524,69]}},"type":"Var","value":{"identifier":"iterations","sourcePos":[511,5]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"beta"},{"annotation":{"meta":null,"sourceSpan":{"end":[526,77],"start":[526,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[526,33],"start":[526,21]}},"type":"Var","value":{"identifier":"relaxByLayer","sourcePos":[537,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[526,46],"start":[526,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,46],"start":[526,34]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[519,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,52],"start":[526,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,52],"start":[526,47]}},"type":"Var","value":{"identifier":"links","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,60],"start":[526,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,60],"start":[526,53]}},"type":"Var","value":{"identifier":"padding","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,66],"start":[526,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,66],"start":[526,61]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,72],"start":[526,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,72],"start":[526,67]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[522,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,77],"start":[526,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,77],"start":[526,73]}},"type":"Var","value":{"identifier":"beta","sourcePos":[524,15]}},"type":"App"},"identifier":"rtl"},{"annotation":{"meta":null,"sourceSpan":{"end":[528,67],"start":[528,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[528,33],"start":[528,21]}},"type":"Var","value":{"identifier":"relaxByLayer","sourcePos":[537,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[528,37],"start":[528,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,37],"start":[528,34]}},"type":"Var","value":{"identifier":"rtl","sourcePos":[526,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,43],"start":[528,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,43],"start":[528,38]}},"type":"Var","value":{"identifier":"links","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,51],"start":[528,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,51],"start":[528,44]}},"type":"Var","value":{"identifier":"padding","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,56],"start":[528,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,56],"start":[528,52]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,62],"start":[528,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,62],"start":[528,57]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[522,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,67],"start":[528,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,67],"start":[528,63]}},"type":"Var","value":{"identifier":"beta","sourcePos":[524,15]}},"type":"App"},"identifier":"ltr"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[530,18],"start":[530,15]}},"type":"Var","value":{"identifier":"ltr","sourcePos":[528,15]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[532,14],"start":[518,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,14],"start":[532,9]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[509,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[533,41],"start":[518,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[533,21],"start":[533,10]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[533,23],"start":[533,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[533,23],"start":[533,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[533,40],"start":[533,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[533,39],"start":[533,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[533,35],"start":[533,25]}},"type":"Var","value":{"identifier":"iterations","sourcePos":[511,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[533,39],"start":[533,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[533,39],"start":[533,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[514,23],"start":[514,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[514,18],"start":[514,8]}},"type":"Var","value":{"identifier":"iterations","sourcePos":[511,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[514,23],"start":[514,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[514,23],"start":[514,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"relaxation"},{"annotation":{"meta":null,"sourceSpan":{"end":[189,49],"start":[189,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[193,43],"start":[190,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[195,63],"start":[195,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[195,63],"start":[195,3]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[195,63],"start":[195,3]}},"argument":"n","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[196,60],"start":[196,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[201,52],"start":[200,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,21],"start":[200,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,53],"start":[200,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,23]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,23]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,36]}},"type":"Var","value":{"identifier":"sum","sourcePos":[200,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[200,46],"start":[200,42]}},"type":"Var","value":{"identifier":"link","sourcePos":[200,28]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,57],"start":[200,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,57],"start":[200,54]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,52],"start":[200,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,13],"start":[201,7]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,46],"start":[201,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,15]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,34],"start":[201,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[201,22],"start":[201,21]}},"type":"Var","value":{"identifier":"l","sourcePos":[201,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[201,39],"start":[201,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[196,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,52],"start":[201,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,52],"start":[201,47]}},"type":"Var","value":{"identifier":"links","sourcePos":[196,3]}},"type":"App"},"type":"App"},"identifier":"totalOut"},{"annotation":{"meta":null,"sourceSpan":{"end":[199,52],"start":[198,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[198,20],"start":[198,15]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,52],"start":[198,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,51],"start":[198,22]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,51],"start":[198,22]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,51],"start":[198,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,38],"start":[198,35]}},"type":"Var","value":{"identifier":"sum","sourcePos":[198,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,51],"start":[198,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,51],"start":[198,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,45],"start":[198,41]}},"type":"Var","value":{"identifier":"link","sourcePos":[198,27]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,56],"start":[198,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,56],"start":[198,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,52],"start":[198,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[199,13],"start":[199,7]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,46],"start":[199,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,45],"start":[199,15]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,45],"start":[199,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,34],"start":[199,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,22],"start":[199,21]}},"type":"Var","value":{"identifier":"l","sourcePos":[199,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,45],"start":[199,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,45],"start":[199,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,39],"start":[199,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[196,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,52],"start":[199,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,52],"start":[199,47]}},"type":"Var","value":{"identifier":"links","sourcePos":[196,3]}},"type":"App"},"type":"App"},"identifier":"totalIn"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[196,60],"start":[196,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[201,52],"start":[190,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[196,27],"start":[196,26]}},"type":"Var","value":{"identifier":"n","sourcePos":[196,3]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[196,60],"start":[196,26]}},"copy":["name","x0","y0","x1","y1","depth","nodeHeight","layer","index","color","sourceLinks","targetLinks"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[190,1]}},"type":"ObjectUpdate","updates":[["value",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,49],"start":[196,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,49],"start":[196,42]}},"type":"Var","value":{"identifier":"totalIn","sourcePos":[198,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,58],"start":[196,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,58],"start":[196,50]}},"type":"Var","value":{"identifier":"totalOut","sourcePos":[200,5]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"setNodeValue"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,15],"start":[191,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,15],"start":[191,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,15],"start":[191,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[192,76],"start":[192,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[192,76],"start":[192,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,76],"start":[192,22]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[192,35],"start":[192,23]}},"type":"Var","value":{"identifier":"setNodeValue","sourcePos":[195,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,53],"start":[192,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,53],"start":[192,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,41],"start":[192,36]}},"type":"Var","value":{"identifier":"model","sourcePos":[191,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[192,76],"start":[192,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,76],"start":[192,59]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,64],"start":[192,59]}},"type":"Var","value":{"identifier":"model","sourcePos":[191,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"updatedNodes"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[193,43],"start":[193,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,43],"start":[193,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,43],"start":[193,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[193,41],"start":[193,29]}},"type":"Var","value":{"identifier":"updatedNodes","sourcePos":[192,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeNodeValues"},{"annotation":{"meta":null,"sourceSpan":{"end":[252,50],"start":[252,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[260,37],"start":[253,22]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,84],"start":[262,3]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,84],"start":[262,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,84],"start":[262,3]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,84],"start":[262,3]}},"argument":"current","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,84],"start":[262,3]}},"argument":"maxHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,84],"start":[262,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[263,18],"start":[263,13]}},"binderType":"VarBinder","identifier":"nodes1"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,25],"start":[263,19]}},"binderType":"VarBinder","identifier":"height1"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,33],"start":[263,26]}},"binderType":"VarBinder","identifier":"current1"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,43],"start":[263,34]}},"binderType":"VarBinder","identifier":"maxHeight1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[264,34],"start":[264,29]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[263,13]}},"guard":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[264,18],"start":[264,7]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[264,26],"start":[264,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[264,26],"start":[264,19]}},"type":"Var","value":{"identifier":"current1","sourcePos":[263,26]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[265,33],"start":[265,28]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[263,13]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[265,25],"start":[265,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,13],"start":[265,7]}},"type":"Var","value":{"identifier":"height1","sourcePos":[263,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[265,25],"start":[265,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,25],"start":[265,16]}},"type":"Var","value":{"identifier":"maxHeight1","sourcePos":[263,34]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[267,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[274,18],"start":[269,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,14],"start":[269,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,26],"start":[270,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[272,26],"start":[271,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[272,26],"start":[271,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,83],"start":[271,55]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[253,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,59],"start":[271,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[270,16]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,83],"start":[271,55]}},"copy":["index","color","depth","layer","name","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[253,1]}},"type":"ObjectUpdate","updates":[["nodeHeight",{"annotation":{"meta":null,"sourceSpan":{"end":[271,81],"start":[271,75]}},"type":"Var","value":{"identifier":"height1","sourcePos":[263,19]}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[272,26],"start":[271,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[272,26],"start":[272,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[270,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,41],"start":[271,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,41],"start":[271,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,35],"start":[271,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[270,16]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,49],"start":[271,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,49],"start":[271,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[263,26]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,18],"start":[269,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,18],"start":[274,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[263,13]}},"type":"App"},"identifier":"nodesWithHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[283,18],"start":[277,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[277,23],"start":[277,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[281,14],"start":[277,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[280,25],"start":[278,15]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[280,25],"start":[278,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[280,25],"start":[279,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[280,25],"start":[279,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"union","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,68],"start":[279,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,68],"start":[279,65]}},"type":"Var","value":{"identifier":"acc","sourcePos":[278,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,85],"start":[279,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,85],"start":[279,69]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[279,73],"start":[279,69]}},"type":"Var","value":{"identifier":"node","sourcePos":[278,20]}},"fieldName":"targetLinks","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[280,25],"start":[279,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[280,25],"start":[280,22]}},"type":"Var","value":{"identifier":"acc","sourcePos":[278,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,41],"start":[279,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,41],"start":[279,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[279,35],"start":[279,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[278,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,49],"start":[279,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,49],"start":[279,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[263,26]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,22],"start":[277,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[282,22],"start":[282,13]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Set"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[283,18],"start":[277,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[283,18],"start":[283,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[263,13]}},"type":"App"},"identifier":"next"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[285,20],"start":[285,11]}},"type":"Var","value":{"identifier":"bfsHeight","sourcePos":[262,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,36],"start":[285,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,36],"start":[285,21]}},"type":"Var","value":{"identifier":"nodesWithHeight","sourcePos":[269,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[285,49],"start":[285,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,48],"start":[285,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,44],"start":[285,38]}},"type":"Var","value":{"identifier":"height1","sourcePos":[263,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[285,48],"start":[285,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,48],"start":[285,47]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[285,54],"start":[285,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,54],"start":[285,50]}},"type":"Var","value":{"identifier":"next","sourcePos":[277,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[285,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[285,55]}},"type":"Var","value":{"identifier":"maxHeight1","sourcePos":[263,34]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[266,16],"start":[266,7]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[263,3]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[263,13]}},{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[263,3]}},"type":"Var","value":{"identifier":"height","sourcePos":[263,19]}},{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[263,3]}},"type":"Var","value":{"identifier":"current","sourcePos":[263,26]}},{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[263,3]}},"type":"Var","value":{"identifier":"maxHeight","sourcePos":[263,34]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bfsHeight"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,15],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[254,15],"start":[254,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,15],"start":[254,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[255,35],"start":[255,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[255,35],"start":[255,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[255,17],"start":[255,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,35],"start":[255,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,35],"start":[255,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[255,23],"start":[255,18]}},"type":"Var","value":{"identifier":"model","sourcePos":[254,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[257,83],"start":[257,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[257,83],"start":[257,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[257,25],"start":[257,19]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,65],"start":[257,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,64],"start":[257,27]}},"argument":"node","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[257,47],"start":[257,36]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,64],"start":[257,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,64],"start":[257,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[257,52],"start":[257,48]}},"type":"Var","value":{"identifier":"node","sourcePos":[257,28]}},"fieldName":"sourceLinks","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,83],"start":[257,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,83],"start":[257,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[257,71],"start":[257,66]}},"type":"Var","value":{"identifier":"model","sourcePos":[254,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"sinkNodes"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[258,66],"start":[258,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[258,66],"start":[258,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,66],"start":[258,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,56],"start":[258,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,55],"start":[258,48]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[258,55],"start":[258,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"index","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,66],"start":[258,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,66],"start":[258,57]}},"type":"Var","value":{"identifier":"sinkNodes","sourcePos":[257,7]}},"type":"App"},"type":"App"},"identifier":"initialCurrent"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,62],"start":[259,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[259,62],"start":[259,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[259,25],"start":[259,16]}},"type":"Var","value":{"identifier":"bfsHeight","sourcePos":[262,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[259,43],"start":[259,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,43],"start":[259,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,31],"start":[259,26]}},"type":"Var","value":{"identifier":"model","sourcePos":[254,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,45],"start":[259,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,45],"start":[259,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,60],"start":[259,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,60],"start":[259,46]}},"type":"Var","value":{"identifier":"initialCurrent","sourcePos":[258,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,62],"start":[259,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,62],"start":[259,61]}},"type":"Var","value":{"identifier":"n","sourcePos":[255,7]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[260,37],"start":[260,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[260,37],"start":[260,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[260,37],"start":[260,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[260,35],"start":[260,29]}},"type":"Var","value":{"identifier":"result","sourcePos":[259,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeNodeHeights"},{"annotation":{"meta":null,"sourceSpan":{"end":[210,49],"start":[210,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[218,37],"start":[211,21]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[220,83],"start":[220,3]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,83],"start":[220,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,83],"start":[220,3]}},"argument":"depth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,83],"start":[220,3]}},"argument":"current","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,83],"start":[220,3]}},"argument":"maxDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,83],"start":[220,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[221,17],"start":[221,12]}},"binderType":"VarBinder","identifier":"nodes1"},{"annotation":{"meta":null,"sourceSpan":{"end":[221,23],"start":[221,18]}},"binderType":"VarBinder","identifier":"depth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[221,31],"start":[221,24]}},"binderType":"VarBinder","identifier":"current1"},{"annotation":{"meta":null,"sourceSpan":{"end":[221,40],"start":[221,32]}},"binderType":"VarBinder","identifier":"maxDepth1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[222,34],"start":[222,29]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[221,12]}},"guard":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[222,18],"start":[222,7]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,26],"start":[222,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,26],"start":[222,19]}},"type":"Var","value":{"identifier":"current1","sourcePos":[221,24]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[223,31],"start":[223,26]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[221,12]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,23],"start":[223,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,12],"start":[223,7]}},"type":"Var","value":{"identifier":"depth1","sourcePos":[221,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,23],"start":[223,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,23],"start":[223,15]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[221,32]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[225,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[232,18],"start":[227,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[231,14],"start":[227,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,26],"start":[228,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,26],"start":[229,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[230,26],"start":[229,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,77],"start":[229,55]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[211,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,59],"start":[229,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[228,16]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,77],"start":[229,55]}},"copy":["index","color","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[211,1]}},"type":"ObjectUpdate","updates":[["depth",{"annotation":{"meta":null,"sourceSpan":{"end":[229,75],"start":[229,70]}},"type":"Var","value":{"identifier":"depth1","sourcePos":[221,18]}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[230,26],"start":[229,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[230,26],"start":[230,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[228,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,41],"start":[229,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,41],"start":[229,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,35],"start":[229,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[228,16]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,49],"start":[229,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,49],"start":[229,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[221,24]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[232,18],"start":[227,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[232,18],"start":[232,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[221,12]}},"type":"App"},"identifier":"nodesWithDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[241,18],"start":[235,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[235,23],"start":[235,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[239,14],"start":[235,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,25],"start":[236,15]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[238,25],"start":[236,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[238,25],"start":[237,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[238,25],"start":[237,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"union","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[237,68],"start":[237,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,68],"start":[237,65]}},"type":"Var","value":{"identifier":"acc","sourcePos":[236,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[237,85],"start":[237,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,85],"start":[237,69]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[237,73],"start":[237,69]}},"type":"Var","value":{"identifier":"node","sourcePos":[236,20]}},"fieldName":"sourceLinks","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[238,25],"start":[237,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[238,25],"start":[238,22]}},"type":"Var","value":{"identifier":"acc","sourcePos":[236,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[237,41],"start":[237,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,41],"start":[237,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[237,35],"start":[237,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[236,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[237,49],"start":[237,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,49],"start":[237,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[221,24]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[240,22],"start":[235,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[240,22],"start":[240,13]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Set"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[241,18],"start":[235,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[241,18],"start":[241,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[221,12]}},"type":"App"},"identifier":"next"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[243,19],"start":[243,11]}},"type":"Var","value":{"identifier":"bfsDepth","sourcePos":[220,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,34],"start":[243,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,34],"start":[243,20]}},"type":"Var","value":{"identifier":"nodesWithDepth","sourcePos":[227,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,46],"start":[243,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,45],"start":[243,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,41],"start":[243,36]}},"type":"Var","value":{"identifier":"depth1","sourcePos":[221,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,45],"start":[243,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,45],"start":[243,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,51],"start":[243,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,51],"start":[243,47]}},"type":"Var","value":{"identifier":"next","sourcePos":[235,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[243,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[243,52]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[221,32]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[224,16],"start":[224,7]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[221,3]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[221,12]}},{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[221,3]}},"type":"Var","value":{"identifier":"depth","sourcePos":[221,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[221,3]}},"type":"Var","value":{"identifier":"current","sourcePos":[221,24]}},{"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[221,3]}},"type":"Var","value":{"identifier":"maxDepth","sourcePos":[221,32]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bfsDepth"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,15],"start":[212,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,15],"start":[212,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,15],"start":[212,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[213,35],"start":[213,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,35],"start":[213,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[213,17],"start":[213,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,35],"start":[213,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,35],"start":[213,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[213,23],"start":[213,18]}},"type":"Var","value":{"identifier":"model","sourcePos":[212,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,85],"start":[215,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[215,85],"start":[215,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[215,27],"start":[215,21]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,67],"start":[215,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,66],"start":[215,29]}},"argument":"node","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[215,49],"start":[215,38]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,66],"start":[215,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,66],"start":[215,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,54],"start":[215,50]}},"type":"Var","value":{"identifier":"node","sourcePos":[215,30]}},"fieldName":"targetLinks","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,85],"start":[215,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,85],"start":[215,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,73],"start":[215,68]}},"type":"Var","value":{"identifier":"model","sourcePos":[212,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"sourceNodes"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,68],"start":[216,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[216,68],"start":[216,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,68],"start":[216,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,56],"start":[216,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,55],"start":[216,48]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[216,55],"start":[216,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"index","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[216,68],"start":[216,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,68],"start":[216,57]}},"type":"Var","value":{"identifier":"sourceNodes","sourcePos":[215,7]}},"type":"App"},"type":"App"},"identifier":"initialCurrent"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,61],"start":[217,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[217,61],"start":[217,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[217,24],"start":[217,16]}},"type":"Var","value":{"identifier":"bfsDepth","sourcePos":[220,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,42],"start":[217,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,42],"start":[217,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,30],"start":[217,25]}},"type":"Var","value":{"identifier":"model","sourcePos":[212,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,44],"start":[217,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,44],"start":[217,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,59],"start":[217,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,59],"start":[217,45]}},"type":"Var","value":{"identifier":"initialCurrent","sourcePos":[216,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,61],"start":[217,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,61],"start":[217,60]}},"type":"Var","value":{"identifier":"n","sourcePos":[213,7]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,37],"start":[218,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,37],"start":[218,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[218,37],"start":[218,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[218,35],"start":[218,29]}},"type":"Var","value":{"identifier":"result","sourcePos":[217,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeNodeDepths"},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[927,41],"start":[903,23]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[953,86],"start":[953,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[953,86],"start":[953,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[953,86],"start":[953,3]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1038,18],"start":[955,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[995,14],"start":[957,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[957,26],"start":[957,21]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[993,10],"start":[957,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[992,29],"start":[958,11]}},"argument":"currentLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[992,29],"start":[958,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[992,29],"start":[959,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[961,92],"start":[961,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[961,37],"start":[961,31]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[961,79],"start":[961,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,78],"start":[961,39]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[961,78],"start":[961,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,64],"start":[961,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[961,52],"start":[961,48]}},"type":"Var","value":{"identifier":"link","sourcePos":[961,40]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[961,78],"start":[961,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,78],"start":[961,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[961,72],"start":[961,68]}},"type":"Var","value":{"identifier":"node","sourcePos":[958,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[961,92],"start":[961,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,92],"start":[961,80]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[958,12]}},"type":"App"},"identifier":"outgoingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[970,30],"start":[964,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[964,36],"start":[964,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[969,18],"start":[964,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[968,54],"start":[965,19]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[968,54],"start":[965,19]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[968,54],"start":[966,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[966,75],"start":[966,71]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[966,108],"start":[966,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,107],"start":[966,77]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[966,107],"start":[966,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,90],"start":[966,83]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[966,84],"start":[966,83]}},"type":"Var","value":{"identifier":"n","sourcePos":[966,78]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[966,107],"start":[966,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,107],"start":[966,94]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[966,95],"start":[966,94]}},"type":"Var","value":{"identifier":"b","sourcePos":[965,22]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[966,114],"start":[966,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,114],"start":[966,109]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[954,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[966,30],"start":[966,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[966,63],"start":[966,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,62],"start":[966,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[966,62],"start":[966,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,45],"start":[966,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[966,39],"start":[966,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[966,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[966,62],"start":[966,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,62],"start":[966,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[966,50],"start":[966,49]}},"type":"Var","value":{"identifier":"a","sourcePos":[965,20]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[966,69],"start":[966,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[966,69],"start":[966,64]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[954,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[968,54],"start":[966,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[967,30],"start":[967,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[967,30],"start":[967,28]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[967,39],"start":[967,32]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[967,39],"start":[967,37]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[967,89],"start":[967,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[967,56],"start":[967,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[967,56],"start":[967,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[967,53],"start":[967,51]}},"type":"Var","value":{"identifier":"na","sourcePos":[967,28]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[967,62],"start":[967,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[967,62],"start":[967,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[967,59],"start":[967,57]}},"type":"Var","value":{"identifier":"nb","sourcePos":[967,37]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[967,89],"start":[967,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[967,81],"start":[967,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[967,81],"start":[967,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[967,75],"start":[967,74]}},"type":"Var","value":{"identifier":"a","sourcePos":[965,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[967,89],"start":[967,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[967,89],"start":[967,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[967,83],"start":[967,82]}},"type":"Var","value":{"identifier":"b","sourcePos":[965,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[968,24],"start":[968,23]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[968,27],"start":[968,26]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[968,46],"start":[968,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[968,46],"start":[968,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[968,40],"start":[968,39]}},"type":"Var","value":{"identifier":"a","sourcePos":[965,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[968,54],"start":[968,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[968,54],"start":[968,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[968,48],"start":[968,47]}},"type":"Var","value":{"identifier":"b","sourcePos":[965,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[970,30],"start":[964,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[970,30],"start":[970,17]}},"type":"Var","value":{"identifier":"outgoingLinks","sourcePos":[961,15]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[983,23],"start":[972,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[972,29],"start":[972,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[981,18],"start":[972,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[980,24],"start":[973,19]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[980,24],"start":[973,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[980,24],"start":[974,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[975,51],"start":[975,23]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[975,51],"start":[975,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[975,32],"start":[975,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[975,30],"start":[975,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[973,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[975,51],"start":[975,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[975,51],"start":[975,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[975,45],"start":[975,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[975,39],"start":[975,35]}},"type":"Var","value":{"identifier":"link","sourcePos":[973,24]}},"fieldName":"width","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[975,51],"start":[975,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[975,51],"start":[975,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"y"},{"annotation":{"meta":null,"sourceSpan":{"end":[976,48],"start":[976,23]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[976,48],"start":[976,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1038,18],"start":[903,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[976,37],"start":[976,33]}},"type":"Var","value":{"identifier":"link","sourcePos":[973,24]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[976,48],"start":[976,33]}},"copy":["width","index","sourceIndex","targetIndex","color","value","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[903,1]}},"type":"ObjectUpdate","updates":[["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[976,46],"start":[976,45]}},"type":"Var","value":{"identifier":"y","sourcePos":[975,23]}}]]},"type":"Let"},"identifier":"updated"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[980,24],"start":[978,23]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[978,46],"start":[978,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[978,33],"start":[978,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[978,31],"start":[978,28]}},"type":"Var","value":{"identifier":"acc","sourcePos":[973,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[978,46],"start":[978,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[978,46],"start":[978,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[978,40],"start":[978,36]}},"type":"Var","value":{"identifier":"link","sourcePos":[973,24]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["links",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[979,42],"start":[979,32]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[979,52],"start":[979,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[979,52],"start":[979,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[979,46],"start":[979,43]}},"type":"Var","value":{"identifier":"acc","sourcePos":[973,20]}},"fieldName":"links","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[979,60],"start":[979,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[979,60],"start":[979,53]}},"type":"Var","value":{"identifier":"updated","sourcePos":[976,23]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[982,42],"start":[972,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[982,42],"start":[982,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[982,29],"start":[982,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[982,26],"start":[982,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[958,25]}},"fieldName":"y0","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[982,40],"start":[982,38]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[983,23],"start":[972,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[983,23],"start":[983,17]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[964,15]}},"type":"App"},"identifier":"withY0"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[991,18],"start":[986,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[990,38],"start":[987,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[990,38],"start":[988,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[988,30],"start":[988,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[988,60],"start":[988,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[988,59],"start":[988,32]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[988,59],"start":[988,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[988,45],"start":[988,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[988,39],"start":[988,38]}},"type":"Var","value":{"identifier":"l","sourcePos":[988,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[988,59],"start":[988,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[988,59],"start":[988,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[988,53],"start":[988,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[987,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[988,73],"start":[988,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[988,73],"start":[988,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[988,67],"start":[988,61]}},"type":"Var","value":{"identifier":"withY0","sourcePos":[972,15]}},"fieldName":"links","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[990,38],"start":[988,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[989,39],"start":[989,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[989,39],"start":[989,28]}},"binderType":"VarBinder","identifier":"updatedLink"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[989,54],"start":[989,43]}},"type":"Var","value":{"identifier":"updatedLink","sourcePos":[989,28]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[990,30],"start":[990,23]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[990,38],"start":[990,34]}},"type":"Var","value":{"identifier":"link","sourcePos":[987,20]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[992,29],"start":[986,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[992,29],"start":[992,17]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[958,12]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[994,14],"start":[957,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[994,14],"start":[994,9]}},"type":"Var","value":{"identifier":"links","sourcePos":[954,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[995,14],"start":[957,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[995,14],"start":[995,9]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[954,3]}},"type":"App"},"identifier":"linksWithY0"},{"annotation":{"meta":null,"sourceSpan":{"end":[1036,14],"start":[998,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[998,26],"start":[998,21]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1034,10],"start":[998,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1033,29],"start":[999,11]}},"argument":"currentLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1033,29],"start":[999,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1033,29],"start":[1000,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1002,92],"start":[1002,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1002,37],"start":[1002,31]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1002,79],"start":[1002,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1002,78],"start":[1002,39]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1002,78],"start":[1002,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1002,64],"start":[1002,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1002,52],"start":[1002,48]}},"type":"Var","value":{"identifier":"link","sourcePos":[1002,40]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1002,78],"start":[1002,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1002,78],"start":[1002,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1002,72],"start":[1002,68]}},"type":"Var","value":{"identifier":"node","sourcePos":[999,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1002,92],"start":[1002,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1002,92],"start":[1002,80]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[999,12]}},"type":"App"},"identifier":"incomingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[1011,30],"start":[1005,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1005,36],"start":[1005,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1010,18],"start":[1005,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,54],"start":[1006,19]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,54],"start":[1006,19]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,54],"start":[1007,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1007,75],"start":[1007,71]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1007,108],"start":[1007,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,107],"start":[1007,77]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1007,107],"start":[1007,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,90],"start":[1007,83]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,84],"start":[1007,83]}},"type":"Var","value":{"identifier":"n","sourcePos":[1007,78]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1007,107],"start":[1007,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,107],"start":[1007,94]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,95],"start":[1007,94]}},"type":"Var","value":{"identifier":"b","sourcePos":[1006,22]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1007,114],"start":[1007,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,114],"start":[1007,109]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[954,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1007,30],"start":[1007,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1007,63],"start":[1007,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,62],"start":[1007,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1007,62],"start":[1007,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,45],"start":[1007,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,39],"start":[1007,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[1007,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1007,62],"start":[1007,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,62],"start":[1007,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,50],"start":[1007,49]}},"type":"Var","value":{"identifier":"a","sourcePos":[1006,20]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1007,69],"start":[1007,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1007,69],"start":[1007,64]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[954,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,54],"start":[1007,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[1008,30],"start":[1008,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1008,30],"start":[1008,28]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[1008,39],"start":[1008,32]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1008,39],"start":[1008,37]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1008,89],"start":[1008,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1008,56],"start":[1008,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,56],"start":[1008,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,53],"start":[1008,51]}},"type":"Var","value":{"identifier":"na","sourcePos":[1008,28]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1008,62],"start":[1008,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,62],"start":[1008,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,59],"start":[1008,57]}},"type":"Var","value":{"identifier":"nb","sourcePos":[1008,37]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1008,89],"start":[1008,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1008,81],"start":[1008,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,81],"start":[1008,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,75],"start":[1008,74]}},"type":"Var","value":{"identifier":"a","sourcePos":[1006,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1008,89],"start":[1008,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,89],"start":[1008,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1008,83],"start":[1008,82]}},"type":"Var","value":{"identifier":"b","sourcePos":[1006,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1009,24],"start":[1009,23]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[1009,27],"start":[1009,26]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1009,46],"start":[1009,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,46],"start":[1009,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,40],"start":[1009,39]}},"type":"Var","value":{"identifier":"a","sourcePos":[1006,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1009,54],"start":[1009,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,54],"start":[1009,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,48],"start":[1009,47]}},"type":"Var","value":{"identifier":"b","sourcePos":[1006,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1011,30],"start":[1005,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,30],"start":[1011,17]}},"type":"Var","value":{"identifier":"incomingLinks","sourcePos":[1002,15]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[1024,23],"start":[1013,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1013,29],"start":[1013,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1022,18],"start":[1013,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,24],"start":[1014,19]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,24],"start":[1014,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,24],"start":[1015,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1016,51],"start":[1016,23]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1016,51],"start":[1016,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,32],"start":[1016,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,30],"start":[1016,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[1014,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1016,51],"start":[1016,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1016,51],"start":[1016,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,45],"start":[1016,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,39],"start":[1016,35]}},"type":"Var","value":{"identifier":"link","sourcePos":[1014,24]}},"fieldName":"width","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1016,51],"start":[1016,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,51],"start":[1016,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"y"},{"annotation":{"meta":null,"sourceSpan":{"end":[1017,48],"start":[1017,23]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1017,48],"start":[1017,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1038,18],"start":[903,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1017,37],"start":[1017,33]}},"type":"Var","value":{"identifier":"link","sourcePos":[1014,24]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1017,48],"start":[1017,33]}},"copy":["width","index","sourceIndex","targetIndex","color","value","y0"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[903,1]}},"type":"ObjectUpdate","updates":[["y1",{"annotation":{"meta":null,"sourceSpan":{"end":[1017,46],"start":[1017,45]}},"type":"Var","value":{"identifier":"y","sourcePos":[1016,23]}}]]},"type":"Let"},"identifier":"updated"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,24],"start":[1019,23]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1019,46],"start":[1019,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,33],"start":[1019,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,31],"start":[1019,28]}},"type":"Var","value":{"identifier":"acc","sourcePos":[1014,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1019,46],"start":[1019,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,46],"start":[1019,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,40],"start":[1019,36]}},"type":"Var","value":{"identifier":"link","sourcePos":[1014,24]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["links",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1020,42],"start":[1020,32]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1020,52],"start":[1020,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1020,52],"start":[1020,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1020,46],"start":[1020,43]}},"type":"Var","value":{"identifier":"acc","sourcePos":[1014,20]}},"fieldName":"links","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1020,60],"start":[1020,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1020,60],"start":[1020,53]}},"type":"Var","value":{"identifier":"updated","sourcePos":[1017,23]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1023,42],"start":[1013,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1023,42],"start":[1023,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[1023,29],"start":[1023,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1023,26],"start":[1023,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[999,25]}},"fieldName":"y0","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[1023,40],"start":[1023,38]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1024,23],"start":[1013,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,23],"start":[1024,17]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[1005,15]}},"type":"App"},"identifier":"withY1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1032,18],"start":[1027,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1031,38],"start":[1028,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1031,38],"start":[1029,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1029,30],"start":[1029,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1029,60],"start":[1029,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,59],"start":[1029,32]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1029,59],"start":[1029,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,45],"start":[1029,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,39],"start":[1029,38]}},"type":"Var","value":{"identifier":"l","sourcePos":[1029,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1029,59],"start":[1029,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,59],"start":[1029,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,53],"start":[1029,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[1028,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1029,73],"start":[1029,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,73],"start":[1029,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1029,67],"start":[1029,61]}},"type":"Var","value":{"identifier":"withY1","sourcePos":[1013,15]}},"fieldName":"links","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1031,38],"start":[1029,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[1030,39],"start":[1030,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1030,39],"start":[1030,28]}},"binderType":"VarBinder","identifier":"updatedLink"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1030,54],"start":[1030,43]}},"type":"Var","value":{"identifier":"updatedLink","sourcePos":[1030,28]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1031,30],"start":[1031,23]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1031,38],"start":[1031,34]}},"type":"Var","value":{"identifier":"link","sourcePos":[1028,20]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1033,29],"start":[1027,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1033,29],"start":[1033,17]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[999,12]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1035,20],"start":[998,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1035,20],"start":[1035,9]}},"type":"Var","value":{"identifier":"linksWithY0","sourcePos":[957,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1036,14],"start":[998,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1036,14],"start":[1036,9]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[954,3]}},"type":"App"},"identifier":"linksWithY1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1038,18],"start":[1038,7]}},"type":"Var","value":{"identifier":"linksWithY1","sourcePos":[998,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"calculateLinkYPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[930,80],"start":[930,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[930,80],"start":[930,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[930,80],"start":[930,3]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[930,80],"start":[930,3]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[930,80],"start":[930,3]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[950,23],"start":[932,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[936,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[936,7]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[937,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[938,76],"start":[938,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[938,29],"start":[938,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[938,61],"start":[938,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[938,60],"start":[938,31]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[938,60],"start":[938,31]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[938,60],"start":[938,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[938,47],"start":[938,44]}},"type":"Var","value":{"identifier":"sum","sourcePos":[938,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[938,60],"start":[938,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[938,60],"start":[938,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[938,54],"start":[938,50]}},"type":"Var","value":{"identifier":"node","sourcePos":[938,36]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[938,65],"start":[938,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[938,65],"start":[938,62]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[938,76],"start":[938,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[938,76],"start":[938,66]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[936,7]}},"type":"App"},"identifier":"totalValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[939,50],"start":[939,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[939,30],"start":[939,22]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[939,50],"start":[939,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[939,38],"start":[939,32]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[939,49],"start":[939,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,49],"start":[939,39]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[936,7]}},"type":"App"},"type":"App"},"identifier":"numNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[940,67],"start":[940,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,67],"start":[940,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,37],"start":[940,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,32],"start":[940,30]}},"type":"Var","value":{"identifier":"y1","sourcePos":[931,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,37],"start":[940,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,37],"start":[940,35]}},"type":"Var","value":{"identifier":"y0","sourcePos":[931,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,67],"start":[940,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,67],"start":[940,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,56],"start":[940,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,50],"start":[940,42]}},"type":"Var","value":{"identifier":"numNodes","sourcePos":[939,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,56],"start":[940,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,56],"start":[940,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,67],"start":[940,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,67],"start":[940,60]}},"type":"Var","value":{"identifier":"padding","sourcePos":[931,3]}},"type":"App"},"type":"App"},"identifier":"availableHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[942,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[942,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[942,64],"start":[942,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[942,51],"start":[942,36]}},"type":"Var","value":{"identifier":"availableHeight","sourcePos":[940,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[942,64],"start":[942,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[942,64],"start":[942,54]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[938,11]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[942,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[942,73],"start":[942,70]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[942,30],"start":[942,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[942,24],"start":[942,14]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[938,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[942,30],"start":[942,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[942,30],"start":[942,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"scaleForLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[933,65],"start":[933,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[933,23],"start":[933,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[933,57],"start":[933,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[933,56],"start":[933,25]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[933,56],"start":[933,25]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[933,45],"start":[933,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[933,45],"start":[933,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[933,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[933,56],"start":[933,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[933,56],"start":[933,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[933,50],"start":[933,46]}},"type":"Var","value":{"identifier":"node","sourcePos":[933,30]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[933,59],"start":[933,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[933,59],"start":[933,58]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[933,65],"start":[933,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[933,65],"start":[933,60]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[931,3]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[934,106],"start":[934,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[934,81],"start":[934,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,80],"start":[934,21]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[934,40],"start":[934,34]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[934,74],"start":[934,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,73],"start":[934,42]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[934,73],"start":[934,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,61],"start":[934,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[934,55],"start":[934,51]}},"type":"Var","value":{"identifier":"node","sourcePos":[934,43]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[934,73],"start":[934,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,73],"start":[934,65]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[934,22]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[934,80],"start":[934,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,80],"start":[934,75]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[931,3]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[934,106],"start":[934,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[934,94],"start":[934,83]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[934,96],"start":[934,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,96],"start":[934,95]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[934,105],"start":[934,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,105],"start":[934,97]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[933,7]}},"type":"App"},"type":"App"},"identifier":"layers"},{"annotation":{"meta":null,"sourceSpan":{"end":[944,40],"start":[944,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[944,33],"start":[944,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[944,33],"start":[944,20]}},"type":"Var","value":{"identifier":"scaleForLayer","sourcePos":[936,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[944,40],"start":[944,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[944,40],"start":[944,34]}},"type":"Var","value":{"identifier":"layers","sourcePos":[934,7]}},"type":"App"},"identifier":"scales"},{"annotation":{"meta":null,"sourceSpan":{"end":[945,53],"start":[945,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[945,30],"start":[945,24]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[945,46],"start":[945,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[945,45],"start":[945,32]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[945,45],"start":[945,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[945,39],"start":[945,38]}},"type":"Var","value":{"identifier":"s","sourcePos":[945,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[945,45],"start":[945,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[945,45],"start":[945,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[945,53],"start":[945,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[945,53],"start":[945,47]}},"type":"Var","value":{"identifier":"scales","sourcePos":[944,7]}},"type":"App"},"identifier":"nonEmptyScales"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[950,23],"start":[948,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[948,22],"start":[948,12]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[948,37],"start":[948,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[948,37],"start":[948,23]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[945,7]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[950,23],"start":[948,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[949,24],"start":[949,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[949,24],"start":[949,14]}},"binderType":"VarBinder","identifier":"firstScale"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[949,33],"start":[949,28]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[949,37],"start":[949,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[949,48],"start":[949,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[949,48],"start":[949,38]}},"type":"Var","value":{"identifier":"firstScale","sourcePos":[949,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[949,63],"start":[949,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[949,63],"start":[949,49]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[945,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[950,16],"start":[950,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[950,23],"start":[950,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateGlobalKy1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[904,15],"start":[904,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[904,15],"start":[904,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[904,15],"start":[904,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[905,28],"start":[905,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[905,28],"start":[905,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[905,28],"start":[905,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[905,21],"start":[905,16]}},"type":"Var","value":{"identifier":"model","sourcePos":[904,3]}},"fieldName":"config","type":"Accessor"},"identifier":"config"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,100],"start":[908,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[908,100],"start":[908,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[908,29],"start":[908,12]}},"type":"Var","value":{"identifier":"calculateGlobalKy1","sourcePos":[930,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[908,47],"start":[908,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[908,47],"start":[908,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,35],"start":[908,30]}},"type":"Var","value":{"identifier":"model","sourcePos":[904,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[908,64],"start":[908,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[908,64],"start":[908,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,64],"start":[908,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,54],"start":[908,48]}},"type":"Var","value":{"identifier":"config","sourcePos":[905,7]}},"fieldName":"extent","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[908,81],"start":[908,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[908,81],"start":[908,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,81],"start":[908,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,71],"start":[908,65]}},"type":"Var","value":{"identifier":"config","sourcePos":[905,7]}},"fieldName":"extent","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[908,100],"start":[908,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[908,100],"start":[908,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,88],"start":[908,82]}},"type":"Var","value":{"identifier":"config","sourcePos":[905,7]}},"fieldName":"nodePadding","type":"Accessor"},"type":"App"},"identifier":"ky"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[909,89],"start":[909,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[909,89],"start":[909,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[909,71],"start":[909,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[909,70],"start":[909,29]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[909,70],"start":[909,38]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1038,18],"start":[903,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[909,42],"start":[909,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[909,30]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[909,70],"start":[909,38]}},"copy":["value","color","index","sourceIndex","targetIndex","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[903,1]}},"type":"ObjectUpdate","updates":[["width",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[909,68],"start":[909,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[909,63],"start":[909,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[909,57],"start":[909,53]}},"type":"Var","value":{"identifier":"link","sourcePos":[909,30]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[909,68],"start":[909,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[909,68],"start":[909,66]}},"type":"Var","value":{"identifier":"ky","sourcePos":[908,7]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[909,89],"start":[909,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[909,89],"start":[909,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[909,77],"start":[909,72]}},"type":"Var","value":{"identifier":"model","sourcePos":[904,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"identifier":"linksWithWidth"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[912,76],"start":[912,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[912,76],"start":[912,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[912,43],"start":[912,20]}},"type":"Var","value":{"identifier":"calculateLinkYPositions","sourcePos":[953,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[912,61],"start":[912,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[912,61],"start":[912,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[912,49],"start":[912,44]}},"type":"Var","value":{"identifier":"model","sourcePos":[904,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[912,76],"start":[912,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[912,76],"start":[912,62]}},"type":"Var","value":{"identifier":"linksWithWidth","sourcePos":[909,7]}},"type":"App"},"identifier":"linksWithY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[916,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[916,28],"start":[916,9]}},"type":"Var","value":{"identifier":"unsafePerformEffect","moduleName":["Effect","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[916,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[917,48],"start":[917,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[917,10],"start":[917,7]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[917,48],"start":[917,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[917,48],"start":[917,11]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"\n=== After computeLinkBreadths ==="}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[917,48],"start":[917,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[917,48],"start":[917,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[918,22],"start":[918,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[918,22],"start":[918,12]}},"type":"Var","value":{"identifier":"linksWithY","sourcePos":[912,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[918,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[918,25]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[919,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[921,15],"start":[921,11]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[921,51],"start":[921,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[921,50],"start":[921,17]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[921,50],"start":[921,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[921,30],"start":[921,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[921,24],"start":[921,23]}},"type":"Var","value":{"identifier":"n","sourcePos":[921,18]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[921,50],"start":[921,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[921,50],"start":[921,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[921,38],"start":[921,34]}},"type":"Var","value":{"identifier":"link","sourcePos":[918,26]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[921,69],"start":[921,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[921,69],"start":[921,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[921,57],"start":[921,52]}},"type":"Var","value":{"identifier":"model","sourcePos":[904,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[920,15],"start":[920,11]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[920,51],"start":[920,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,50],"start":[920,17]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[920,50],"start":[920,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,30],"start":[920,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[920,24],"start":[920,23]}},"type":"Var","value":{"identifier":"n","sourcePos":[920,18]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[920,50],"start":[920,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,50],"start":[920,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[920,38],"start":[920,34]}},"type":"Var","value":{"identifier":"link","sourcePos":[918,26]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[920,69],"start":[920,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,69],"start":[920,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[920,57],"start":[920,52]}},"type":"Var","value":{"identifier":"model","sourcePos":[904,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[919,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[923,23],"start":[923,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[923,23],"start":[923,16]}},"binderType":"VarBinder","identifier":"srcNode"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[923,37],"start":[923,25]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[923,37],"start":[923,30]}},"binderType":"VarBinder","identifier":"tgtNode"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[924,16],"start":[924,13]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,23],"start":[924,19]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"  "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,39],"start":[924,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[924,34],"start":[924,27]}},"type":"Var","value":{"identifier":"srcNode","sourcePos":[923,16]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,49],"start":[924,43]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" -> "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,65],"start":[924,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[924,60],"start":[924,53]}},"type":"Var","value":{"identifier":"tgtNode","sourcePos":[923,30]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,77],"start":[924,69]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | y0="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,93],"start":[924,81]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,93],"start":[924,86]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[924,90],"start":[924,86]}},"type":"Var","value":{"identifier":"link","sourcePos":[918,26]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,105],"start":[924,97]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | y1="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,121],"start":[924,109]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,121],"start":[924,114]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[924,118],"start":[924,114]}},"type":"Var","value":{"identifier":"link","sourcePos":[918,26]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,136],"start":[924,125]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | width="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,140]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,155],"start":[924,145]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[924,149],"start":[924,145]}},"type":"Var","value":{"identifier":"link","sourcePos":[918,26]}},"fieldName":"width","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[925,12],"start":[925,11]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[925,15],"start":[925,14]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[925,28],"start":[925,19]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[925,28],"start":[925,24]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[902,51],"start":[902,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"v"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[927,41],"start":[927,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[927,41],"start":[927,11]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[927,41],"start":[927,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyLinks",{"annotation":{"meta":null,"sourceSpan":{"end":[927,39],"start":[927,29]}},"type":"Var","value":{"identifier":"linksWithY","sourcePos":[912,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeLinkBreadths"},{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[313,21],"start":[295,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[299,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[299,5]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[300,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[301,74],"start":[301,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[301,27],"start":[301,22]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,59],"start":[301,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,58],"start":[301,29]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[301,58],"start":[301,29]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,58],"start":[301,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,45],"start":[301,42]}},"type":"Var","value":{"identifier":"sum","sourcePos":[301,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[301,58],"start":[301,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,58],"start":[301,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[301,52],"start":[301,48]}},"type":"Var","value":{"identifier":"node","sourcePos":[301,34]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[301,63],"start":[301,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,63],"start":[301,60]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[301,74],"start":[301,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,74],"start":[301,64]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[299,5]}},"type":"App"},"identifier":"totalValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[302,48],"start":[302,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[302,28],"start":[302,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[302,48],"start":[302,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[302,36],"start":[302,30]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[302,47],"start":[302,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[302,47],"start":[302,37]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[299,5]}},"type":"App"},"type":"App"},"identifier":"numNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[303,65],"start":[303,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[303,65],"start":[303,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[303,35],"start":[303,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[303,30],"start":[303,28]}},"type":"Var","value":{"identifier":"y1","sourcePos":[294,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[303,35],"start":[303,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[303,35],"start":[303,33]}},"type":"Var","value":{"identifier":"y0","sourcePos":[294,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[303,65],"start":[303,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[303,65],"start":[303,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[303,54],"start":[303,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[303,48],"start":[303,40]}},"type":"Var","value":{"identifier":"numNodes","sourcePos":[302,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[303,54],"start":[303,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[303,54],"start":[303,51]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[303,65],"start":[303,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[303,65],"start":[303,58]}},"type":"Var","value":{"identifier":"padding","sourcePos":[294,1]}},"type":"App"},"type":"App"},"identifier":"availableHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[305,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[305,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[305,62],"start":[305,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[305,49],"start":[305,34]}},"type":"Var","value":{"identifier":"availableHeight","sourcePos":[303,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[305,62],"start":[305,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[305,62],"start":[305,52]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[301,9]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[305,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,71],"start":[305,68]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[305,28],"start":[305,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[305,22],"start":[305,12]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[301,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[305,28],"start":[305,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[305,28],"start":[305,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"scaleForLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[296,63],"start":[296,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[296,21],"start":[296,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[296,55],"start":[296,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,54],"start":[296,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[296,54],"start":[296,23]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[296,43],"start":[296,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,43],"start":[296,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[296,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[296,54],"start":[296,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,54],"start":[296,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[296,48],"start":[296,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[296,28]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[296,57],"start":[296,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,57],"start":[296,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[296,63],"start":[296,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,63],"start":[296,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[294,1]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[297,104],"start":[297,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[297,79],"start":[297,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,78],"start":[297,19]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[297,38],"start":[297,32]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[297,72],"start":[297,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,71],"start":[297,40]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[297,71],"start":[297,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,59],"start":[297,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[297,53],"start":[297,49]}},"type":"Var","value":{"identifier":"node","sourcePos":[297,41]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[297,71],"start":[297,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,71],"start":[297,63]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[297,20]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[297,78],"start":[297,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,78],"start":[297,73]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[294,1]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[297,104],"start":[297,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[297,92],"start":[297,81]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[297,94],"start":[297,81]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,94],"start":[297,93]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[297,103],"start":[297,81]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,103],"start":[297,95]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[296,5]}},"type":"App"},"type":"App"},"identifier":"layers"},{"annotation":{"meta":null,"sourceSpan":{"end":[307,38],"start":[307,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[307,31],"start":[307,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[307,31],"start":[307,18]}},"type":"Var","value":{"identifier":"scaleForLayer","sourcePos":[299,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[307,38],"start":[307,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[307,38],"start":[307,32]}},"type":"Var","value":{"identifier":"layers","sourcePos":[297,5]}},"type":"App"},"identifier":"scales"},{"annotation":{"meta":null,"sourceSpan":{"end":[308,51],"start":[308,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[308,28],"start":[308,22]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[308,44],"start":[308,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,43],"start":[308,30]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[308,43],"start":[308,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,37],"start":[308,36]}},"type":"Var","value":{"identifier":"s","sourcePos":[308,31]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,43],"start":[308,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,43],"start":[308,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,51],"start":[308,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,51],"start":[308,45]}},"type":"Var","value":{"identifier":"scales","sourcePos":[307,5]}},"type":"App"},"identifier":"nonEmptyScales"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,21],"start":[311,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[311,20],"start":[311,10]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[311,35],"start":[311,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,35],"start":[311,21]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[308,5]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,21],"start":[311,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[312,22],"start":[312,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[312,22],"start":[312,12]}},"binderType":"VarBinder","identifier":"firstScale"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[312,31],"start":[312,26]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,35],"start":[312,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[312,46],"start":[312,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,46],"start":[312,36]}},"type":"Var","value":{"identifier":"firstScale","sourcePos":[312,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[312,61],"start":[312,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,61],"start":[312,47]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[308,5]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[313,14],"start":[313,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,21],"start":[313,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[293,78],"start":[293,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateGlobalKy"},{"annotation":{"meta":null,"sourceSpan":{"end":[1045,44],"start":[1045,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1047,15],"start":[1047,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1047,15],"start":[1047,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1047,15],"start":[1047,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1048,28],"start":[1048,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1048,28],"start":[1048,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1048,28],"start":[1048,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1048,21],"start":[1048,16]}},"type":"Var","value":{"identifier":"model","sourcePos":[1047,3]}},"fieldName":"config","type":"Accessor"},"identifier":"config"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1068,24],"start":[1051,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1063,8],"start":[1052,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1063,8],"start":[1053,7]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[1053,18],"start":[1053,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#1f77b4"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1054,18],"start":[1054,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#ff7f0e"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1055,18],"start":[1055,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#2ca02c"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1056,18],"start":[1056,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#d62728"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1057,18],"start":[1057,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#9467bd"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1058,18],"start":[1058,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#8c564b"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1059,18],"start":[1059,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#e377c2"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1060,18],"start":[1060,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#7f7f7f"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1061,18],"start":[1061,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#bcbd22"}},{"annotation":{"meta":null,"sourceSpan":{"end":[1062,18],"start":[1062,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#17becf"}}]}},"identifier":"colors"},{"annotation":{"meta":null,"sourceSpan":{"end":[1068,24],"start":[1064,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1064,34],"start":[1064,22]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1067,8],"start":[1064,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,80],"start":[1065,9]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,80],"start":[1065,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,80],"start":[1066,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1046,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,15],"start":[1066,11]}},"type":"Var","value":{"identifier":"node","sourcePos":[1065,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,80],"start":[1066,11]}},"copy":["depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[1046,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1066,35],"start":[1066,26]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1066,42],"start":[1066,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,42],"start":[1066,36]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#999"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1066,78],"start":[1066,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1066,53],"start":[1066,51]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1066,77],"start":[1066,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,50],"start":[1066,44]}},"type":"Var","value":{"identifier":"colors","sourcePos":[1052,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1066,77],"start":[1066,44]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1066,76],"start":[1066,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,56],"start":[1066,55]}},"type":"Var","value":{"identifier":"i","sourcePos":[1065,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1066,76],"start":[1066,55]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1066,69],"start":[1066,63]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1066,76],"start":[1066,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1066,76],"start":[1066,70]}},"type":"Var","value":{"identifier":"colors","sourcePos":[1052,5]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1068,24],"start":[1064,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1068,24],"start":[1068,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1068,12],"start":[1068,7]}},"type":"Var","value":{"identifier":"model","sourcePos":[1047,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"nodesWithColor"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1089,29],"start":[1071,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1072,85],"start":[1072,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1072,85],"start":[1072,5]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1072,85],"start":[1072,5]}},"argument":"mode","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1072,85],"start":[1072,5]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1089,29],"start":[1074,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1075,20],"start":[1075,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SourceColor","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,69],"start":[1076,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1077,72],"start":[1077,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1077,30],"start":[1077,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1077,66],"start":[1077,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1077,65],"start":[1077,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1077,65],"start":[1077,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1077,45],"start":[1077,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1077,39],"start":[1077,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[1077,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1077,65],"start":[1077,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1077,65],"start":[1077,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1077,53],"start":[1077,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1077,72],"start":[1077,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1077,72],"start":[1077,67]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[1073,5]}},"type":"App"},"identifier":"sourceNode"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,69],"start":[1079,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1046,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,17],"start":[1079,13]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,69],"start":[1079,13]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[1046,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1079,33],"start":[1079,28]}},"type":"Var","value":{"identifier":"maybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1079,40],"start":[1079,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,40],"start":[1079,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#999"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1079,56],"start":[1079,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,55],"start":[1079,42]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,55],"start":[1079,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,49],"start":[1079,48]}},"type":"Var","value":{"identifier":"n","sourcePos":[1079,43]}},"fieldName":"color","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1079,67],"start":[1079,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1079,67],"start":[1079,57]}},"type":"Var","value":{"identifier":"sourceNode","sourcePos":[1077,13]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1080,20],"start":[1080,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TargetColor","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,69],"start":[1081,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1082,72],"start":[1082,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1082,30],"start":[1082,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1082,66],"start":[1082,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1082,65],"start":[1082,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1082,65],"start":[1082,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1082,45],"start":[1082,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1082,39],"start":[1082,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[1082,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1082,65],"start":[1082,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1082,65],"start":[1082,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1082,53],"start":[1082,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1082,72],"start":[1082,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1082,72],"start":[1082,67]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[1073,5]}},"type":"App"},"identifier":"targetNode"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,69],"start":[1084,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1046,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,17],"start":[1084,13]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,69],"start":[1084,13]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[1046,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1084,33],"start":[1084,28]}},"type":"Var","value":{"identifier":"maybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1084,40],"start":[1084,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,40],"start":[1084,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#999"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1084,56],"start":[1084,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,55],"start":[1084,42]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,55],"start":[1084,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,49],"start":[1084,48]}},"type":"Var","value":{"identifier":"n","sourcePos":[1084,43]}},"fieldName":"color","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1084,67],"start":[1084,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1084,67],"start":[1084,57]}},"type":"Var","value":{"identifier":"targetNode","sourcePos":[1082,13]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1085,29],"start":[1085,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SourceTargetGradient","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1086,40],"start":[1086,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[1086,26],"start":[1086,16]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1086,26],"start":[1086,23]}},"binderType":"VarBinder","identifier":"idx"}],"constructorName":{"identifier":"LinkID","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkID","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1087,73],"start":[1087,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1046,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1087,18],"start":[1087,14]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1087,73],"start":[1087,14]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[1046,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1087,71],"start":[1087,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1087,52],"start":[1087,29]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"url(#sankey-gradient-"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1087,71],"start":[1087,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1087,71],"start":[1087,29]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1087,64],"start":[1087,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1087,64],"start":[1087,61]}},"type":"Var","value":{"identifier":"idx","sourcePos":[1086,23]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1087,71],"start":[1087,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1087,71],"start":[1087,68]}},"type":"Literal","value":{"literalType":"StringLiteral","value":")"}},"type":"App"},"type":"App"}]]},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[1086,40],"start":[1086,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1086,34],"start":[1086,30]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"fieldName":"index","type":"Accessor"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[1088,22],"start":[1088,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1088,22],"start":[1088,21]}},"binderType":"VarBinder","identifier":"c"}],"constructorName":{"identifier":"StaticColor","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1089,29],"start":[1089,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1046,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1089,15],"start":[1089,11]}},"type":"Var","value":{"identifier":"link","sourcePos":[1073,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1089,29],"start":[1089,11]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[1046,1]}},"type":"ObjectUpdate","updates":[["color",{"annotation":{"meta":null,"sourceSpan":{"end":[1089,27],"start":[1089,26]}},"type":"Var","value":{"identifier":"c","sourcePos":[1088,21]}}]]},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[1074,16],"start":[1074,12]}},"type":"Var","value":{"identifier":"mode","sourcePos":[1073,5]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"assignLinkColor"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,99],"start":[1092,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1092,99],"start":[1092,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1092,81],"start":[1092,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,44],"start":[1092,29]}},"type":"Var","value":{"identifier":"assignLinkColor","sourcePos":[1072,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[1092,59],"start":[1092,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,59],"start":[1092,45]}},"type":"Var","value":{"identifier":"nodesWithColor","sourcePos":[1064,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1092,80],"start":[1092,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,80],"start":[1092,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,66],"start":[1092,60]}},"type":"Var","value":{"identifier":"config","sourcePos":[1048,7]}},"fieldName":"linkColorMode","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1092,99],"start":[1092,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,99],"start":[1092,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1092,87],"start":[1092,82]}},"type":"Var","value":{"identifier":"model","sourcePos":[1047,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"identifier":"linksWithColor"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1094,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1094,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[1094,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[1094,43],"start":[1094,29]}},"type":"Var","value":{"identifier":"nodesWithColor","sourcePos":[1064,5]}}],["sankeyLinks",{"annotation":{"meta":null,"sourceSpan":{"end":[1094,73],"start":[1094,59]}},"type":"Var","value":{"identifier":"linksWithColor","sourcePos":[1092,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"identifier":"assignColors"},{"annotation":{"meta":null,"sourceSpan":{"end":[410,58],"start":[410,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[410,58],"start":[410,1]}},"argument":"alignment","body":{"annotation":{"meta":null,"sourceSpan":{"end":[410,58],"start":[410,1]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[410,58],"start":[410,1]}},"argument":"numLayers","body":{"annotation":{"meta":null,"sourceSpan":{"end":[422,13],"start":[412,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[413,9],"start":[413,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Left","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[413,23],"start":[413,13]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[413,17],"start":[413,13]}},"type":"Var","value":{"identifier":"node","sourcePos":[411,1]}},"fieldName":"depth","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[414,10],"start":[414,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Right","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[414,19],"start":[414,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[414,19],"start":[414,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[414,53],"start":[414,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[414,52],"start":[414,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[414,52],"start":[414,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[414,30],"start":[414,21]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[411,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[414,52],"start":[414,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[414,34],"start":[414,33]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[414,52],"start":[414,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[414,52],"start":[414,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[414,41],"start":[414,37]}},"type":"Var","value":{"identifier":"node","sourcePos":[411,1]}},"fieldName":"nodeHeight","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[415,12],"start":[415,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Justify","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[418,22],"start":[416,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[418,22],"start":[416,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[417,25],"start":[417,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[417,21],"start":[417,12]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[411,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[417,25],"start":[417,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[417,25],"start":[417,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[418,22],"start":[416,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[418,22],"start":[418,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[418,16],"start":[418,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[411,1]}},"fieldName":"depth","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[416,21],"start":[416,10]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[416,38],"start":[416,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[416,38],"start":[416,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[416,26],"start":[416,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[411,1]}},"fieldName":"sourceLinks","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[419,11],"start":[419,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Center","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[422,13],"start":[420,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[422,13],"start":[420,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[421,22],"start":[421,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[421,16],"start":[421,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[411,1]}},"fieldName":"depth","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[422,13],"start":[420,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[422,13],"start":[422,12]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[420,44],"start":[420,10]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[420,26],"start":[420,15]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[420,43],"start":[420,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[420,43],"start":[420,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[420,31],"start":[420,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[411,1]}},"fieldName":"targetLinks","type":"Accessor"},"type":"App"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[412,17],"start":[412,8]}},"type":"Var","value":{"identifier":"alignment","sourcePos":[411,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"alignNodeToLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[380,94],"start":[380,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[380,94],"start":[380,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,94],"start":[380,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,94],"start":[380,1]}},"argument":"x0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,94],"start":[380,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[407,15],"start":[382,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[383,63],"start":[383,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[383,21],"start":[383,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[383,55],"start":[383,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[383,54],"start":[383,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[383,54],"start":[383,23]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[383,43],"start":[383,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[383,43],"start":[383,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[383,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[383,54],"start":[383,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[383,54],"start":[383,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[383,48],"start":[383,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[383,28]}},"fieldName":"depth","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[383,57],"start":[383,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[383,57],"start":[383,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[383,63],"start":[383,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[383,63],"start":[383,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[381,1]}},"type":"App"},"identifier":"maxDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[384,29],"start":[384,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[384,29],"start":[384,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,25],"start":[384,17]}},"type":"Var","value":{"identifier":"maxDepth","sourcePos":[383,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[384,29],"start":[384,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,29],"start":[384,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"numLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[395,12],"start":[388,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[394,8],"start":[388,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[393,35],"start":[389,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[393,35],"start":[390,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[391,69],"start":[391,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[391,37],"start":[391,21]}},"type":"Var","value":{"identifier":"alignNodeToLayer","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[391,54],"start":[391,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[391,54],"start":[391,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[391,44],"start":[391,38]}},"type":"Var","value":{"identifier":"config","sourcePos":[381,1]}},"fieldName":"alignment","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[391,59],"start":[391,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[391,59],"start":[391,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[389,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[391,69],"start":[391,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[391,69],"start":[391,60]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[384,5]}},"type":"App"},"identifier":"layer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[393,35],"start":[393,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[407,15],"start":[381,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[393,17],"start":[393,13]}},"type":"Var","value":{"identifier":"node","sourcePos":[389,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[393,35],"start":[393,13]}},"copy":["color","depth","index","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[381,1]}},"type":"ObjectUpdate","updates":[["layer",{"annotation":{"meta":null,"sourceSpan":{"end":[393,33],"start":[393,28]}},"type":"Var","value":{"identifier":"layer","sourcePos":[391,13]}}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[395,12],"start":[388,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[395,12],"start":[395,7]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[381,1]}},"type":"App"},"identifier":"nodesWithLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[385,75],"start":[385,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,75],"start":[385,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,37],"start":[385,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,37],"start":[385,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,13],"start":[385,11]}},"type":"Var","value":{"identifier":"x1","sourcePos":[381,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,37],"start":[385,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,18],"start":[385,16]}},"type":"Var","value":{"identifier":"x0","sourcePos":[381,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,37],"start":[385,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,37],"start":[385,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[385,27],"start":[385,21]}},"type":"Var","value":{"identifier":"config","sourcePos":[381,1]}},"fieldName":"nodeWidth","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,75],"start":[385,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,48],"start":[385,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,48],"start":[385,45]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,75],"start":[385,41]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[385,58],"start":[385,50]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,74],"start":[385,50]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,73],"start":[385,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,69],"start":[385,60]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[384,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,73],"start":[385,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,73],"start":[385,72]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"identifier":"kx"},{"annotation":{"meta":null,"sourceSpan":{"end":[405,21],"start":[398,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[404,8],"start":[398,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,63],"start":[399,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[403,63],"start":[400,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,23],"start":[401,21]}},"type":"Var","value":{"identifier":"x0","sourcePos":[381,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,21]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[401,34],"start":[401,26]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,45],"start":[401,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,45],"start":[401,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[401,39],"start":[401,35]}},"type":"Var","value":{"identifier":"node","sourcePos":[399,10]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,48]}},"type":"Var","value":{"identifier":"kx","sourcePos":[385,5]}},"type":"App"},"type":"App"},"identifier":"x0Pos"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[403,63],"start":[403,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[407,15],"start":[381,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[403,17],"start":[403,13]}},"type":"Var","value":{"identifier":"node","sourcePos":[399,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[403,63],"start":[403,13]}},"copy":["layer","color","depth","index","name","nodeHeight","sourceLinks","targetLinks","value","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[381,1]}},"type":"ObjectUpdate","updates":[["x0",{"annotation":{"meta":null,"sourceSpan":{"end":[403,30],"start":[403,25]}},"type":"Var","value":{"identifier":"x0Pos","sourcePos":[401,13]}}],["x1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[403,61],"start":[403,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,42],"start":[403,37]}},"type":"Var","value":{"identifier":"x0Pos","sourcePos":[401,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[403,61],"start":[403,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,61],"start":[403,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[403,51],"start":[403,45]}},"type":"Var","value":{"identifier":"config","sourcePos":[381,1]}},"fieldName":"nodeWidth","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[405,21],"start":[398,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,21],"start":[405,7]}},"type":"Var","value":{"identifier":"nodesWithLayer","sourcePos":[388,5]}},"type":"App"},"identifier":"nodesWithX"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[407,15],"start":[407,5]}},"type":"Var","value":{"identifier":"nodesWithX","sourcePos":[398,5]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"computeNodeLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[319,15],"start":[319,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,15],"start":[319,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,15],"start":[319,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[320,28],"start":[320,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[320,28],"start":[320,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[320,28],"start":[320,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[320,21],"start":[320,16]}},"type":"Var","value":{"identifier":"model","sourcePos":[319,3]}},"fieldName":"config","type":"Accessor"},"identifier":"config"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[321,29],"start":[321,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[321,29],"start":[321,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[321,29],"start":[321,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[321,22],"start":[321,16]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,7]}},"fieldName":"extent","type":"Accessor"},"identifier":"extent"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[324,87],"start":[324,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[324,87],"start":[324,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[324,42],"start":[324,25]}},"type":"Var","value":{"identifier":"computeNodeLayers","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[324,60],"start":[324,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[324,60],"start":[324,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[324,48],"start":[324,43]}},"type":"Var","value":{"identifier":"model","sourcePos":[319,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[324,67],"start":[324,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[324,67],"start":[324,61]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[324,77],"start":[324,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[324,77],"start":[324,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[324,74],"start":[324,68]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"x0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[324,87],"start":[324,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[324,87],"start":[324,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[324,84],"start":[324,78]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"x1","type":"Accessor"},"type":"App"},"identifier":"nodesWithLayers"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[328,42],"start":[328,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[328,42],"start":[328,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[328,42],"start":[328,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,30],"start":[328,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[328,27],"start":[328,21]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[328,42],"start":[328,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,42],"start":[328,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[328,39],"start":[328,33]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"identifier":"totalHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[329,75],"start":[329,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[329,75],"start":[329,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[329,23],"start":[329,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,57],"start":[329,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,56],"start":[329,25]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[329,56],"start":[329,25]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,45],"start":[329,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,45],"start":[329,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[329,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[329,56],"start":[329,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,56],"start":[329,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[329,50],"start":[329,46]}},"type":"Var","value":{"identifier":"node","sourcePos":[329,30]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[329,59],"start":[329,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,59],"start":[329,58]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[329,75],"start":[329,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,75],"start":[329,60]}},"type":"Var","value":{"identifier":"nodesWithLayers","sourcePos":[324,7]}},"type":"App"},"identifier":"maxLayer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[330,116],"start":[330,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[330,116],"start":[330,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,91],"start":[330,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,90],"start":[330,21]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[330,40],"start":[330,34]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,74],"start":[330,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,42]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,61],"start":[330,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[330,55],"start":[330,51]}},"type":"Var","value":{"identifier":"node","sourcePos":[330,43]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,65]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[330,22]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,90],"start":[330,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,90],"start":[330,75]}},"type":"Var","value":{"identifier":"nodesWithLayers","sourcePos":[324,7]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,116],"start":[330,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[330,104],"start":[330,93]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,106],"start":[330,93]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,106],"start":[330,105]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,115],"start":[330,93]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,115],"start":[330,107]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[329,7]}},"type":"App"},"type":"App"},"identifier":"layers"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[331,78],"start":[331,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[331,78],"start":[331,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[331,30],"start":[331,25]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[331,69],"start":[331,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[331,68],"start":[331,32]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[331,68],"start":[331,32]}},"argument":"layer","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[331,53],"start":[331,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[331,53],"start":[331,50]}},"type":"Var","value":{"identifier":"acc","sourcePos":[331,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[331,68],"start":[331,46]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[331,61],"start":[331,55]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[331,67],"start":[331,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[331,67],"start":[331,62]}},"type":"Var","value":{"identifier":"layer","sourcePos":[331,37]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[331,71],"start":[331,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[331,71],"start":[331,70]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[331,78],"start":[331,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[331,78],"start":[331,72]}},"type":"Var","value":{"identifier":"layers","sourcePos":[330,7]}},"type":"App"},"identifier":"maxNodesInLayer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[335,30],"start":[332,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[335,30],"start":[333,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[335,30],"start":[334,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[335,30],"start":[334,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,57],"start":[334,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,57],"start":[334,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[334,45],"start":[334,39]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,7]}},"fieldName":"nodePadding","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,106],"start":[334,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,105],"start":[334,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,70],"start":[334,59]}},"type":"Var","value":{"identifier":"totalHeight","sourcePos":[328,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,105],"start":[334,59]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,104],"start":[334,74]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[334,82],"start":[334,74]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,98],"start":[334,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,98],"start":[334,83]}},"type":"Var","value":{"identifier":"maxNodesInLayer","sourcePos":[331,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,104],"start":[334,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,104],"start":[334,101]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[335,30],"start":[334,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[335,30],"start":[335,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[335,18],"start":[335,12]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,7]}},"fieldName":"nodePadding","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,29],"start":[334,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,25],"start":[334,10]}},"type":"Var","value":{"identifier":"maxNodesInLayer","sourcePos":[331,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,29],"start":[334,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,29],"start":[334,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],"type":"Case"},"identifier":"adjustedPadding"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,119],"start":[338,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[338,119],"start":[338,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[338,42],"start":[338,20]}},"type":"Var","value":{"identifier":"initializeNodeBreadths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,58],"start":[338,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,58],"start":[338,43]}},"type":"Var","value":{"identifier":"nodesWithLayers","sourcePos":[324,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,76],"start":[338,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,76],"start":[338,59]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,64],"start":[338,59]}},"type":"Var","value":{"identifier":"model","sourcePos":[319,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,83],"start":[338,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,83],"start":[338,77]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,99],"start":[338,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,99],"start":[338,84]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[333,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,109],"start":[338,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,109],"start":[338,100]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,106],"start":[338,100]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,119],"start":[338,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,119],"start":[338,110]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,116],"start":[338,110]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"identifier":"nodesWithY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[342,76],"start":[342,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[342,76],"start":[342,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[342,29],"start":[342,12]}},"type":"Var","value":{"identifier":"calculateGlobalKy","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[342,40],"start":[342,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[342,40],"start":[342,30]}},"type":"Var","value":{"identifier":"nodesWithY","sourcePos":[338,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[342,50],"start":[342,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[342,50],"start":[342,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[342,47],"start":[342,41]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[342,60],"start":[342,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[342,60],"start":[342,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[342,57],"start":[342,51]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[342,76],"start":[342,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[342,76],"start":[342,61]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[333,5]}},"type":"App"},"identifier":"ky"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,89],"start":[343,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[343,89],"start":[343,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[343,71],"start":[343,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,70],"start":[343,29]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[343,70],"start":[343,38]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[377,73],"start":[318,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,42],"start":[343,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[343,30]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,70],"start":[343,38]}},"copy":["value","color","index","sourceIndex","targetIndex","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[318,1]}},"type":"ObjectUpdate","updates":[["width",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[343,68],"start":[343,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,63],"start":[343,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,57],"start":[343,53]}},"type":"Var","value":{"identifier":"link","sourcePos":[343,30]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[343,68],"start":[343,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,68],"start":[343,66]}},"type":"Var","value":{"identifier":"ky","sourcePos":[342,7]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[343,89],"start":[343,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,89],"start":[343,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,77],"start":[343,72]}},"type":"Var","value":{"identifier":"model","sourcePos":[319,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"identifier":"linksWithWidth"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[347,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[347,28],"start":[347,9]}},"type":"Var","value":{"identifier":"unsafePerformEffect","moduleName":["Effect","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[347,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[348,10],"start":[348,7]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,54],"start":[348,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"\n=== After initializeNodeBreadths (ky="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,65],"start":[348,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,65],"start":[348,63]}},"type":"Var","value":{"identifier":"ky","sourcePos":[342,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,89],"start":[348,69]}},"type":"Literal","value":{"literalType":"StringLiteral","value":", adjustedPadding="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,113],"start":[348,93]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,113],"start":[348,98]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[333,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,117]}},"type":"Literal","value":{"literalType":"StringLiteral","value":") ==="}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,124],"start":[348,7]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,75],"start":[350,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[350,75],"start":[350,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[350,28],"start":[350,23]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[350,62],"start":[350,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[350,61],"start":[350,30]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[350,61],"start":[350,30]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[350,50],"start":[350,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[350,50],"start":[350,47]}},"type":"Var","value":{"identifier":"acc","sourcePos":[350,31]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[350,61],"start":[350,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[350,61],"start":[350,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[350,55],"start":[350,51]}},"type":"Var","value":{"identifier":"node","sourcePos":[350,35]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[350,64],"start":[350,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[350,64],"start":[350,63]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[350,75],"start":[350,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[350,75],"start":[350,65]}},"type":"Var","value":{"identifier":"nodesWithY","sourcePos":[338,7]}},"type":"App"},"identifier":"maxLayer'"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[351,37],"start":[351,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[351,24],"start":[351,13]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[351,26],"start":[351,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[351,26],"start":[351,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[351,36],"start":[351,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[351,36],"start":[351,27]}},"type":"Var","value":{"identifier":"maxLayer'","sourcePos":[350,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[351,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[351,40]}},"argument":"layerIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,114],"start":[352,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[352,114],"start":[352,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[352,38],"start":[352,26]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,66],"start":[352,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,65],"start":[352,40]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,65],"start":[352,40]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,60],"start":[352,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,60],"start":[352,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[352,57],"start":[352,56]}},"type":"Var","value":{"identifier":"a","sourcePos":[352,41]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[352,65],"start":[352,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,65],"start":[352,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[352,62],"start":[352,61]}},"type":"Var","value":{"identifier":"b","sourcePos":[352,43]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[352,114],"start":[352,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[352,75],"start":[352,69]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,103],"start":[352,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,102],"start":[352,77]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[352,102],"start":[352,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,90],"start":[352,83]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[352,84],"start":[352,83]}},"type":"Var","value":{"identifier":"n","sourcePos":[352,78]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[352,102],"start":[352,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,102],"start":[352,94]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[351,41]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[352,114],"start":[352,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[352,114],"start":[352,104]}},"type":"Var","value":{"identifier":"nodesWithY","sourcePos":[338,7]}},"type":"App"},"type":"App"},"identifier":"layerNodes"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[353,12],"start":[353,9]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,25],"start":[353,15]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"  Layer "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[353,42],"start":[353,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,42],"start":[353,34]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[351,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,46]}},"type":"Literal","value":{"literalType":"StringLiteral","value":":"}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,49],"start":[353,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,24],"start":[354,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,24],"start":[354,14]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[352,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[354,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[354,27]}},"argument":"n","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[355,14],"start":[355,11]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,23],"start":[355,17]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"    "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,33],"start":[355,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,28],"start":[355,27]}},"type":"Var","value":{"identifier":"n","sourcePos":[354,28]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,45],"start":[355,37]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | y0="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,58],"start":[355,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,58],"start":[355,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,55],"start":[355,54]}},"type":"Var","value":{"identifier":"n","sourcePos":[354,28]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,70],"start":[355,62]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | y1="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,83],"start":[355,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,83],"start":[355,79]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,80],"start":[355,79]}},"type":"Var","value":{"identifier":"n","sourcePos":[354,28]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,98],"start":[355,87]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | value="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,102]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[355,114],"start":[355,107]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,108],"start":[355,107]}},"type":"Var","value":{"identifier":"n","sourcePos":[354,28]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[361,101],"start":[361,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[361,101],"start":[361,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[361,32],"start":[361,22]}},"type":"Var","value":{"identifier":"relaxation","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[361,43],"start":[361,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,43],"start":[361,33]}},"type":"Var","value":{"identifier":"nodesWithY","sourcePos":[338,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[361,58],"start":[361,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,58],"start":[361,44]}},"type":"Var","value":{"identifier":"linksWithWidth","sourcePos":[343,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[361,65],"start":[361,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,65],"start":[361,59]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[361,81],"start":[361,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,81],"start":[361,66]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[333,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[361,91],"start":[361,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,91],"start":[361,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[361,88],"start":[361,82]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[361,101],"start":[361,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,101],"start":[361,92]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[361,98],"start":[361,92]}},"type":"Var","value":{"identifier":"extent","sourcePos":[321,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"identifier":"relaxedNodes"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[374,29],"start":[365,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[365,28],"start":[365,9]}},"type":"Var","value":{"identifier":"unsafePerformEffect","moduleName":["Effect","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[374,29],"start":[365,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[368,29],"start":[366,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[368,29],"start":[366,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[366,16],"start":[366,12]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[366,44],"start":[366,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[366,43],"start":[366,18]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq3","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[366,43],"start":[366,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[366,30],"start":[366,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[366,25],"start":[366,24]}},"type":"Var","value":{"identifier":"n","sourcePos":[366,19]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[366,43],"start":[366,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[366,43],"start":[366,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Nuclear"}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[366,57],"start":[366,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[366,57],"start":[366,45]}},"type":"Var","value":{"identifier":"relaxedNodes","sourcePos":[361,7]}},"type":"App"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[368,29],"start":[366,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[367,15],"start":[367,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[367,15],"start":[367,14]}},"binderType":"VarBinder","identifier":"n"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[367,22],"start":[367,19]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[367,58],"start":[367,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"AFTER relaxation - Nuclear: y0="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[367,71],"start":[367,62]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[367,71],"start":[367,67]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[367,68],"start":[367,67]}},"type":"Var","value":{"identifier":"n","sourcePos":[367,14]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[367,82],"start":[367,75]}},"type":"Literal","value":{"literalType":"StringLiteral","value":", y1="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,86]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[367,95],"start":[367,91]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[367,92],"start":[367,91]}},"type":"Var","value":{"identifier":"n","sourcePos":[367,14]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[368,16],"start":[368,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[368,29],"start":[368,20]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[368,29],"start":[368,25]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[368,29],"start":[366,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[368,29],"start":[366,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[369,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[369,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[369,16],"start":[369,12]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[369,55],"start":[369,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[369,54],"start":[369,18]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq3","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[369,54],"start":[369,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[369,30],"start":[369,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[369,25],"start":[369,24]}},"type":"Var","value":{"identifier":"n","sourcePos":[369,19]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[369,54],"start":[369,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[369,54],"start":[369,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Thermal generation"}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[369,68],"start":[369,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[369,68],"start":[369,56]}},"type":"Var","value":{"identifier":"relaxedNodes","sourcePos":[361,7]}},"type":"App"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[369,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[370,15],"start":[370,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[370,15],"start":[370,14]}},"binderType":"VarBinder","identifier":"n"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[370,22],"start":[370,19]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,69],"start":[370,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"AFTER relaxation - Thermal generation: y0="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,82],"start":[370,73]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,82],"start":[370,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[370,79],"start":[370,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[370,14]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,93],"start":[370,86]}},"type":"Literal","value":{"literalType":"StringLiteral","value":", y1="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,97]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,106],"start":[370,102]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[370,103],"start":[370,102]}},"type":"Var","value":{"identifier":"n","sourcePos":[370,14]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[371,16],"start":[371,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[371,20]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[371,29],"start":[371,25]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[369,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[369,7]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[374,29],"start":[372,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[372,16],"start":[372,12]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,43],"start":[372,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,42],"start":[372,18]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq3","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[372,42],"start":[372,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,30],"start":[372,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[372,25],"start":[372,24]}},"type":"Var","value":{"identifier":"n","sourcePos":[372,19]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,42],"start":[372,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,42],"start":[372,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Losses"}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[372,56],"start":[372,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[372,56],"start":[372,44]}},"type":"Var","value":{"identifier":"relaxedNodes","sourcePos":[361,7]}},"type":"App"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[374,29],"start":[372,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[373,15],"start":[373,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[373,15],"start":[373,14]}},"binderType":"VarBinder","identifier":"n"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[373,22],"start":[373,19]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,57],"start":[373,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"AFTER relaxation - Losses: y0="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,70],"start":[373,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,70],"start":[373,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[373,67],"start":[373,66]}},"type":"Var","value":{"identifier":"n","sourcePos":[373,14]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,81],"start":[373,74]}},"type":"Literal","value":{"literalType":"StringLiteral","value":", y1="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,85]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,94],"start":[373,90]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[373,91],"start":[373,90]}},"type":"Var","value":{"identifier":"n","sourcePos":[373,14]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[374,16],"start":[374,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[374,29],"start":[374,20]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[374,29],"start":[374,25]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,51],"start":[317,1]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"v1"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[377,73],"start":[377,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[377,73],"start":[377,11]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[377,73],"start":[377,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[377,41],"start":[377,29]}},"type":"Var","value":{"identifier":"relaxedNodes","sourcePos":[361,7]}}],["sankeyLinks",{"annotation":{"meta":null,"sourceSpan":{"end":[377,71],"start":[377,57]}},"type":"Var","value":{"identifier":"linksWithWidth","sourcePos":[343,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"identifier":"computeNodeBreadths"},{"annotation":{"meta":null,"sourceSpan":{"end":[54,24],"start":[51,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[54,24],"start":[51,1]}},"argument":"linkInputs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[54,24],"start":[51,1]}},"argument":"config","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[62,6],"start":[56,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,51],"start":[97,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,51],"start":[97,3]}},"argument":"stepName","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,17],"start":[99,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[99,17],"start":[99,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,17],"start":[99,5]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[101,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[54,24],"start":[51,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,30],"start":[101,11]}},"type":"Var","value":{"identifier":"unsafePerformEffect","moduleName":["Effect","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[101,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,12],"start":[102,9]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,23],"start":[102,15]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"\n=== "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,35],"start":[102,27]}},"type":"Var","value":{"identifier":"stepName","sourcePos":[98,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,39]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" ==="}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,78],"start":[103,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,27],"start":[103,15]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,59],"start":[103,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,29]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,29]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[103,45]}},"type":"Var","value":{"identifier":"a","sourcePos":[103,30]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,53],"start":[103,52]}},"type":"Var","value":{"identifier":"b","sourcePos":[103,32]}},"fieldName":"name","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,77],"start":[103,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,77],"start":[103,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,65],"start":[103,60]}},"type":"Var","value":{"identifier":"model","sourcePos":[99,5]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[103,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[103,81]}},"argument":"n","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,14],"start":[104,11]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,21],"start":[104,17]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"  "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,31],"start":[104,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,26],"start":[104,25]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"name","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | layer="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,28],"start":[106,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,28],"start":[106,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,27],"start":[107,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | depth="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[108,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[108,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,22],"start":[108,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"depth","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,28],"start":[109,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | height="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,22],"start":[110,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"nodeHeight","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,27],"start":[111,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | value="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[112,28],"start":[112,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[112,28],"start":[112,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,22],"start":[112,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,24],"start":[113,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | y0="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,25],"start":[114,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,25],"start":[114,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,22],"start":[114,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,24],"start":[115,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" | y1="}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[104,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[116,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,25],"start":[116,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,22],"start":[116,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[103,82]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"v"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,14],"start":[117,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,14],"start":[117,10]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"logStep"},{"annotation":{"meta":null,"sourceSpan":{"end":[65,53],"start":[65,3]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,20],"start":[68,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,20],"start":[68,10]}},"type":"Var","value":{"identifier":"linkInputs","sourcePos":[55,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,21]}},"type":"Var","value":{"identifier":"processCSVLink","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,26],"start":[69,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,26],"start":[69,5]}},"type":"Var","value":{"identifier":"initialiseSankeyNodes","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,26],"start":[69,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,26],"start":[69,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[70,54],"start":[70,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[70,12],"start":[70,5]}},"type":"Var","value":{"identifier":"logStep","sourcePos":[97,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[70,54],"start":[70,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,54],"start":[70,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"After initialiseSankeyNodes (nodeLinks)"}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[70,54],"start":[70,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,54],"start":[70,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"type":"Var","value":{"identifier":"computeNodeValues","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,38],"start":[76,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[76,12],"start":[76,5]}},"type":"Var","value":{"identifier":"logStep","sourcePos":[97,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,38],"start":[76,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,38],"start":[76,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"After computeNodeValues"}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,38],"start":[76,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,38],"start":[76,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,5]}},"type":"Var","value":{"identifier":"computeNodeDepths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,38],"start":[80,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[80,12],"start":[80,5]}},"type":"Var","value":{"identifier":"logStep","sourcePos":[97,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,38],"start":[80,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,38],"start":[80,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"After computeNodeDepths"}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,38],"start":[80,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,38],"start":[80,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,5]}},"type":"Var","value":{"identifier":"computeNodeHeights","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[84,12],"start":[84,5]}},"type":"Var","value":{"identifier":"logStep","sourcePos":[97,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"After computeNodeHeights"}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,24],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,24],"start":[87,5]}},"type":"Var","value":{"identifier":"computeNodeBreadths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,24],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,24],"start":[87,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,48],"start":[88,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[88,12],"start":[88,5]}},"type":"Var","value":{"identifier":"logStep","sourcePos":[97,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,48],"start":[88,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,48],"start":[88,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"After computeNodeBreadths (FINAL)"}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,48],"start":[88,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,48],"start":[88,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,5]}},"type":"Var","value":{"identifier":"computeLinkBreadths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,5]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,17],"start":[94,5]}},"type":"Var","value":{"identifier":"assignColors","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"computeSankeyLayout"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,6],"start":[56,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[58,80],"start":[58,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[58,27],"start":[58,18]}},"type":"Var","value":{"identifier":"execState","moduleName":["Control","Monad","State"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,47],"start":[58,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,47],"start":[58,28]}},"type":"Var","value":{"identifier":"computeSankeyLayout","sourcePos":[65,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,80],"start":[58,18]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[58,73],"start":[58,50]}},"type":"Var","value":{"identifier":"initialSankeyGraphModel","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,80],"start":[58,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,80],"start":[58,74]}},"type":"Var","value":{"identifier":"config","sourcePos":[55,1]}},"type":"App"},"type":"App"},"identifier":"finalModel"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,6],"start":[60,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[60,36],"start":[60,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,24],"start":[60,14]}},"type":"Var","value":{"identifier":"finalModel","sourcePos":[58,5]}},"fieldName":"sankeyNodes","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[61,36],"start":[61,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[61,24],"start":[61,14]}},"type":"Var","value":{"identifier":"finalModel","sourcePos":[58,5]}},"fieldName":"sankeyLinks","type":"Accessor"}]]}},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"computeLayoutWithConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,24],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,24],"start":[41,1]}},"argument":"linkInputs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[45,24],"start":[41,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[45,24],"start":[41,1]}},"argument":"height","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[47,26],"start":[47,3]}},"type":"Var","value":{"identifier":"computeLayoutWithConfig","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,37],"start":[47,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,37],"start":[47,27]}},"type":"Var","value":{"identifier":"linkInputs","sourcePos":[46,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[47,72],"start":[47,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[47,59],"start":[47,40]}},"type":"Var","value":{"identifier":"defaultSankeyConfig","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,65],"start":[47,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,65],"start":[47,60]}},"type":"Var","value":{"identifier":"width","sourcePos":[46,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[47,72],"start":[47,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,72],"start":[47,66]}},"type":"Var","value":{"identifier":"height","sourcePos":[46,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"computeLayout"}],"exports":["epsilon","computeLayout","computeLayoutWithConfig"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Control","Monad","State"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Control","Monad","State","Class"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Control","Monad","State","Trans"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Identity"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[23,23],"start":[23,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Number"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Ordering"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Set"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[19,30],"start":[19,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Data","Unit"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["DataViz","Layout","Sankey","Compute"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["DataViz","Layout","Sankey","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Effect","Console"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Effect","Unsafe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[14,15],"start":[14,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1094,75],"start":[8,1]}},"moduleName":["Prim"]}],"moduleName":["DataViz","Layout","Sankey","Compute"],"modulePath":"../purescript-psd3-layout/src/DataViz/Layout/Sankey/Compute.purs","reExports":{},"sourceSpan":{"end":[1094,75],"start":[8,1]}}