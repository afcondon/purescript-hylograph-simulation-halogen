// Generated by purs version 0.15.15
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Number from "../Data.Number/index.js";
import * as Data_String_Common from "../Data.String.Common/index.js";
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var parseLine = function (line) {
    var parts = map(Data_String_Common.trim)(Data_String_Common.split(",")(line));
    if (parts.length === 3) {
        var v = Data_Number.fromString(parts[2]);
        if (v instanceof Data_Maybe.Just) {
            return new Data_Maybe.Just({
                s: parts[0],
                t: parts[1],
                v: v.value0
            });
        };
        if (v instanceof Data_Maybe.Nothing) {
            return Data_Maybe.Nothing.value;
        };
        throw new Error("Failed pattern match at DataViz.Layout.Sankey.CSV (line 44, column 9 - line 47, column 29): " + [ v.constructor.name ]);
    };
    return Data_Maybe.Nothing.value;
};
var parseSankeyCSV = function (csvString) {
    var isEmpty = function (s) {
        return Data_String_Common["null"](Data_String_Common.trim(s));
    };
    var lines = Data_String_Common.split("\x0a")(csvString);
    var dataLines = Data_Array.filter(function ($10) {
        return !isEmpty($10);
    })(Data_Array.drop(1)(lines));
    return Data_Array.mapMaybe(parseLine)(dataLines);
};
export {
    parseSankeyCSV,
    parseLine
};
//# sourceMappingURL=index.js.map
