{"builtWith":"0.15.15","comments":[{"LineComment":" | Force Engine Simulation"},{"LineComment":" |"},{"LineComment":" | High-level API for running force simulations."},{"LineComment":" | This module provides a clean interface for:"},{"LineComment":" | - Creating and configuring simulations"},{"LineComment":" | - Running the animation loop"},{"LineComment":" | - Handling tick callbacks for rendering"},{"LineComment":" |"},{"LineComment":" | Unlike D3's simulation, we have full control over:"},{"LineComment":" | - When forces are applied"},{"LineComment":" | - How alpha decays"},{"LineComment":" | - When to render"},{"LineComment":" |"},{"LineComment":" | == IMPORTANT: Force Target Caching"},{"LineComment":" |"},{"LineComment":" | D3's forceX/forceY forces **cache** their target values at initialization time."},{"LineComment":" | This is a significant gotcha when animating between different target positions."},{"LineComment":" |"},{"LineComment":" | **The Problem:**"},{"LineComment":" |"},{"LineComment":" | If you update `node.gridX` and call `reheat`, the force will still use the"},{"LineComment":" | old cached values. The simulation appears to run but nodes won't move to"},{"LineComment":" | new positions."},{"LineComment":" |"},{"LineComment":" | **Wrong approach:**"},{"LineComment":" | ```purescript"},{"LineComment":" | updateGridXWithFn newXFn sim"},{"LineComment":" | reheat sim  -- Nodes don't move!"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | **Correct approach:**"},{"LineComment":" | ```purescript"},{"LineComment":" | -- Use the helper that handles re-initialization:"},{"LineComment":" | updateGridXYAndReinit (Just newXFn) Nothing forceXHandle Nothing sim"},{"LineComment":" |"},{"LineComment":" | -- Or manually re-initialize the force:"},{"LineComment":" | updateGridXWithFn newXFn sim"},{"LineComment":" | currentNodes <- getNodes sim"},{"LineComment":" | _ <- Core.initializeForce forceXHandle currentNodes"},{"LineComment":" | reheat sim"},{"LineComment":" | ```"},{"LineComment":" |"},{"LineComment":" | The `updateGridXYAndReinit` function is the recommended way to animate"},{"LineComment":" | force-directed transitions as it handles this caching issue automatically."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[411,30],"start":[411,3]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[411,30],"start":[411,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[411,30],"start":[411,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[412,41],"start":[412,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[412,41],"start":[412,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[279,7],"start":[279,3]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[279,74],"start":[279,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"for_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[279,74],"start":[279,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[279,25],"start":[279,9]}},"type":"Var","value":{"identifier":"toUnfoldable","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[279,32],"start":[279,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unfoldableArray","moduleName":["Data","Unfoldable"]}},"type":"App"},"identifier":"toUnfoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[281,9],"start":[281,5]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[281,14],"start":[281,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[362,26],"start":[362,16]}},"type":"Var","value":{"identifier":"delete","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[362,31],"start":[362,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"delete"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[541,54],"start":[541,52]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[541,44],"start":[541,43]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[541,61],"start":[541,59]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[536,11],"start":[536,7]}},"type":"Var","value":{"identifier":"when","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[536,59],"start":[536,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"when"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[427,40],"start":[427,22]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[427,40],"start":[427,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableList","moduleName":["Data","List","Types"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[428,38],"start":[428,20]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[428,38],"start":[428,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableSet","moduleName":["Data","Set"]}},"type":"App"},"identifier":"fromFoldable1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[430,38],"start":[430,36]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[430,43],"start":[430,39]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[430,71],"start":[430,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[430,88],"start":[430,84]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[430,99],"start":[430,84]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showArray","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[430,99],"start":[430,84]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showString","moduleName":["Data","Show"]}},"type":"App"},"type":"App"},"identifier":"show1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[383,9],"start":[383,3]}},"type":"Var","value":{"identifier":"unless","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[383,24],"start":[383,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"unless"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[722,12],"start":[722,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableMaybe","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[737,9],"start":[737,5]}},"type":"Var","value":{"identifier":"void","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[737,9],"start":[737,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"void"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[354,26],"start":[354,16]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[354,31],"start":[354,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"insert"},{"annotation":{"meta":null,"sourceSpan":{"end":[601,17],"start":[598,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[601,17],"start":[598,1]}},"argument":"positions","body":{"annotation":{"meta":null,"sourceSpan":{"end":[601,17],"start":[598,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[603,26],"start":[603,3]}},"type":"Var","value":{"identifier":"updatePositionsInPlace_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[603,36],"start":[603,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[603,36],"start":[603,27]}},"type":"Var","value":{"identifier":"positions","sourcePos":[602,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[603,46],"start":[603,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[603,46],"start":[603,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[603,40],"start":[603,37]}},"type":"Var","value":{"identifier":"sim","sourcePos":[602,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"updatePositionsInPlace"},{"annotation":{"meta":null,"sourceSpan":{"end":[679,17],"start":[676,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[679,17],"start":[676,1]}},"argument":"fn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[679,17],"start":[676,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[681,21],"start":[681,3]}},"type":"Var","value":{"identifier":"updateGridYWithFn_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[681,24],"start":[681,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[681,24],"start":[681,22]}},"type":"Var","value":{"identifier":"fn","sourcePos":[680,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[681,34],"start":[681,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[681,34],"start":[681,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[681,28],"start":[681,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[680,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"updateGridYWithFn"},{"annotation":{"meta":null,"sourceSpan":{"end":[670,17],"start":[667,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[670,17],"start":[667,1]}},"argument":"fn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[670,17],"start":[667,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[672,21],"start":[672,3]}},"type":"Var","value":{"identifier":"updateGridXWithFn_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[672,24],"start":[672,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[672,24],"start":[672,22]}},"type":"Var","value":{"identifier":"fn","sourcePos":[671,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[672,34],"start":[672,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[672,34],"start":[672,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[672,28],"start":[672,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[671,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"updateGridXWithFn"},{"annotation":{"meta":null,"sourceSpan":{"end":[660,17],"start":[657,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[660,17],"start":[657,1]}},"argument":"positions","body":{"annotation":{"meta":null,"sourceSpan":{"end":[660,17],"start":[657,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[662,30],"start":[662,3]}},"type":"Var","value":{"identifier":"updateGridPositionsInPlace_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[662,40],"start":[662,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[662,40],"start":[662,31]}},"type":"Var","value":{"identifier":"positions","sourcePos":[661,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[662,50],"start":[662,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[662,50],"start":[662,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[662,44],"start":[662,41]}},"type":"Var","value":{"identifier":"sim","sourcePos":[661,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"updateGridPositionsInPlace"},{"annotation":{"meta":null,"sourceSpan":{"end":[627,17],"start":[625,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[627,17],"start":[625,1]}},"argument":"sim","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[628,43],"start":[628,25]}},"type":"Var","value":{"identifier":"unpinNodesInPlace_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[628,53],"start":[628,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[628,53],"start":[628,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[628,47],"start":[628,44]}},"type":"Var","value":{"identifier":"sim","sourcePos":[628,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"unpinNodesInPlace"},{"annotation":{"meta":null,"sourceSpan":{"end":[409,17],"start":[407,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[409,17],"start":[407,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[411,30],"start":[411,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[411,12],"start":[411,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[411,18],"start":[411,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[411,18],"start":[411,13]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[411,30],"start":[411,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[411,30],"start":[411,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[411,22],"start":[411,19]}},"type":"Var","value":{"identifier":"sim","sourcePos":[410,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[411,30],"start":[411,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[411,30],"start":[411,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,41],"start":[412,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[412,21],"start":[412,13]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,41],"start":[412,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,41],"start":[412,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[412,25],"start":[412,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[410,1]}},"fieldName":"cancelAnimation","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[412,41],"start":[412,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,41],"start":[412,3]}},"argument":"cancel","body":{"annotation":{"meta":null,"sourceSpan":{"end":[413,9],"start":[413,3]}},"type":"Var","value":{"identifier":"cancel","sourcePos":[412,3]}},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"stop"},{"annotation":{"meta":null,"sourceSpan":{"end":[271,17],"start":[268,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,17],"start":[268,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,17],"start":[268,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,29],"start":[274,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[274,23],"start":[274,3]}},"type":"Var","value":{"identifier":"initializeNodes","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,29],"start":[274,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,29],"start":[274,24]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[272,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,29],"start":[274,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,29],"start":[274,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,12],"start":[275,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,18],"start":[275,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,18],"start":[275,13]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[275,22],"start":[275,19]}},"type":"Var","value":{"identifier":"sim","sourcePos":[272,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[278,32],"start":[278,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[278,21],"start":[278,13]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[278,32],"start":[278,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,32],"start":[278,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[278,25],"start":[278,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[272,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[278,32],"start":[278,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,32],"start":[278,3]}},"argument":"forces","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_1","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,74],"start":[279,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"toUnfoldable","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,32],"start":[279,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,32],"start":[279,26]}},"type":"Var","value":{"identifier":"forces","sourcePos":[278,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[281,14],"start":[279,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[281,14],"start":[279,75]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[281,14],"start":[279,75]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[279,91],"start":[279,77]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[279,84],"start":[279,83]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[279,91],"start":[279,85]}},"binderType":"VarBinder","identifier":"handle"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[280,43],"start":[280,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[280,30],"start":[280,10]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[280,37],"start":[280,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[280,37],"start":[280,31]}},"type":"Var","value":{"identifier":"handle","sourcePos":[279,85]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[280,43],"start":[280,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[280,43],"start":[280,38]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[272,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[280,43],"start":[280,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[280,43],"start":[280,5]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[281,14],"start":[281,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[281,14],"start":[281,10]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"setNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[288,17],"start":[285,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[288,17],"start":[285,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[288,17],"start":[285,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[290,12],"start":[290,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[290,18],"start":[290,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[290,18],"start":[290,13]}},"type":"Var","value":{"identifier":"links","sourcePos":[289,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[290,28],"start":[290,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[290,28],"start":[290,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[290,22],"start":[290,19]}},"type":"Var","value":{"identifier":"sim","sourcePos":[289,1]}},"fieldName":"links","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"setLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[481,28],"start":[478,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[481,28],"start":[478,1]}},"argument":"cbs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[481,28],"start":[478,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[482,52],"start":[482,24]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[482,52],"start":[482,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[482,27],"start":[482,24]}},"type":"Var","value":{"identifier":"sim","sourcePos":[482,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[482,52],"start":[482,24]}},"copy":["nodes","links","forces","alpha","prevAlpha","config","running","cancelAnimation","tickCallback"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[482,1]}},"type":"ObjectUpdate","updates":[["callbacks",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[482,46],"start":[482,42]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[482,50],"start":[482,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[482,50],"start":[482,47]}},"type":"Var","value":{"identifier":"cbs","sourcePos":[482,1]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"setCallbacks"},{"annotation":{"meta":null,"sourceSpan":{"end":[360,17],"start":[357,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[360,17],"start":[357,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[360,17],"start":[357,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[362,14],"start":[362,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[362,32],"start":[362,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"delete","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[362,31],"start":[362,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[362,31],"start":[362,27]}},"type":"Var","value":{"identifier":"name","sourcePos":[361,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[362,43],"start":[362,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[362,43],"start":[362,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[362,36],"start":[362,33]}},"type":"Var","value":{"identifier":"sim","sourcePos":[361,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"removeForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[819,58],"start":[819,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[820,51],"start":[820,25]}},"type":"Var","value":{"identifier":"querySelectorElements","moduleName":["PSD3","ForceEngine","Core"]}},"identifier":"querySelectorElements"},{"annotation":{"meta":null,"sourceSpan":{"end":[620,17],"start":[618,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[620,17],"start":[618,1]}},"argument":"sim","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[621,39],"start":[621,23]}},"type":"Var","value":{"identifier":"pinNodesInPlace_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[621,49],"start":[621,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[621,49],"start":[621,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[621,43],"start":[621,40]}},"type":"Var","value":{"identifier":"sim","sourcePos":[621,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"pinNodesInPlace"},{"annotation":{"meta":null,"sourceSpan":{"end":[635,17],"start":[632,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[635,17],"start":[632,1]}},"argument":"positions","body":{"annotation":{"meta":null,"sourceSpan":{"end":[635,17],"start":[632,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[637,23],"start":[637,3]}},"type":"Var","value":{"identifier":"pinNodesAtPositions_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[637,33],"start":[637,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,33],"start":[637,24]}},"type":"Var","value":{"identifier":"positions","sourcePos":[636,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[637,43],"start":[637,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,43],"start":[637,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,37],"start":[637,34]}},"type":"Var","value":{"identifier":"sim","sourcePos":[636,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"pinNodesAtPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[472,17],"start":[469,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[472,17],"start":[469,1]}},"argument":"callback","body":{"annotation":{"meta":null,"sourceSpan":{"end":[472,17],"start":[469,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[474,12],"start":[474,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[474,21],"start":[474,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[474,21],"start":[474,13]}},"type":"Var","value":{"identifier":"callback","sourcePos":[473,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[474,38],"start":[474,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[474,38],"start":[474,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[474,25],"start":[474,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[473,1]}},"fieldName":"tickCallback","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"onTick"},{"annotation":{"meta":null,"sourceSpan":{"end":[550,20],"start":[548,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[550,20],"start":[548,1]}},"argument":"sim","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[551,25],"start":[551,17]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[551,37],"start":[551,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[551,37],"start":[551,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[551,29],"start":[551,26]}},"type":"Var","value":{"identifier":"sim","sourcePos":[551,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"isRunning"},{"annotation":{"meta":null,"sourceSpan":{"end":[517,17],"start":[515,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[517,17],"start":[515,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[522,13],"start":[518,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[519,10],"start":[519,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[519,23],"start":[519,14]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[519,23],"start":[519,19]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[520,11],"start":[520,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[520,11],"start":[520,8]}},"binderType":"VarBinder","identifier":"cbs"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[521,36],"start":[521,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[521,25],"start":[521,17]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[521,36],"start":[521,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[521,36],"start":[521,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[521,29],"start":[521,26]}},"type":"Var","value":{"identifier":"cbs","sourcePos":[520,8]}},"fieldName":"onTick","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[521,36],"start":[521,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[521,36],"start":[521,5]}},"argument":"callback","body":{"annotation":{"meta":null,"sourceSpan":{"end":[522,13],"start":[522,5]}},"type":"Var","value":{"identifier":"callback","sourcePos":[521,5]}},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[518,44],"start":[518,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[518,34],"start":[518,31]}},"type":"Var","value":{"identifier":"sim","sourcePos":[518,1]}},"fieldName":"callbacks","type":"Accessor"}],"type":"Case"},"type":"Abs"},"identifier":"invokeTickCallback"},{"annotation":{"meta":null,"sourceSpan":{"end":[507,17],"start":[505,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[507,17],"start":[505,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[512,13],"start":[508,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[509,10],"start":[509,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[509,23],"start":[509,14]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[509,23],"start":[509,19]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[510,11],"start":[510,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[510,11],"start":[510,8]}},"binderType":"VarBinder","identifier":"cbs"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[511,36],"start":[511,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[511,25],"start":[511,17]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[511,36],"start":[511,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[511,36],"start":[511,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[511,29],"start":[511,26]}},"type":"Var","value":{"identifier":"cbs","sourcePos":[510,8]}},"fieldName":"onStop","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[511,36],"start":[511,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[511,36],"start":[511,5]}},"argument":"callback","body":{"annotation":{"meta":null,"sourceSpan":{"end":[512,13],"start":[512,5]}},"type":"Var","value":{"identifier":"callback","sourcePos":[511,5]}},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,44],"start":[508,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[508,34],"start":[508,31]}},"type":"Var","value":{"identifier":"sim","sourcePos":[508,1]}},"fieldName":"callbacks","type":"Accessor"}],"type":"Case"},"type":"Abs"},"identifier":"invokeStopCallback"},{"annotation":{"meta":null,"sourceSpan":{"end":[497,17],"start":[495,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[497,17],"start":[495,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[502,13],"start":[498,27]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[499,10],"start":[499,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[499,23],"start":[499,14]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[499,23],"start":[499,19]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[500,11],"start":[500,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[500,11],"start":[500,8]}},"binderType":"VarBinder","identifier":"cbs"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[501,37],"start":[501,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[501,25],"start":[501,17]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[501,37],"start":[501,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[501,37],"start":[501,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[501,29],"start":[501,26]}},"type":"Var","value":{"identifier":"cbs","sourcePos":[500,8]}},"fieldName":"onStart","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[501,37],"start":[501,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[501,37],"start":[501,5]}},"argument":"callback","body":{"annotation":{"meta":null,"sourceSpan":{"end":[502,13],"start":[502,5]}},"type":"Var","value":{"identifier":"callback","sourcePos":[501,5]}},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[498,45],"start":[498,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[498,35],"start":[498,32]}},"type":"Var","value":{"identifier":"sim","sourcePos":[498,1]}},"fieldName":"callbacks","type":"Accessor"}],"type":"Case"},"type":"Abs"},"identifier":"invokeStartCallback"},{"annotation":{"meta":null,"sourceSpan":{"end":[612,17],"start":[607,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[612,17],"start":[607,1]}},"argument":"startPos","body":{"annotation":{"meta":null,"sourceSpan":{"end":[612,17],"start":[607,1]}},"argument":"targetPos","body":{"annotation":{"meta":null,"sourceSpan":{"end":[612,17],"start":[607,1]}},"argument":"progress","body":{"annotation":{"meta":null,"sourceSpan":{"end":[612,17],"start":[607,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[614,31],"start":[614,3]}},"type":"Var","value":{"identifier":"interpolatePositionsInPlace_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[614,40],"start":[614,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,40],"start":[614,32]}},"type":"Var","value":{"identifier":"startPos","sourcePos":[613,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,50],"start":[614,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,50],"start":[614,41]}},"type":"Var","value":{"identifier":"targetPos","sourcePos":[613,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,59],"start":[614,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,59],"start":[614,51]}},"type":"Var","value":{"identifier":"progress","sourcePos":[613,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,69],"start":[614,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,69],"start":[614,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[614,63],"start":[614,60]}},"type":"Var","value":{"identifier":"sim","sourcePos":[613,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"interpolatePositionsInPlace"},{"annotation":{"meta":null,"sourceSpan":{"end":[562,41],"start":[560,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[562,41],"start":[560,1]}},"argument":"sim","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[563,24],"start":[563,16]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[563,34],"start":[563,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,34],"start":[563,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[563,28],"start":[563,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[563,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"getNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[570,63],"start":[568,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[570,63],"start":[568,1]}},"argument":"sim","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[571,24],"start":[571,16]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[571,34],"start":[571,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[571,34],"start":[571,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[571,28],"start":[571,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[571,1]}},"fieldName":"links","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"getLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[487,31],"start":[485,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[487,31],"start":[485,1]}},"argument":"sim","body":{"annotation":{"meta":null,"sourceSpan":{"end":[488,33],"start":[488,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[488,23],"start":[488,20]}},"type":"Var","value":{"identifier":"sim","sourcePos":[488,1]}},"fieldName":"callbacks","type":"Accessor"},"type":"Abs"},"identifier":"getCallbacks"},{"annotation":{"meta":null,"sourceSpan":{"end":[556,19],"start":[554,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[556,19],"start":[554,1]}},"argument":"sim","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[557,24],"start":[557,16]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[557,34],"start":[557,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[557,34],"start":[557,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[557,28],"start":[557,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[557,1]}},"fieldName":"alpha","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"getAlpha"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,27],"start":[193,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,4],"start":[195,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["alphaMin",{"annotation":{"meta":null,"sourceSpan":{"end":[195,40],"start":[195,15]}},"expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[195,31],"start":[195,15]}},"type":"Var","value":{"identifier":"defaultSimParams","moduleName":["PSD3","ForceEngine","Types"]}},"fieldName":"alphaMin","type":"Accessor"}],["alphaDecay",{"annotation":{"meta":null,"sourceSpan":{"end":[196,44],"start":[196,17]}},"expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,33],"start":[196,17]}},"type":"Var","value":{"identifier":"defaultSimParams","moduleName":["PSD3","ForceEngine","Types"]}},"fieldName":"alphaDecay","type":"Accessor"}],["alphaTarget",{"annotation":{"meta":null,"sourceSpan":{"end":[197,46],"start":[197,18]}},"expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[197,34],"start":[197,18]}},"type":"Var","value":{"identifier":"defaultSimParams","moduleName":["PSD3","ForceEngine","Types"]}},"fieldName":"alphaTarget","type":"Accessor"}],["velocityDecay",{"annotation":{"meta":null,"sourceSpan":{"end":[198,50],"start":[198,20]}},"expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[198,36],"start":[198,20]}},"type":"Var","value":{"identifier":"defaultSimParams","moduleName":["PSD3","ForceEngine","Types"]}},"fieldName":"velocityDecay","type":"Accessor"}]]}},"identifier":"defaultConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[243,37],"start":[240,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[243,37],"start":[240,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[243,37],"start":[240,1]}},"argument":"cbs","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,25],"start":[245,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[245,22],"start":[245,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,25],"start":[245,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,25],"start":[245,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[245,25],"start":[245,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,25],"start":[245,3]}},"argument":"nodesRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,25],"start":[246,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,22],"start":[246,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,25],"start":[246,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,25],"start":[246,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,25],"start":[246,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,25],"start":[246,3]}},"argument":"linksRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,33],"start":[247,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[247,23],"start":[247,16]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,33],"start":[247,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[247,33],"start":[247,24]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Map","Internal"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[247,33],"start":[247,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,33],"start":[247,3]}},"argument":"forcesRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,26],"start":[248,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,22],"start":[248,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,26],"start":[248,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,26],"start":[248,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[248,26],"start":[248,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,26],"start":[248,3]}},"argument":"alphaRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,30],"start":[249,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[249,26],"start":[249,19]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,30],"start":[249,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,30],"start":[249,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,30],"start":[249,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,30],"start":[249,3]}},"argument":"prevAlphaRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,30],"start":[250,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[250,24],"start":[250,17]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,30],"start":[250,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,30],"start":[250,25]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,30],"start":[250,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,30],"start":[250,3]}},"argument":"runningRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,35],"start":[251,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[251,23],"start":[251,16]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,35],"start":[251,16]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,34],"start":[251,25]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[251,34],"start":[251,30]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[251,35],"start":[251,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[251,35],"start":[251,3]}},"argument":"cancelRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,33],"start":[252,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[252,21],"start":[252,14]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,33],"start":[252,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,32],"start":[252,23]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[252,32],"start":[252,28]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[252,33],"start":[252,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,33],"start":[252,3]}},"argument":"tickRef","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[264,6],"start":[253,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[264,6],"start":[254,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[254,22],"start":[254,14]}},"type":"Var","value":{"identifier":"nodesRef","sourcePos":[245,3]}}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[255,22],"start":[255,14]}},"type":"Var","value":{"identifier":"linksRef","sourcePos":[246,3]}}],["forces",{"annotation":{"meta":null,"sourceSpan":{"end":[256,24],"start":[256,15]}},"type":"Var","value":{"identifier":"forcesRef","sourcePos":[247,3]}}],["alpha",{"annotation":{"meta":null,"sourceSpan":{"end":[257,22],"start":[257,14]}},"type":"Var","value":{"identifier":"alphaRef","sourcePos":[248,3]}}],["prevAlpha",{"annotation":{"meta":null,"sourceSpan":{"end":[258,30],"start":[258,18]}},"type":"Var","value":{"identifier":"prevAlphaRef","sourcePos":[249,3]}}],["config",{"annotation":{"meta":null,"sourceSpan":{"end":[259,13],"start":[259,7]}},"type":"Var","value":{"identifier":"config","sourcePos":[244,1]}}],["running",{"annotation":{"meta":null,"sourceSpan":{"end":[260,26],"start":[260,16]}},"type":"Var","value":{"identifier":"runningRef","sourcePos":[250,3]}}],["cancelAnimation",{"annotation":{"meta":null,"sourceSpan":{"end":[261,33],"start":[261,24]}},"type":"Var","value":{"identifier":"cancelRef","sourcePos":[251,3]}}],["tickCallback",{"annotation":{"meta":null,"sourceSpan":{"end":[262,28],"start":[262,21]}},"type":"Var","value":{"identifier":"tickRef","sourcePos":[252,3]}}],["callbacks",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[263,22],"start":[263,18]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[263,26],"start":[263,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[263,26],"start":[263,23]}},"type":"Var","value":{"identifier":"cbs","sourcePos":[244,1]}},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"createWithCallbacks"},{"annotation":{"meta":null,"sourceSpan":{"end":[208,75],"start":[208,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,75],"start":[208,1]}},"argument":"config","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,25],"start":[210,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[210,22],"start":[210,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,25],"start":[210,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,25],"start":[210,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[210,25],"start":[210,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,25],"start":[210,3]}},"argument":"nodesRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[211,22],"start":[211,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,3]}},"argument":"linksRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,33],"start":[212,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[212,23],"start":[212,16]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,33],"start":[212,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[212,33],"start":[212,24]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Map","Internal"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,33],"start":[212,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,33],"start":[212,3]}},"argument":"forcesRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,26],"start":[213,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[213,22],"start":[213,15]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,26],"start":[213,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,26],"start":[213,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,26],"start":[213,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,26],"start":[213,3]}},"argument":"alphaRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[214,30],"start":[214,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[214,26],"start":[214,19]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[214,30],"start":[214,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[214,30],"start":[214,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[214,30],"start":[214,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[214,30],"start":[214,3]}},"argument":"prevAlphaRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,30],"start":[215,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[215,24],"start":[215,17]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,30],"start":[215,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,30],"start":[215,25]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,30],"start":[215,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,30],"start":[215,3]}},"argument":"runningRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,35],"start":[216,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[216,23],"start":[216,16]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,35],"start":[216,16]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,34],"start":[216,25]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[216,34],"start":[216,30]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[216,35],"start":[216,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,35],"start":[216,3]}},"argument":"cancelRef","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,33],"start":[217,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,21],"start":[217,14]}},"type":"Var","value":{"identifier":"new","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,33],"start":[217,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,32],"start":[217,23]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,32],"start":[217,28]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,33],"start":[217,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,33],"start":[217,3]}},"argument":"tickRef","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,6],"start":[218,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,6],"start":[219,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[219,22],"start":[219,14]}},"type":"Var","value":{"identifier":"nodesRef","sourcePos":[210,3]}}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[220,22],"start":[220,14]}},"type":"Var","value":{"identifier":"linksRef","sourcePos":[211,3]}}],["forces",{"annotation":{"meta":null,"sourceSpan":{"end":[221,24],"start":[221,15]}},"type":"Var","value":{"identifier":"forcesRef","sourcePos":[212,3]}}],["alpha",{"annotation":{"meta":null,"sourceSpan":{"end":[222,22],"start":[222,14]}},"type":"Var","value":{"identifier":"alphaRef","sourcePos":[213,3]}}],["prevAlpha",{"annotation":{"meta":null,"sourceSpan":{"end":[223,30],"start":[223,18]}},"type":"Var","value":{"identifier":"prevAlphaRef","sourcePos":[214,3]}}],["config",{"annotation":{"meta":null,"sourceSpan":{"end":[224,13],"start":[224,7]}},"type":"Var","value":{"identifier":"config","sourcePos":[209,1]}}],["running",{"annotation":{"meta":null,"sourceSpan":{"end":[225,26],"start":[225,16]}},"type":"Var","value":{"identifier":"runningRef","sourcePos":[215,3]}}],["cancelAnimation",{"annotation":{"meta":null,"sourceSpan":{"end":[226,33],"start":[226,24]}},"type":"Var","value":{"identifier":"cancelRef","sourcePos":[216,3]}}],["tickCallback",{"annotation":{"meta":null,"sourceSpan":{"end":[227,28],"start":[227,21]}},"type":"Var","value":{"identifier":"tickRef","sourcePos":[217,3]}}],["callbacks",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[228,25],"start":[228,18]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"create"},{"annotation":{"meta":null,"sourceSpan":{"end":[368,17],"start":[366,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[368,17],"start":[366,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[370,12],"start":[370,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[370,22],"start":[370,3]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[370,22],"start":[370,13]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Map","Internal"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[370,33],"start":[370,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[370,33],"start":[370,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[370,26],"start":[370,23]}},"type":"Var","value":{"identifier":"sim","sourcePos":[369,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"clearForces"},{"annotation":{"meta":null,"sourceSpan":{"end":[530,17],"start":[526,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[530,17],"start":[526,1]}},"argument":"prevAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[530,17],"start":[526,1]}},"argument":"newAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[530,17],"start":[526,1]}},"argument":"sim","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[538,26],"start":[531,47]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,3]}},"argument":"prev","body":{"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,3]}},"argument":"new","body":{"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,3]}},"argument":"thresh","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,42],"start":[541,38]}},"type":"Var","value":{"identifier":"prev","sourcePos":[541,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,51],"start":[541,45]}},"type":"Var","value":{"identifier":"thresh","sourcePos":[541,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,58],"start":[541,55]}},"type":"Var","value":{"identifier":"new","sourcePos":[541,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,68],"start":[541,62]}},"type":"Var","value":{"identifier":"thresh","sourcePos":[541,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"crossedThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[540,37],"start":[540,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[540,37],"start":[540,21]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[540,25],"start":[540,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},{"annotation":{"meta":null,"sourceSpan":{"end":[540,30],"start":[540,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.1}},{"annotation":{"meta":null,"sourceSpan":{"end":[540,36],"start":[540,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-2}}]}},"identifier":"alphaThresholds"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[538,26],"start":[531,47]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[532,10],"start":[532,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[532,23],"start":[532,14]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[532,23],"start":[532,19]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[533,11],"start":[533,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[533,11],"start":[533,8]}},"binderType":"VarBinder","identifier":"cbs"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_1","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[535,25],"start":[535,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[535,25],"start":[535,10]}},"type":"Var","value":{"identifier":"alphaThresholds","sourcePos":[540,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[538,26],"start":[535,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,26],"start":[535,26]}},"argument":"threshold","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[536,59],"start":[536,7]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[536,29],"start":[536,13]}},"type":"Var","value":{"identifier":"crossedThreshold","sourcePos":[541,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[536,39],"start":[536,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[536,39],"start":[536,30]}},"type":"Var","value":{"identifier":"prevAlpha","sourcePos":[531,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[536,48],"start":[536,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[536,48],"start":[536,40]}},"type":"Var","value":{"identifier":"newAlpha","sourcePos":[531,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[536,58],"start":[536,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[536,58],"start":[536,49]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[535,27]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[538,26],"start":[536,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[537,50],"start":[537,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[537,29],"start":[537,21]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[537,50],"start":[537,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[537,50],"start":[537,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[537,33],"start":[537,30]}},"type":"Var","value":{"identifier":"cbs","sourcePos":[533,8]}},"fieldName":"onAlphaThreshold","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[537,50],"start":[537,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[537,50],"start":[537,9]}},"argument":"callback","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[538,17],"start":[538,9]}},"type":"Var","value":{"identifier":"callback","sourcePos":[537,9]}},"annotation":{"meta":null,"sourceSpan":{"end":[538,26],"start":[538,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,26],"start":[538,18]}},"type":"Var","value":{"identifier":"newAlpha","sourcePos":[531,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[531,65],"start":[531,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[531,55],"start":[531,52]}},"type":"Var","value":{"identifier":"sim","sourcePos":[531,1]}},"fieldName":"callbacks","type":"Accessor"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"checkAlphaThresholds"},{"annotation":{"meta":null,"sourceSpan":{"end":[419,19],"start":[417,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[419,19],"start":[417,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[421,30],"start":[421,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[421,20],"start":[421,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[421,30],"start":[421,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[421,30],"start":[421,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[421,24],"start":[421,21]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[421,30],"start":[421,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[421,30],"start":[421,3]}},"argument":"nodes","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[422,32],"start":[422,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[422,21],"start":[422,13]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[422,32],"start":[422,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[422,32],"start":[422,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[422,25],"start":[422,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[422,32],"start":[422,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[422,32],"start":[422,3]}},"argument":"forces","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[423,30],"start":[423,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[423,20],"start":[423,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[423,30],"start":[423,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[423,30],"start":[423,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[423,24],"start":[423,21]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"alpha","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[423,30],"start":[423,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[423,30],"start":[423,3]}},"argument":"alpha","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[424,38],"start":[424,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[424,24],"start":[424,16]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[424,38],"start":[424,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[424,38],"start":[424,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[424,28],"start":[424,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"prevAlpha","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[424,38],"start":[424,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[424,38],"start":[424,3]}},"argument":"prevAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[427,60],"start":[427,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[427,60],"start":[427,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[427,60],"start":[427,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[427,53],"start":[427,43]}},"type":"Var","value":{"identifier":"values","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[427,60],"start":[427,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[427,60],"start":[427,54]}},"type":"Var","value":{"identifier":"forces","sourcePos":[422,3]}},"type":"App"},"type":"App"},"identifier":"forceHandles"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[428,56],"start":[428,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[428,56],"start":[428,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable1","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[428,56],"start":[428,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[428,49],"start":[428,41]}},"type":"Var","value":{"identifier":"keys","moduleName":["Data","Map"]}},"annotation":{"meta":null,"sourceSpan":{"end":[428,56],"start":[428,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[428,56],"start":[428,50]}},"type":"Var","value":{"identifier":"forces","sourcePos":[422,3]}},"type":"App"},"type":"App"},"identifier":"forceNames"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[429,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[429,22],"start":[429,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[429,21],"start":[429,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[429,14],"start":[429,9]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[423,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[429,21],"start":[429,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[429,21],"start":[429,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.99}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[429,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[430,8],"start":[430,5]}},"type":"Var","value":{"identifier":"log","moduleName":["Effect","Console"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,35],"start":[430,11]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"[tick] Forces in sim: "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,71],"start":[430,39]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[430,57],"start":[430,45]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,70],"start":[430,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,70],"start":[430,58]}},"type":"Var","value":{"identifier":"forceHandles","sourcePos":[427,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,80],"start":[430,75]}},"type":"Literal","value":{"literalType":"StringLiteral","value":" - "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,84]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[430,89]}},"type":"Var","value":{"identifier":"forceNames","sourcePos":[428,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[429,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,99],"start":[429,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,38],"start":[431,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[431,19],"start":[431,3]}},"type":"Var","value":{"identifier":"applyForces","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,32],"start":[431,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,32],"start":[431,20]}},"type":"Var","value":{"identifier":"forceHandles","sourcePos":[427,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,38],"start":[431,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,38],"start":[431,33]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[423,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[431,38],"start":[431,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[431,38],"start":[431,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[434,26],"start":[434,3]}},"type":"Var","value":{"identifier":"integratePositions","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[434,32],"start":[434,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,32],"start":[434,27]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[421,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[434,36],"start":[434,33]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"config","type":"Accessor"},"fieldName":"velocityDecay","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[434,57],"start":[434,3]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[437,104],"start":[437,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[437,104],"start":[437,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[437,33],"start":[437,18]}},"type":"Var","value":{"identifier":"decayAlpha","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[437,39],"start":[437,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[437,39],"start":[437,34]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[423,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[437,59],"start":[437,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[437,59],"start":[437,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,59],"start":[437,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,43],"start":[437,40]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"config","type":"Accessor"},"fieldName":"alphaMin","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[437,81],"start":[437,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[437,81],"start":[437,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,81],"start":[437,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,63],"start":[437,60]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"config","type":"Accessor"},"fieldName":"alphaDecay","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[437,104],"start":[437,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[437,104],"start":[437,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,104],"start":[437,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,85],"start":[437,82]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"config","type":"Accessor"},"fieldName":"alphaTarget","type":"Accessor"},"type":"App"},"identifier":"newAlpha"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,31],"start":[438,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[438,12],"start":[438,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,21],"start":[438,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,21],"start":[438,13]}},"type":"Var","value":{"identifier":"newAlpha","sourcePos":[437,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[438,31],"start":[438,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,31],"start":[438,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[438,25],"start":[438,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"alpha","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[438,31],"start":[438,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,31],"start":[438,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[439,32],"start":[439,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[439,12],"start":[439,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[439,18],"start":[439,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[439,18],"start":[439,13]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[423,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[439,32],"start":[439,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[439,32],"start":[439,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[439,22],"start":[439,19]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"prevAlpha","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[439,32],"start":[439,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[439,32],"start":[439,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[442,46],"start":[442,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[442,29],"start":[442,21]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[442,46],"start":[442,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[442,46],"start":[442,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[442,33],"start":[442,30]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"fieldName":"tickCallback","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[442,46],"start":[442,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[442,46],"start":[442,3]}},"argument":"legacyCallback","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[443,17],"start":[443,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[443,17],"start":[443,3]}},"type":"Var","value":{"identifier":"legacyCallback","sourcePos":[442,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[443,17],"start":[443,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[443,17],"start":[443,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[446,25],"start":[446,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[446,21],"start":[446,3]}},"type":"Var","value":{"identifier":"invokeTickCallback","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[446,25],"start":[446,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[446,25],"start":[446,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[446,25],"start":[446,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[446,25],"start":[446,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[449,46],"start":[449,3]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[449,23],"start":[449,3]}},"type":"Var","value":{"identifier":"checkAlphaThresholds","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[449,33],"start":[449,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[449,33],"start":[449,24]}},"type":"Var","value":{"identifier":"prevAlpha","sourcePos":[424,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[449,42],"start":[449,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[449,42],"start":[449,34]}},"type":"Var","value":{"identifier":"newAlpha","sourcePos":[437,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[449,46],"start":[449,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[449,46],"start":[449,43]}},"type":"Var","value":{"identifier":"sim","sourcePos":[420,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[449,46],"start":[449,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[449,46],"start":[449,3]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[451,16],"start":[451,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[451,16],"start":[451,8]}},"type":"Var","value":{"identifier":"newAlpha","sourcePos":[437,7]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"tick"},{"annotation":{"meta":null,"sourceSpan":{"end":[379,17],"start":[377,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[379,17],"start":[377,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[382,41],"start":[382,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[382,29],"start":[382,21]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[382,41],"start":[382,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[382,41],"start":[382,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[382,33],"start":[382,30]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[382,41],"start":[382,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[382,41],"start":[382,3]}},"argument":"alreadyRunning","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unless","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[383,24],"start":[383,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[383,24],"start":[383,10]}},"type":"Var","value":{"identifier":"alreadyRunning","sourcePos":[382,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[404,41],"start":[383,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[384,31],"start":[384,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[384,14],"start":[384,5]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[384,19],"start":[384,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,19],"start":[384,15]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[384,31],"start":[384,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,31],"start":[384,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[384,23],"start":[384,20]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[384,31],"start":[384,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,31],"start":[384,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[387,28],"start":[387,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[387,24],"start":[387,5]}},"type":"Var","value":{"identifier":"invokeStartCallback","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[387,28],"start":[387,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[387,28],"start":[387,25]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[387,28],"start":[387,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[387,28],"start":[387,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[390,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[390,34],"start":[390,15]}},"type":"Var","value":{"identifier":"startAnimation","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[390,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[390,35]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[391,38],"start":[391,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[391,26],"start":[391,18]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[391,38],"start":[391,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[391,38],"start":[391,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[391,30],"start":[391,27]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[391,38],"start":[391,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[391,38],"start":[391,7]}},"argument":"running","body":{"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[392,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[392,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[394,31],"start":[394,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[394,27],"start":[394,23]}},"type":"Var","value":{"identifier":"tick","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[394,31],"start":[394,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[394,31],"start":[394,28]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[394,31],"start":[394,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[394,31],"start":[394,11]}},"argument":"newAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[396,46],"start":[396,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[396,46],"start":[396,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[396,46],"start":[396,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[396,40],"start":[396,32]}},"type":"Var","value":{"identifier":"newAlpha","sourcePos":[394,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[396,46],"start":[396,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[396,46],"start":[396,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"identifier":"shouldContinue"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[400,35],"start":[397,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unless","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[397,32],"start":[397,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[397,32],"start":[397,18]}},"type":"Var","value":{"identifier":"shouldContinue","sourcePos":[396,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[400,35],"start":[397,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[398,40],"start":[398,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[398,22],"start":[398,13]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[398,28],"start":[398,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[398,28],"start":[398,23]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[398,40],"start":[398,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[398,40],"start":[398,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[398,32],"start":[398,29]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[398,40],"start":[398,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[398,40],"start":[398,13]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[400,31],"start":[400,13]}},"type":"Var","value":{"identifier":"invokeStopCallback","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[400,35],"start":[400,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[400,35],"start":[400,32]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[400,35],"start":[397,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[400,35],"start":[397,11]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,30],"start":[401,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,30],"start":[401,16]}},"type":"Var","value":{"identifier":"shouldContinue","sourcePos":[396,15]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[392,7]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[402,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[402,19]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[392,17],"start":[392,10]}},"type":"Var","value":{"identifier":"running","sourcePos":[391,7]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[390,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[402,24],"start":[390,5]}},"argument":"cancel","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[404,14],"start":[404,5]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[404,21],"start":[404,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,21],"start":[404,15]}},"type":"Var","value":{"identifier":"cancel","sourcePos":[390,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[404,41],"start":[404,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,41],"start":[404,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[404,25],"start":[404,22]}},"type":"Var","value":{"identifier":"sim","sourcePos":[380,1]}},"fieldName":"cancelAnimation","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"start"},{"annotation":{"meta":null,"sourceSpan":{"end":[456,17],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[456,17],"start":[454,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[458,26],"start":[458,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[458,12],"start":[458,3]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[458,16],"start":[458,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,16],"start":[458,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[458,26],"start":[458,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,26],"start":[458,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[458,20],"start":[458,17]}},"type":"Var","value":{"identifier":"sim","sourcePos":[457,1]}},"fieldName":"alpha","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[458,26],"start":[458,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[458,26],"start":[458,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[460,34],"start":[460,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[460,22],"start":[460,14]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[460,34],"start":[460,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[460,34],"start":[460,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[460,26],"start":[460,23]}},"type":"Var","value":{"identifier":"sim","sourcePos":[457,1]}},"fieldName":"running","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[460,34],"start":[460,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[460,34],"start":[460,3]}},"argument":"running","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unless","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[461,17],"start":[461,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[461,17],"start":[461,10]}},"type":"Var","value":{"identifier":"running","sourcePos":[460,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[461,29],"start":[461,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[461,25],"start":[461,20]}},"type":"Var","value":{"identifier":"start","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[461,29],"start":[461,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[461,29],"start":[461,26]}},"type":"Var","value":{"identifier":"sim","sourcePos":[457,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"reheat"},{"annotation":{"meta":null,"sourceSpan":{"end":[719,17],"start":[713,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[719,17],"start":[713,1]}},"argument":"mXFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[719,17],"start":[713,1]}},"argument":"mYFn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[719,17],"start":[713,1]}},"argument":"forceXHandle","body":{"annotation":{"meta":null,"sourceSpan":{"end":[719,17],"start":[713,1]}},"argument":"mForceYHandle","body":{"annotation":{"meta":null,"sourceSpan":{"end":[719,17],"start":[713,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[722,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_2","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[722,12],"start":[722,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[722,12],"start":[722,8]}},"type":"Var","value":{"identifier":"mXFn","sourcePos":[720,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[722,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[722,13]}},"argument":"xFn","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[723,23],"start":[723,5]}},"type":"Var","value":{"identifier":"updateGridXWithFn_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[723,27],"start":[723,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[723,27],"start":[723,24]}},"type":"Var","value":{"identifier":"xFn","sourcePos":[722,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[723,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[723,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[723,31],"start":[723,28]}},"type":"Var","value":{"identifier":"sim","sourcePos":[720,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[722,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[723,37],"start":[722,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[726,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_2","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[726,12],"start":[726,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[726,12],"start":[726,8]}},"type":"Var","value":{"identifier":"mYFn","sourcePos":[720,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[726,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[726,13]}},"argument":"yFn","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[727,23],"start":[727,5]}},"type":"Var","value":{"identifier":"updateGridYWithFn_","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[727,27],"start":[727,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[727,27],"start":[727,24]}},"type":"Var","value":{"identifier":"yFn","sourcePos":[726,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[727,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[727,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[727,31],"start":[727,28]}},"type":"Var","value":{"identifier":"sim","sourcePos":[720,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[726,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[727,37],"start":[726,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[730,37],"start":[730,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[730,27],"start":[730,19]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[730,37],"start":[730,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[730,37],"start":[730,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[730,31],"start":[730,28]}},"type":"Var","value":{"identifier":"sim","sourcePos":[720,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[730,37],"start":[730,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[730,37],"start":[730,3]}},"argument":"currentNodes","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[733,54],"start":[733,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[733,28],"start":[733,8]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[733,41],"start":[733,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[733,41],"start":[733,29]}},"type":"Var","value":{"identifier":"forceXHandle","sourcePos":[720,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[733,54],"start":[733,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[733,54],"start":[733,42]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[730,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[733,54],"start":[733,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[733,54],"start":[733,3]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[736,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_2","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[736,21],"start":[736,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[736,21],"start":[736,8]}},"type":"Var","value":{"identifier":"mForceYHandle","sourcePos":[720,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[736,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[736,22]}},"argument":"forceYHandle","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"void","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[737,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[737,32],"start":[737,12]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[737,45],"start":[737,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[737,45],"start":[737,33]}},"type":"Var","value":{"identifier":"forceYHandle","sourcePos":[736,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[737,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[737,46]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[730,3]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[736,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[737,58],"start":[736,3]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[740,9],"start":[740,3]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[740,13],"start":[740,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[740,13],"start":[740,10]}},"type":"Var","value":{"identifier":"sim","sourcePos":[720,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateGridXYAndReinit"},{"annotation":{"meta":null,"sourceSpan":{"end":[802,17],"start":[799,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[802,17],"start":[799,1]}},"argument":"elements","body":{"annotation":{"meta":null,"sourceSpan":{"end":[802,17],"start":[799,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[804,25],"start":[804,3]}},"type":"Var","value":{"identifier":"attachPinningDrag","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[804,34],"start":[804,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[804,34],"start":[804,26]}},"type":"Var","value":{"identifier":"elements","sourcePos":[803,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[804,47],"start":[804,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[804,42],"start":[804,36]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[804,46],"start":[804,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[804,46],"start":[804,43]}},"type":"Var","value":{"identifier":"sim","sourcePos":[803,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"attachPinningDrag"},{"annotation":{"meta":null,"sourceSpan":{"end":[781,17],"start":[777,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[781,17],"start":[777,1]}},"argument":"elements","body":{"annotation":{"meta":null,"sourceSpan":{"end":[781,17],"start":[777,1]}},"argument":"containerSelector","body":{"annotation":{"meta":null,"sourceSpan":{"end":[781,17],"start":[777,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[783,33],"start":[783,3]}},"type":"Var","value":{"identifier":"attachGroupDragWithReheat","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[783,42],"start":[783,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[783,42],"start":[783,34]}},"type":"Var","value":{"identifier":"elements","sourcePos":[782,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[783,60],"start":[783,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[783,60],"start":[783,43]}},"type":"Var","value":{"identifier":"containerSelector","sourcePos":[782,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[783,73],"start":[783,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[783,68],"start":[783,62]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[783,72],"start":[783,62]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[783,72],"start":[783,69]}},"type":"Var","value":{"identifier":"sim","sourcePos":[782,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"attachGroupDrag"},{"annotation":{"meta":null,"sourceSpan":{"end":[761,17],"start":[758,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[761,17],"start":[758,1]}},"argument":"elements","body":{"annotation":{"meta":null,"sourceSpan":{"end":[761,17],"start":[758,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[763,28],"start":[763,3]}},"type":"Var","value":{"identifier":"attachDragWithReheat","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[763,37],"start":[763,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[763,37],"start":[763,29]}},"type":"Var","value":{"identifier":"elements","sourcePos":[762,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[763,50],"start":[763,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[763,45],"start":[763,39]}},"type":"Var","value":{"identifier":"reheat","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[763,49],"start":[763,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[763,49],"start":[763,46]}},"type":"Var","value":{"identifier":"sim","sourcePos":[762,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"attachDrag"},{"annotation":{"meta":null,"sourceSpan":{"end":[352,17],"start":[348,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[352,17],"start":[348,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,17],"start":[348,1]}},"argument":"handle","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,17],"start":[348,1]}},"argument":"sim","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[354,14],"start":[354,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,39],"start":[354,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,31],"start":[354,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,31],"start":[354,27]}},"type":"Var","value":{"identifier":"name","sourcePos":[353,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,38],"start":[354,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,38],"start":[354,32]}},"type":"Var","value":{"identifier":"handle","sourcePos":[353,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,50],"start":[354,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,50],"start":[354,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[354,43],"start":[354,40]}},"type":"Var","value":{"identifier":"sim","sourcePos":[353,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"addForceHandle"},{"annotation":{"meta":null,"sourceSpan":{"end":[297,17],"start":[294,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[297,17],"start":[294,1]}},"argument":"spec","body":{"annotation":{"meta":null,"sourceSpan":{"end":[297,17],"start":[294,1]}},"argument":"sim","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[334,50],"start":[298,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[343,20],"start":[336,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,20],"start":[336,15]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[343,20],"start":[336,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[337,17],"start":[337,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[337,15],"start":[337,14]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[337,17],"start":[337,16]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"ManyBody","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[337,22],"start":[337,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[337,14]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[338,16],"start":[338,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[338,14],"start":[338,13]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[338,16],"start":[338,15]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Collide","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,21],"start":[338,20]}},"type":"Var","value":{"identifier":"n","sourcePos":[338,13]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[339,13],"start":[339,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[339,11],"start":[339,10]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[339,13],"start":[339,12]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Link","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[339,18],"start":[339,17]}},"type":"Var","value":{"identifier":"n","sourcePos":[339,10]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[340,15],"start":[340,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[340,13],"start":[340,12]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[340,15],"start":[340,14]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Center","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[340,20],"start":[340,19]}},"type":"Var","value":{"identifier":"n","sourcePos":[340,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[341,18],"start":[341,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[341,16],"start":[341,15]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[341,18],"start":[341,17]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"PositionX","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[341,23],"start":[341,22]}},"type":"Var","value":{"identifier":"n","sourcePos":[341,15]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[342,18],"start":[342,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[342,16],"start":[342,15]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[342,18],"start":[342,17]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"PositionY","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[342,23],"start":[342,22]}},"type":"Var","value":{"identifier":"n","sourcePos":[342,15]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[343,15],"start":[343,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[343,13],"start":[343,12]}},"binderType":"VarBinder","identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[343,15],"start":[343,14]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Radial","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,20],"start":[343,19]}},"type":"Var","value":{"identifier":"n","sourcePos":[343,12]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"forceName"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,30],"start":[299,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[299,20],"start":[299,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,30],"start":[299,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,30],"start":[299,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[299,24],"start":[299,21]}},"type":"Var","value":{"identifier":"sim","sourcePos":[298,1]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,30],"start":[299,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,30],"start":[299,3]}},"argument":"nodes","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,30],"start":[300,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[300,20],"start":[300,12]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,30],"start":[300,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,30],"start":[300,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[300,24],"start":[300,21]}},"type":"Var","value":{"identifier":"sim","sourcePos":[298,1]}},"fieldName":"links","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[300,30],"start":[300,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,30],"start":[300,3]}},"argument":"links","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,35],"start":[303,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,35],"start":[303,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[304,22],"start":[304,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[304,15],"start":[304,14]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[304,22],"start":[304,16]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"ManyBody","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,41],"start":[305,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,41],"start":[305,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[305,34],"start":[305,15]}},"type":"Var","value":{"identifier":"createManyBody","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[305,41],"start":[305,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[305,41],"start":[305,35]}},"type":"Var","value":{"identifier":"config","sourcePos":[304,16]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[306,27],"start":[306,7]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[306,29],"start":[306,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[306,29],"start":[306,28]}},"type":"Var","value":{"identifier":"h","sourcePos":[305,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[306,35],"start":[306,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[306,35],"start":[306,30]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[308,21],"start":[308,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[308,14],"start":[308,13]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[308,21],"start":[308,15]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"Collide","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[309,33],"start":[309,15]}},"type":"Var","value":{"identifier":"createCollide","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,34]}},"type":"Var","value":{"identifier":"config","sourcePos":[308,15]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[310,27],"start":[310,7]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,29],"start":[310,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,29],"start":[310,28]}},"type":"Var","value":{"identifier":"h","sourcePos":[309,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[310,35],"start":[310,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,35],"start":[310,30]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[312,18],"start":[312,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[312,11],"start":[312,10]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[312,18],"start":[312,12]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"Link","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,37],"start":[313,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[313,37],"start":[313,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[313,30],"start":[313,15]}},"type":"Var","value":{"identifier":"createLink","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,37],"start":[313,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,37],"start":[313,31]}},"type":"Var","value":{"identifier":"config","sourcePos":[312,12]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[314,31],"start":[314,7]}},"type":"Var","value":{"identifier":"initializeLinkForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[314,33],"start":[314,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[314,33],"start":[314,32]}},"type":"Var","value":{"identifier":"h","sourcePos":[313,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[314,39],"start":[314,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[314,39],"start":[314,34]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[314,45],"start":[314,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[314,45],"start":[314,40]}},"type":"Var","value":{"identifier":"links","sourcePos":[300,3]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[316,20],"start":[316,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[316,13],"start":[316,12]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[316,20],"start":[316,14]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"Center","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[317,39],"start":[317,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[317,39],"start":[317,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[317,32],"start":[317,15]}},"type":"Var","value":{"identifier":"createCenter","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[317,39],"start":[317,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[317,39],"start":[317,33]}},"type":"Var","value":{"identifier":"config","sourcePos":[316,14]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[318,27],"start":[318,7]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,29],"start":[318,28]}},"type":"Var","value":{"identifier":"h","sourcePos":[317,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,35],"start":[318,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,35],"start":[318,30]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[320,23],"start":[320,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[320,16],"start":[320,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[320,23],"start":[320,17]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"PositionX","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[321,39],"start":[321,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[321,39],"start":[321,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[321,32],"start":[321,15]}},"type":"Var","value":{"identifier":"createForceX","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[321,39],"start":[321,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[321,39],"start":[321,33]}},"type":"Var","value":{"identifier":"config","sourcePos":[320,17]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[322,27],"start":[322,7]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[322,29],"start":[322,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[322,29],"start":[322,28]}},"type":"Var","value":{"identifier":"h","sourcePos":[321,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[322,35],"start":[322,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[322,35],"start":[322,30]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[324,23],"start":[324,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[324,16],"start":[324,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[324,23],"start":[324,17]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"PositionY","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[325,39],"start":[325,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[325,39],"start":[325,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[325,32],"start":[325,15]}},"type":"Var","value":{"identifier":"createForceY","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[325,39],"start":[325,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[325,39],"start":[325,33]}},"type":"Var","value":{"identifier":"config","sourcePos":[324,17]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[326,27],"start":[326,7]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[326,29],"start":[326,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[326,29],"start":[326,28]}},"type":"Var","value":{"identifier":"h","sourcePos":[325,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[326,35],"start":[326,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[326,35],"start":[326,30]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[328,20],"start":[328,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[328,13],"start":[328,12]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[328,20],"start":[328,14]}},"binderType":"VarBinder","identifier":"config"}],"constructorName":{"identifier":"Radial","moduleName":["PSD3","ForceEngine","Types"]},"typeName":{"identifier":"ForceSpec","moduleName":["PSD3","ForceEngine","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[329,39],"start":[329,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[329,39],"start":[329,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[329,32],"start":[329,15]}},"type":"Var","value":{"identifier":"createRadial","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,39],"start":[329,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,39],"start":[329,33]}},"type":"Var","value":{"identifier":"config","sourcePos":[328,14]}},"type":"App"},"identifier":"h"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[330,27],"start":[330,7]}},"type":"Var","value":{"identifier":"initializeForce","moduleName":["PSD3","ForceEngine","Core"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,29],"start":[330,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,29],"start":[330,28]}},"type":"Var","value":{"identifier":"h","sourcePos":[329,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,35],"start":[330,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,35],"start":[330,30]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[299,3]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[303,22],"start":[303,18]}},"type":"Var","value":{"identifier":"spec","sourcePos":[298,1]}}],"type":"Case"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,35],"start":[303,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,35],"start":[303,3]}},"argument":"handle","body":{"annotation":{"meta":null,"sourceSpan":{"end":[333,28],"start":[333,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[333,28],"start":[333,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[333,23],"start":[333,14]}},"type":"Var","value":{"identifier":"forceName","sourcePos":[336,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[333,28],"start":[333,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[333,28],"start":[333,24]}},"type":"Var","value":{"identifier":"spec","sourcePos":[298,1]}},"type":"App"},"identifier":"name"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[334,14],"start":[334,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,39],"start":[334,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["PSD3","ForceEngine","Simulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,31],"start":[334,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,31],"start":[334,27]}},"type":"Var","value":{"identifier":"name","sourcePos":[333,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,38],"start":[334,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,38],"start":[334,32]}},"type":"Var","value":{"identifier":"handle","sourcePos":[303,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,50],"start":[334,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,50],"start":[334,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[334,43],"start":[334,40]}},"type":"Var","value":{"identifier":"sim","sourcePos":[298,1]}},"fieldName":"forces","type":"Accessor"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"addForce"}],"exports":["defaultConfig","create","createWithCallbacks","setNodes","setLinks","addForce","addForceHandle","removeForce","clearForces","start","stop","tick","reheat","onTick","setCallbacks","getCallbacks","isRunning","getAlpha","getNodes","getLinks","updatePositionsInPlace","interpolatePositionsInPlace","pinNodesInPlace","unpinNodesInPlace","pinNodesAtPositions","updateGridPositionsInPlace","updateGridXWithFn","updateGridYWithFn","updateGridXYAndReinit","attachDrag","attachGroupDrag","attachPinningDrag","querySelectorElements"],"foreign":["updatePositionsInPlace_","interpolatePositionsInPlace_","pinNodesInPlace_","unpinNodesInPlace_","pinNodesAtPositions_","updateGridPositionsInPlace_","updateGridXWithFn_","updateGridYWithFn_"],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","List","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[112,32],"start":[112,1]}},"moduleName":["Data","Nullable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Set"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Unfoldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Data","Unit"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Effect","Console"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Effect","Ref"]},{"annotation":{"meta":null,"sourceSpan":{"end":[113,31],"start":[113,1]}},"moduleName":["Foreign","Object"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["PSD3","ForceEngine","Core"]},{"annotation":{"meta":null,"sourceSpan":{"end":[121,53],"start":[121,1]}},"moduleName":["PSD3","ForceEngine","Events"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["PSD3","ForceEngine","Simulation"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["PSD3","ForceEngine","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[104,15],"start":[104,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[820,51],"start":[45,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[116,27],"start":[116,1]}},"moduleName":["Type","Row"]},{"annotation":{"meta":null,"sourceSpan":{"end":[122,33],"start":[122,1]}},"moduleName":["Web","DOM","Element"]}],"moduleName":["PSD3","ForceEngine","Simulation"],"modulePath":"../purescript-psd3-simulation/src/PSD3/ForceEngine/Simulation.purs","reExports":{},"sourceSpan":{"end":[820,51],"start":[45,1]}}