{"comments":"DataViz.Layout.Hierarchy.EdgeBundle.Bilink\n\nCreate bidirectional links between nodes based on imports.\nThis implements D3's bilink pattern:\n- Each leaf node gets an \"outgoing\" array (imports it makes)\n- Each leaf node gets an \"incoming\" array (nodes that import it)\n","declarations":[{"children":[],"comments":"Type alias for the complete bilinked tree\n","info":{"arguments":[["a",null]],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[65,37],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[65,1]},"title":"BilinkedTree"},{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["name",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["fullName",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["children",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":["data_",{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":["depth",{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"},{"annotation":[],"contents":["height",{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"},{"annotation":[],"contents":["outgoing",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["incoming",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}],"declType":"dataConstructor"},"sourceSpan":{"end":[45,35],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[45,21]},"title":"BilinkedNode"},{"comments":null,"info":{"declType":"instance","dependencies":[{"constraintAnn":[],"constraintArgs":[{"annotation":[],"contents":"a","tag":"TypeVar"}],"constraintClass":[["Data","Show"],"Show"],"constraintData":null,"constraintKindArgs":[]}],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"sourceSpan":{"end":[62,12],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[56,1]},"title":"showBilinkedNode"}],"comments":"A node with bidirectional link information\n","info":{"dataDeclType":"data","declType":"data","roles":["Representational"],"typeArguments":[["a",null]]},"kind":null,"sourceSpan":{"end":[54,4],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[45,1]},"title":"BilinkedNode"},{"children":[{"comments":null,"info":{"arguments":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["source",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["target",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}],"declType":"dataConstructor"},"sourceSpan":{"end":[37,4],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[34,14]},"title":"Link"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[39,34],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[39,1]},"title":"eqLink"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Show"],"Show"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[42,49],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[41,1]},"title":"showLink"}],"comments":"A link between two nodes\n","info":{"dataDeclType":"newtype","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[37,4],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[34,1]},"title":"Link"},{"children":[],"comments":"Create bidirectional links from a hierarchy and import data\n\nAlgorithm:\n1. Build a map from fullName -> leaf node\n2. For each leaf with imports, create outgoing links\n3. For each outgoing link, add corresponding incoming link to target\n\nTakes:\n- A tree built from buildHierarchy\n- A function to get imports from the leaf data\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Hierarchy"],"TreeNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedTree"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[116,17],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[110,1]},"title":"bilink"},{"children":[],"comments":"Get all links in the tree\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedTree"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[88,51],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[88,1]},"title":"getLinks"},{"children":[],"comments":"Get outgoing links from a node\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[68,54],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[68,1]},"title":"getOutgoing"},{"children":[],"comments":"Get incoming links to a node\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"Link"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[72,54],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[72,1]},"title":"getIncoming"},{"children":[],"comments":"Get the data from a bilinked node\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[76,55],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[76,1]},"title":"getBilinkedData"},{"children":[],"comments":"Get children of a bilinked node\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[80,74],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[80,1]},"title":"getBilinkedChildren"},{"children":[],"comments":"Get full name of a bilinked node\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[84,58],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[84,1]},"title":"getBilinkedFullName"},{"children":[],"comments":"Get all nodes in the tree (pre-order)\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[96,71],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[96,1]},"title":"allBilinkedNodes"},{"children":[],"comments":"Get all leaf nodes from a bilinked tree\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["DataViz","Layout","Hierarchy","EdgeBundle","Bilink"],"BilinkedNode"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[152,72],"name":"../purescript-psd3-layout/src/DataViz/Layout/Hierarchy/EdgeBundle/Bilink.purs","start":[152,1]},"title":"allBilinkedLeaves"}],"name":"DataViz.Layout.Hierarchy.EdgeBundle.Bilink","reExports":[]}