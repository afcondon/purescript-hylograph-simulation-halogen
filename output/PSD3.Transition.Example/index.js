// Generated by purs version 0.15.15
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Effect from "../Effect/index.js";
import * as Effect_Console from "../Effect.Console/index.js";
import * as Effect_Ref from "../Effect.Ref/index.js";
import * as PSD3_Transition_Consumers from "../PSD3.Transition.Consumers/index.js";
import * as PSD3_Transition_Coordinator from "../PSD3.Transition.Coordinator/index.js";
import * as PSD3_Transition_Easing from "../PSD3.Transition.Easing/index.js";
import * as PSD3_Transition_Engine from "../PSD3.Transition.Engine/index.js";
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);
var pure = /* #__PURE__ */ Control_Applicative.pure(Effect.applicativeEffect);
var runExample = function __do() {
    Effect_Console.log("Starting coordinator example...")();
    var coord = PSD3_Transition_Coordinator.create();
    var opacitySpec = PSD3_Transition_Engine.transition({
        from: 0.0,
        to: 1.0
    })({
        duration: 500.0,
        easing: PSD3_Transition_Easing.QuadOut.value
    });
    var opacityRef = Effect_Ref["new"](PSD3_Transition_Engine.start(opacitySpec))();
    var radiusSpec = PSD3_Transition_Engine.transition({
        from: 5.0,
        to: 20.0
    })({
        duration: 1000.0,
        easing: PSD3_Transition_Easing.CubicInOut.value
    });
    var radiusRef = Effect_Ref["new"](PSD3_Transition_Engine.start(radiusSpec))();
    PSD3_Transition_Coordinator.register(coord)({
        tick: PSD3_Transition_Consumers.transitionConsumer(opacityRef)(function (value) {
            return Effect_Console.log("Opacity: " + show(value));
        }),
        onComplete: Effect_Console.log("Opacity transition complete!")
    })();
    PSD3_Transition_Coordinator.register(coord)({
        tick: PSD3_Transition_Consumers.transitionConsumer(radiusRef)(function (value) {
            return Effect_Console.log("Radius: " + show(value));
        }),
        onComplete: Effect_Console.log("Radius transition complete!")
    })();
    PSD3_Transition_Coordinator.start(coord)();
    return Effect_Console.log("Coordinator started. Transitions running...")();
};
var exampleWithCallback = function (onUpdate) {
    return function __do() {
        Effect_Console.log("Starting grouped transition example...")();
        var coord = PSD3_Transition_Coordinator.create();
        var specs = [ PSD3_Transition_Engine.transition({
            from: 0.0,
            to: 100.0
        })({
            duration: 800.0,
            easing: PSD3_Transition_Easing.QuadOut.value
        }), PSD3_Transition_Engine.transition({
            from: 0.0,
            to: 50.0
        })({
            duration: 800.0,
            easing: PSD3_Transition_Easing.QuadOut.value
        }), PSD3_Transition_Engine.transition({
            from: 0.0,
            to: 1.0
        })({
            duration: 400.0,
            easing: PSD3_Transition_Easing.Linear.value
        }) ];
        var groupRef = Effect_Ref["new"](PSD3_Transition_Engine.group(specs))();
        PSD3_Transition_Coordinator.register(coord)({
            tick: PSD3_Transition_Consumers.transitionGroupConsumer(groupRef)(function (values) {
                if (values.length === 3) {
                    return onUpdate({
                        x: values[0],
                        y: values[1],
                        opacity: values[2]
                    });
                };
                return pure(Data_Unit.unit);
            }),
            onComplete: Effect_Console.log("All transitions complete!")
        })();
        PSD3_Transition_Coordinator.start(coord)();
        return {
            coordinator: coord,
            stop: PSD3_Transition_Coordinator.stop(coord)
        };
    };
};
export {
    runExample,
    exampleWithCallback
};
//# sourceMappingURL=index.js.map
