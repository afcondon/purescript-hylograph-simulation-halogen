{"builtWith":"0.15.15","comments":[{"LineComment":" | Scene Rules"},{"LineComment":" |"},{"LineComment":" | Common rule builders and transforms for scene orchestration."},{"LineComment":" |"},{"LineComment":" | Rules are applied with first-match-wins semantics (CSS-like cascade)."},{"LineComment":" | Each rule has a selector (predicate) and a transform function."},{"LineComment":" |"},{"LineComment":" | This module provides:"},{"LineComment":" | - Rule builders for creating rules"},{"LineComment":" | - Common transforms (pin, unpin, setGridXY)"},{"LineComment":" | - Rule application functions"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,29],"start":[148,26]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[148,53],"start":[148,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[112,58],"start":[109,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,58],"start":[109,1]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,4],"start":[113,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,4],"start":[113,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,12],"start":[113,11]}},"type":"Var","value":{"identifier":"n","sourcePos":[113,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,4],"start":[113,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[113,1]}},"type":"ObjectUpdate","updates":[["fx",{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,23],"start":[114,10]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Nullable"]}}],["fy",{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,23],"start":[115,10]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Nullable"]}}]]},"type":"Let"},"type":"Abs"},"identifier":"unpin"},{"annotation":{"meta":null,"sourceSpan":{"end":[126,38],"start":[121,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,38],"start":[121,1]}},"argument":"targetX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,38],"start":[121,1]}},"argument":"targetY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,38],"start":[121,1]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[130,4],"start":[127,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,4],"start":[127,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,34],"start":[127,33]}},"type":"Var","value":{"identifier":"n","sourcePos":[127,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,4],"start":[127,33]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[127,1]}},"type":"ObjectUpdate","updates":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[128,16],"start":[128,9]}},"type":"Var","value":{"identifier":"targetX","sourcePos":[127,1]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[129,16],"start":[129,9]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[127,1]}}]]},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"setPosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[67,25],"start":[63,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[67,25],"start":[63,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[67,25],"start":[63,1]}},"argument":"apply","body":{"annotation":{"meta":null,"sourceSpan":{"end":[69,38],"start":[69,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[69,9],"start":[69,5]}},"type":"Var","value":{"identifier":"name","sourcePos":[68,1]}}],["select",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[69,24],"start":[69,19]}},"type":"Var","value":{"identifier":"const","moduleName":["Data","Function"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,29],"start":[69,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,29],"start":[69,25]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"}],["apply",{"annotation":{"meta":null,"sourceSpan":{"end":[69,36],"start":[69,31]}},"type":"Var","value":{"identifier":"apply","sourcePos":[68,1]}}]]}},"type":"Abs"},"type":"Abs"},"identifier":"ruleAll"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,25],"start":[47,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,25],"start":[47,1]}},"argument":"name","body":{"annotation":{"meta":null,"sourceSpan":{"end":[52,25],"start":[47,1]}},"argument":"select","body":{"annotation":{"meta":null,"sourceSpan":{"end":[52,25],"start":[47,1]}},"argument":"apply","body":{"annotation":{"meta":null,"sourceSpan":{"end":[54,26],"start":[54,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["name",{"annotation":{"meta":null,"sourceSpan":{"end":[54,9],"start":[54,5]}},"type":"Var","value":{"identifier":"name","sourcePos":[53,1]}}],["select",{"annotation":{"meta":null,"sourceSpan":{"end":[54,17],"start":[54,11]}},"type":"Var","value":{"identifier":"select","sourcePos":[53,1]}}],["apply",{"annotation":{"meta":null,"sourceSpan":{"end":[54,24],"start":[54,19]}},"type":"Var","value":{"identifier":"apply","sourcePos":[53,1]}}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"rule"},{"annotation":{"meta":null,"sourceSpan":{"end":[84,84],"start":[81,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[84,84],"start":[81,1]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[88,4],"start":[85,18]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,4],"start":[85,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,19],"start":[85,18]}},"type":"Var","value":{"identifier":"n","sourcePos":[85,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,4],"start":[85,18]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[85,1]}},"type":"ObjectUpdate","updates":[["fx",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[86,26],"start":[86,10]}},"type":"Var","value":{"identifier":"notNull","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[86,30],"start":[86,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[86,30],"start":[86,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[86,28],"start":[86,27]}},"type":"Var","value":{"identifier":"n","sourcePos":[85,1]}},"fieldName":"x","type":"Accessor"},"type":"App"}],["fy",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,26],"start":[87,10]}},"type":"Var","value":{"identifier":"notNull","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,30],"start":[87,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,30],"start":[87,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,28],"start":[87,27]}},"type":"Var","value":{"identifier":"n","sourcePos":[85,1]}},"fieldName":"y","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Abs"},"identifier":"pinAtCurrent"},{"annotation":{"meta":null,"sourceSpan":{"end":[98,84],"start":[93,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[98,84],"start":[93,1]}},"argument":"targetX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[98,84],"start":[93,1]}},"argument":"targetY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[98,84],"start":[93,1]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,4],"start":[99,27]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[104,4],"start":[99,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[99,28],"start":[99,27]}},"type":"Var","value":{"identifier":"n","sourcePos":[99,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,4],"start":[99,27]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[99,1]}},"type":"ObjectUpdate","updates":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[100,16],"start":[100,9]}},"type":"Var","value":{"identifier":"targetX","sourcePos":[99,1]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[101,16],"start":[101,9]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[99,1]}}],["fx",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,26],"start":[102,10]}},"type":"Var","value":{"identifier":"notNull","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,34],"start":[102,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,34],"start":[102,27]}},"type":"Var","value":{"identifier":"targetX","sourcePos":[99,1]}},"type":"App"}],["fy",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,26],"start":[103,10]}},"type":"Var","value":{"identifier":"notNull","moduleName":["Data","Nullable"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,34],"start":[103,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,34],"start":[103,27]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[99,1]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"pinAt"},{"annotation":{"meta":null,"sourceSpan":{"end":[157,10],"start":[153,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,10],"start":[153,1]}},"argument":"rules","body":{"annotation":{"meta":null,"sourceSpan":{"end":[157,10],"start":[153,1]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[159,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,10],"start":[153,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[159,18],"start":[159,8]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,40],"start":[159,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,39],"start":[159,20]}},"argument":"r","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[159,34],"start":[159,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,27],"start":[159,26]}},"type":"Var","value":{"identifier":"r","sourcePos":[159,21]}},"fieldName":"select","type":"Accessor"},"annotation":{"meta":null,"sourceSpan":{"end":[159,39],"start":[159,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,39],"start":[159,35]}},"type":"Var","value":{"identifier":"node","sourcePos":[158,1]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,46],"start":[159,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,46],"start":[159,41]}},"type":"Var","value":{"identifier":"rules","sourcePos":[158,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[159,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[160,11],"start":[160,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,11],"start":[160,10]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[160,22],"start":[160,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,16],"start":[160,15]}},"type":"Var","value":{"identifier":"r","sourcePos":[160,10]}},"fieldName":"apply","type":"Accessor"},"annotation":{"meta":null,"sourceSpan":{"end":[160,27],"start":[160,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,27],"start":[160,23]}},"type":"Var","value":{"identifier":"node","sourcePos":[158,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[161,12],"start":[161,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[161,16]}},"type":"Var","value":{"identifier":"node","sourcePos":[158,1]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,10],"start":[153,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"applyFirstMatch"},{"annotation":{"meta":null,"sourceSpan":{"end":[147,16],"start":[143,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,16],"start":[143,1]}},"argument":"rules","body":{"annotation":{"meta":null,"sourceSpan":{"end":[147,16],"start":[143,1]}},"argument":"nodes","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["PSD3","Scene","Rules"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,53],"start":[148,26]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[148,46],"start":[148,31]}},"type":"Var","value":{"identifier":"applyFirstMatch","moduleName":["PSD3","Scene","Rules"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,52],"start":[148,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,52],"start":[148,47]}},"type":"Var","value":{"identifier":"rules","sourcePos":[148,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,59],"start":[148,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,59],"start":[148,54]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[148,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"applyRules"}],"exports":["rule","ruleAll","pinAtCurrent","pinAt","unpin","setPosition","applyRules","applyFirstMatch"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["Data","Nullable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["PSD3","Scene","Rules"]},{"annotation":{"meta":null,"sourceSpan":{"end":[34,44],"start":[34,1]}},"moduleName":["PSD3","Scene","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[28,15],"start":[28,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["PSD3","Scene","Rules"],"modulePath":"../purescript-psd3-simulation/src/PSD3/Scene/Rules.purs","reExports":{"PSD3.Scene.Types":[]},"sourceSpan":{"end":[161,20],"start":[12,1]}}